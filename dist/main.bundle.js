(()=>{var t={4478:(t,e,n)=>{"use strict";t.exports=function(t,e){t=t||document.body;var n=[.01,1/0];"distanceLimits"in(e=e||{})&&(n[0]=e.distanceLimits[0],n[1]=e.distanceLimits[1]),"zoomMin"in e&&(n[0]=e.zoomMin),"zoomMax"in e&&(n[1]=e.zoomMax);var c=a({center:e.center||[0,0,0],up:e.up||[0,1,0],eye:e.eye||[0,0,10],mode:e.mode||"orbit",distanceLimits:n}),h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0,l=t.clientWidth,v=t.clientHeight,M={view:c,element:t,delay:e.delay||16,rotateSpeed:e.rotateSpeed||1,zoomSpeed:e.zoomSpeed||1,translateSpeed:e.translateSpeed||1,flipX:!!e.flipX,flipY:!!e.flipY,modes:c.modes,tick:function(){var e=r(),n=this.delay;c.idle(e-n),c.flush(e-(100+2*n));var a=e-2*n;c.recalcMatrix(a);for(var i=!0,o=c.computedMatrix,s=0;s<16;++s)i=i&&h[s]===o[s],h[s]=o[s];var u=t.clientWidth===l&&t.clientHeight===v;return l=t.clientWidth,v=t.clientHeight,i?!u:(f=Math.exp(c.computedRadius[0]),!0)},lookAt:function(t,e,n){c.lookAt(c.lastT(),t,e,n)},rotate:function(t,e,n){c.rotate(c.lastT(),t,e,n)},pan:function(t,e,n){c.pan(c.lastT(),t,e,n)},translate:function(t,e,n){c.translate(c.lastT(),t,e,n)}};Object.defineProperties(M,{matrix:{get:function(){return c.computedMatrix},set:function(t){return c.setMatrix(c.lastT(),t),c.computedMatrix},enumerable:!0},mode:{get:function(){return c.getMode()},set:function(t){return c.setMode(t),c.getMode()},enumerable:!0},center:{get:function(){return c.computedCenter},set:function(t){return c.lookAt(c.lastT(),t),c.computedCenter},enumerable:!0},eye:{get:function(){return c.computedEye},set:function(t){return c.lookAt(c.lastT(),null,t),c.computedEye},enumerable:!0},up:{get:function(){return c.computedUp},set:function(t){return c.lookAt(c.lastT(),null,null,t),c.computedUp},enumerable:!0},distance:{get:function(){return f},set:function(t){return c.setDistance(c.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return c.getDistanceLimits(n)},set:function(t){return c.setDistanceLimits(t),t},enumerable:!0}}),t.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1}));var m=0,d=0,p={shift:!1,control:!1,alt:!1,meta:!1};function b(e,n,a,i){var o=1/t.clientHeight,s=o*(n-m),u=o*(a-d),h=M.flipX?1:-1,l=M.flipY?1:-1,v=Math.PI*M.rotateSpeed,b=r();if(1&e)i.shift?c.rotate(b,0,0,-s*v):c.rotate(b,h*v*s,-l*v*u,0);else if(2&e)c.pan(b,-M.translateSpeed*s*f,M.translateSpeed*u*f,0);else if(4&e){var x=M.zoomSpeed*u/window.innerHeight*(b-c.lastT())*50;c.pan(b,0,0,f*(Math.exp(x)-1))}m=n,d=a,p=i}return i(t,b),t.addEventListener("touchstart",(function(e){var n=s(e.changedTouches[0],t);b(0,n[0],n[1],p),b(1,n[0],n[1],p),e.preventDefault()}),!!u&&{passive:!1}),t.addEventListener("touchmove",(function(e){var n=s(e.changedTouches[0],t);b(1,n[0],n[1],p),e.preventDefault()}),!!u&&{passive:!1}),t.addEventListener("touchend",(function(e){s(e.changedTouches[0],t),b(0,m,d,p),e.preventDefault()}),!!u&&{passive:!1}),o(t,(function(t,e,n){var a=M.flipX?1:-1,i=M.flipY?1:-1,o=r();if(Math.abs(t)>Math.abs(e))c.rotate(o,0,0,-t*a*Math.PI*M.rotateSpeed/window.innerWidth);else{var s=M.zoomSpeed*i*e/window.innerHeight*(o-c.lastT())/100;c.pan(o,0,0,f*(Math.exp(s)-1))}}),!0),M};var r=n(698),a=n(3991),i=n(685),o=n(2232),s=n(675),u=n(6795)},3991:(t,e,n)=>{"use strict";t.exports=function(t){var e=(t=t||{}).eye||[0,0,1],n=t.center||[0,0,0],s=t.up||[0,1,0],u=t.distanceLimits||[0,1/0],c=t.mode||"turntable",h=r(),f=a(),l=i();return h.setDistanceLimits(u[0],u[1]),h.lookAt(0,e,n,s),f.setDistanceLimits(u[0],u[1]),f.lookAt(0,e,n,s),l.setDistanceLimits(u[0],u[1]),l.lookAt(0,e,n,s),new o({turntable:h,orbit:f,matrix:l},c)};var r=n(8786),a=n(809),i=n(7622);function o(t,e){this._controllerNames=Object.keys(t),this._controllerList=this._controllerNames.map((function(e){return t[e]})),this._mode=e,this._active=t[e],this._active||(this._mode="turntable",this._active=t.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=o.prototype;s.flush=function(t){for(var e=this._controllerList,n=0;n<e.length;++n)e[n].flush(t)},s.idle=function(t){for(var e=this._controllerList,n=0;n<e.length;++n)e[n].idle(t)},s.lookAt=function(t,e,n,r){for(var a=this._controllerList,i=0;i<a.length;++i)a[i].lookAt(t,e,n,r)},s.rotate=function(t,e,n,r){for(var a=this._controllerList,i=0;i<a.length;++i)a[i].rotate(t,e,n,r)},s.pan=function(t,e,n,r){for(var a=this._controllerList,i=0;i<a.length;++i)a[i].pan(t,e,n,r)},s.translate=function(t,e,n,r){for(var a=this._controllerList,i=0;i<a.length;++i)a[i].translate(t,e,n,r)},s.setMatrix=function(t,e){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setMatrix(t,e)},s.setDistanceLimits=function(t,e){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setDistanceLimits(t,e)},s.setDistance=function(t,e){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setDistance(t,e)},s.recalcMatrix=function(t){this._active.recalcMatrix(t)},s.getDistance=function(t){return this._active.getDistance(t)},s.getDistanceLimits=function(t){return this._active.getDistanceLimits(t)},s.lastT=function(){return this._active.lastT()},s.setMode=function(t){if(t!==this._mode){var e=this._controllerNames.indexOf(t);if(!(e<0)){var n=this._active,r=this._controllerList[e],a=Math.max(n.lastT(),r.lastT());n.recalcMatrix(a),r.setMatrix(a,n.computedMatrix),this._active=r,this._mode=t,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode}},3076:t=>{"use strict";function e(t,e,n,r,a){for(var i=a+1;r<=a;){var o=r+a>>>1,s=t[o];(void 0!==n?n(s,e):s-e)>=0?(i=o,a=o-1):r=o+1}return i}function n(t,e,n,r,a){for(var i=a+1;r<=a;){var o=r+a>>>1,s=t[o];(void 0!==n?n(s,e):s-e)>0?(i=o,a=o-1):r=o+1}return i}function r(t,e,n,r,a){for(var i=r-1;r<=a;){var o=r+a>>>1,s=t[o];(void 0!==n?n(s,e):s-e)<0?(i=o,r=o+1):a=o-1}return i}function a(t,e,n,r,a){for(var i=r-1;r<=a;){var o=r+a>>>1,s=t[o];(void 0!==n?n(s,e):s-e)<=0?(i=o,r=o+1):a=o-1}return i}function i(t,e,n,r,a){for(;r<=a;){var i=r+a>>>1,o=t[i],s=void 0!==n?n(o,e):o-e;if(0===s)return i;s<=0?r=i+1:a=i-1}return-1}function o(t,e,n,r,a,i){return"function"==typeof n?i(t,e,n,void 0===r?0:0|r,void 0===a?t.length-1:0|a):i(t,e,void 0,void 0===n?0:0|n,void 0===r?t.length-1:0|r)}t.exports={ge:function(t,n,r,a,i){return o(t,n,r,a,i,e)},gt:function(t,e,r,a,i){return o(t,e,r,a,i,n)},lt:function(t,e,n,a,i){return o(t,e,n,a,i,r)},le:function(t,e,n,r,i){return o(t,e,n,r,i,a)},eq:function(t,e,n,r,a){return o(t,e,n,r,a,i)}}},617:t=>{"use strict";t.exports=function(t,e,n,r,a,i){var o=a-1,s=a*a,u=o*o,c=(1+2*a)*u,h=a*u,f=s*(3-2*a),l=s*o;if(t.length){i||(i=new Array(t.length));for(var v=t.length-1;v>=0;--v)i[v]=c*t[v]+h*e[v]+f*n[v]+l*r[v];return i}return c*t+h*e+f*n+l*r},t.exports.derivative=function(t,e,n,r,a,i){var o=6*a*a-6*a,s=3*a*a-4*a+1,u=-6*a*a+6*a,c=3*a*a-2*a;if(t.length){i||(i=new Array(t.length));for(var h=t.length-1;h>=0;--h)i[h]=o*t[h]+s*e[h]+u*n[h]+c*r[h];return i}return o*t+s*e+u*n[h]+c*r}},4173:(t,e,n)=>{"use strict";t.exports=function(t,e,n){switch(arguments.length){case 0:return new o([0],[0],0);case 1:return"number"==typeof t?new o(r=u(t),r,0):new o(t,u(t.length),0);case 2:if("number"==typeof e){var r=u(t.length);return new o(t,r,+e)}n=0;case 3:if(t.length!==e.length)throw new Error("state and velocity lengths must match");return new o(t,e,n)}};var r=n(617),a=n(3076);function i(t,e,n){return Math.min(e,Math.max(t,n))}function o(t,e,n){this.dimension=t.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var r=0;r<this.dimension;++r)this.bounds[0][r]=-1/0,this.bounds[1][r]=1/0;this._state=t.slice().reverse(),this._velocity=e.slice().reverse(),this._time=[n],this._scratch=[t.slice(),t.slice(),t.slice(),t.slice(),t.slice()]}var s=o.prototype;function u(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}s.flush=function(t){var e=a.gt(this._time,t)-1;e<=0||(this._time.splice(0,e),this._state.splice(0,e*this.dimension),this._velocity.splice(0,e*this.dimension))},s.curve=function(t){var e=this._time,n=e.length,o=a.le(e,t),s=this._scratch[0],u=this._state,c=this._velocity,h=this.dimension,f=this.bounds;if(o<0)for(var l=h-1,v=0;v<h;++v,--l)s[v]=u[l];else if(o>=n-1){l=u.length-1;var M=t-e[n-1];for(v=0;v<h;++v,--l)s[v]=u[l]+M*c[l]}else{l=h*(o+1)-1;var m=e[o],d=e[o+1]-m||1,p=this._scratch[1],b=this._scratch[2],x=this._scratch[3],g=this._scratch[4],y=!0;for(v=0;v<h;++v,--l)p[v]=u[l],x[v]=c[l]*d,b[v]=u[l+h],g[v]=c[l+h]*d,y=y&&p[v]===b[v]&&x[v]===g[v]&&0===x[v];if(y)for(v=0;v<h;++v)s[v]=p[v];else r(p,x,b,g,(t-m)/d,s)}var w=f[0],P=f[1];for(v=0;v<h;++v)s[v]=i(w[v],P[v],s[v]);return s},s.dcurve=function(t){var e=this._time,n=e.length,i=a.le(e,t),o=this._scratch[0],s=this._state,u=this._velocity,c=this.dimension;if(i>=n-1)for(var h=s.length-1,f=(e[n-1],0);f<c;++f,--h)o[f]=u[h];else{h=c*(i+1)-1;var l=e[i],v=e[i+1]-l||1,M=this._scratch[1],m=this._scratch[2],d=this._scratch[3],p=this._scratch[4],b=!0;for(f=0;f<c;++f,--h)M[f]=s[h],d[f]=u[h]*v,m[f]=s[h+c],p[f]=u[h+c]*v,b=b&&M[f]===m[f]&&d[f]===p[f]&&0===d[f];if(b)for(f=0;f<c;++f)o[f]=0;else for(r.derivative(M,d,m,p,(t-l)/v,o),f=0;f<c;++f)o[f]/=v}return o},s.lastT=function(){var t=this._time;return t[t.length-1]},s.stable=function(){for(var t=this._velocity,e=t.length,n=this.dimension-1;n>=0;--n)if(t[--e])return!1;return!0},s.jump=function(t){var e=this.lastT(),n=this.dimension;if(!(t<e||arguments.length!==n+1)){var r=this._state,a=this._velocity,o=r.length-this.dimension,s=this.bounds,u=s[0],c=s[1];this._time.push(e,t);for(var h=0;h<2;++h)for(var f=0;f<n;++f)r.push(r[o++]),a.push(0);for(this._time.push(t),f=n;f>0;--f)r.push(i(u[f-1],c[f-1],arguments[f])),a.push(0)}},s.push=function(t){var e=this.lastT(),n=this.dimension;if(!(t<e||arguments.length!==n+1)){var r=this._state,a=this._velocity,o=r.length-this.dimension,s=t-e,u=this.bounds,c=u[0],h=u[1],f=s>1e-6?1/s:0;this._time.push(t);for(var l=n;l>0;--l){var v=i(c[l-1],h[l-1],arguments[l]);r.push(v),a.push((v-r[o++])*f)}}},s.set=function(t){var e=this.dimension;if(!(t<this.lastT()||arguments.length!==e+1)){var n=this._state,r=this._velocity,a=this.bounds,o=a[0],s=a[1];this._time.push(t);for(var u=e;u>0;--u)n.push(i(o[u-1],s[u-1],arguments[u])),r.push(0)}},s.move=function(t){var e=this.lastT(),n=this.dimension;if(!(t<=e||arguments.length!==n+1)){var r=this._state,a=this._velocity,o=r.length-this.dimension,s=this.bounds,u=s[0],c=s[1],h=t-e,f=h>1e-6?1/h:0;this._time.push(t);for(var l=n;l>0;--l){var v=arguments[l];r.push(i(u[l-1],c[l-1],r[o++]+v)),a.push(v*f)}}},s.idle=function(t){var e=this.lastT();if(!(t<e)){var n=this.dimension,r=this._state,a=this._velocity,o=r.length-n,s=this.bounds,u=s[0],c=s[1],h=t-e;this._time.push(t);for(var f=n-1;f>=0;--f)r.push(i(u[f],c[f],r[o]+h*a[o])),a.push(0),o+=1}}},8447:t=>{t.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},6252:t=>{t.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7919:t=>{t.exports=function(t){var e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],o=t[5],s=t[6],u=t[7],c=t[8],h=t[9],f=t[10],l=t[11],v=t[12],M=t[13],m=t[14],d=t[15];return(e*o-n*i)*(f*d-l*m)-(e*s-r*i)*(h*d-l*M)+(e*u-a*i)*(h*m-f*M)+(n*s-r*o)*(c*d-l*v)-(n*u-a*o)*(c*m-f*v)+(r*u-a*s)*(c*M-h*v)}},7127:t=>{t.exports=function(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n+n,s=r+r,u=a+a,c=n*o,h=r*o,f=r*s,l=a*o,v=a*s,M=a*u,m=i*o,d=i*s,p=i*u;return t[0]=1-f-M,t[1]=h+p,t[2]=l-d,t[3]=0,t[4]=h-p,t[5]=1-c-M,t[6]=v+m,t[7]=0,t[8]=l+d,t[9]=v-m,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},1872:t=>{t.exports=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=r+r,u=a+a,c=i+i,h=r*s,f=r*u,l=r*c,v=a*u,M=a*c,m=i*c,d=o*s,p=o*u,b=o*c;return t[0]=1-(v+m),t[1]=f+b,t[2]=l-p,t[3]=0,t[4]=f-b,t[5]=1-(h+m),t[6]=M+d,t[7]=0,t[8]=l+p,t[9]=M-d,t[10]=1-(h+v),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}},6312:t=>{t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},4481:t=>{t.exports=function(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=e[9],l=e[10],v=e[11],M=e[12],m=e[13],d=e[14],p=e[15],b=n*s-r*o,x=n*u-a*o,g=n*c-i*o,y=r*u-a*s,w=r*c-i*s,P=a*c-i*u,_=h*m-f*M,q=h*d-l*M,L=h*p-v*M,A=f*d-l*m,T=f*p-v*m,C=l*p-v*d,E=b*C-x*T+g*A+y*L-w*q+P*_;return E?(E=1/E,t[0]=(s*C-u*T+c*A)*E,t[1]=(a*T-r*C-i*A)*E,t[2]=(m*P-d*w+p*y)*E,t[3]=(l*w-f*P-v*y)*E,t[4]=(u*L-o*C-c*q)*E,t[5]=(n*C-a*L+i*q)*E,t[6]=(d*g-M*P-p*x)*E,t[7]=(h*P-l*g+v*x)*E,t[8]=(o*T-s*L+c*_)*E,t[9]=(r*L-n*T-i*_)*E,t[10]=(M*w-m*g+p*b)*E,t[11]=(f*g-h*w-v*b)*E,t[12]=(s*q-o*A-u*_)*E,t[13]=(n*A-r*q+a*_)*E,t[14]=(m*x-M*y-d*b)*E,t[15]=(h*y-f*x+l*b)*E,t):null}},4727:(t,e,n)=>{var r=n(6312);t.exports=function(t,e,n,a){var i,o,s,u,c,h,f,l,v,M,m=e[0],d=e[1],p=e[2],b=a[0],x=a[1],g=a[2],y=n[0],w=n[1],P=n[2];return Math.abs(m-y)<1e-6&&Math.abs(d-w)<1e-6&&Math.abs(p-P)<1e-6?r(t):(f=m-y,l=d-w,v=p-P,i=x*(v*=M=1/Math.sqrt(f*f+l*l+v*v))-g*(l*=M),o=g*(f*=M)-b*v,s=b*l-x*f,(M=Math.sqrt(i*i+o*o+s*s))?(i*=M=1/M,o*=M,s*=M):(i=0,o=0,s=0),u=l*s-v*o,c=v*i-f*s,h=f*o-l*i,(M=Math.sqrt(u*u+c*c+h*h))?(u*=M=1/M,c*=M,h*=M):(u=0,c=0,h=0),t[0]=i,t[1]=u,t[2]=f,t[3]=0,t[4]=o,t[5]=c,t[6]=l,t[7]=0,t[8]=s,t[9]=h,t[10]=v,t[11]=0,t[12]=-(i*m+o*d+s*p),t[13]=-(u*m+c*d+h*p),t[14]=-(f*m+l*d+v*p),t[15]=1,t)}},9401:t=>{t.exports=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=e[9],v=e[10],M=e[11],m=e[12],d=e[13],p=e[14],b=e[15],x=n[0],g=n[1],y=n[2],w=n[3];return t[0]=x*r+g*s+y*f+w*m,t[1]=x*a+g*u+y*l+w*d,t[2]=x*i+g*c+y*v+w*p,t[3]=x*o+g*h+y*M+w*b,x=n[4],g=n[5],y=n[6],w=n[7],t[4]=x*r+g*s+y*f+w*m,t[5]=x*a+g*u+y*l+w*d,t[6]=x*i+g*c+y*v+w*p,t[7]=x*o+g*h+y*M+w*b,x=n[8],g=n[9],y=n[10],w=n[11],t[8]=x*r+g*s+y*f+w*m,t[9]=x*a+g*u+y*l+w*d,t[10]=x*i+g*c+y*v+w*p,t[11]=x*o+g*h+y*M+w*b,x=n[12],g=n[13],y=n[14],w=n[15],t[12]=x*r+g*s+y*f+w*m,t[13]=x*a+g*u+y*l+w*d,t[14]=x*i+g*c+y*v+w*p,t[15]=x*o+g*h+y*M+w*b,t}},397:t=>{t.exports=function(t,e,n,r){var a,i,o,s,u,c,h,f,l,v,M,m,d,p,b,x,g,y,w,P,_,q,L,A,T=r[0],C=r[1],E=r[2],D=Math.sqrt(T*T+C*C+E*E);return Math.abs(D)<1e-6?null:(T*=D=1/D,C*=D,E*=D,a=Math.sin(n),o=1-(i=Math.cos(n)),s=e[0],u=e[1],c=e[2],h=e[3],f=e[4],l=e[5],v=e[6],M=e[7],m=e[8],d=e[9],p=e[10],b=e[11],x=T*T*o+i,g=C*T*o+E*a,y=E*T*o-C*a,w=T*C*o-E*a,P=C*C*o+i,_=E*C*o+T*a,q=T*E*o+C*a,L=C*E*o-T*a,A=E*E*o+i,t[0]=s*x+f*g+m*y,t[1]=u*x+l*g+d*y,t[2]=c*x+v*g+p*y,t[3]=h*x+M*g+b*y,t[4]=s*w+f*P+m*_,t[5]=u*w+l*P+d*_,t[6]=c*w+v*P+p*_,t[7]=h*w+M*P+b*_,t[8]=s*q+f*L+m*A,t[9]=u*q+l*L+d*A,t[10]=c*q+v*L+p*A,t[11]=h*q+M*L+b*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}},4663:t=>{t.exports=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],h=e[9],f=e[10],l=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+c*r,t[5]=o*a+h*r,t[6]=s*a+f*r,t[7]=u*a+l*r,t[8]=c*a-i*r,t[9]=h*a-o*r,t[10]=f*a-s*r,t[11]=l*a-u*r,t}},2113:t=>{t.exports=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[0],o=e[1],s=e[2],u=e[3],c=e[8],h=e[9],f=e[10],l=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-c*r,t[1]=o*a-h*r,t[2]=s*a-f*r,t[3]=u*a-l*r,t[8]=i*r+c*a,t[9]=o*r+h*a,t[10]=s*r+f*a,t[11]=u*r+l*a,t}},974:t=>{t.exports=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[0],o=e[1],s=e[2],u=e[3],c=e[4],h=e[5],f=e[6],l=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+c*r,t[1]=o*a+h*r,t[2]=s*a+f*r,t[3]=u*a+l*r,t[4]=c*a-i*r,t[5]=h*a-o*r,t[6]=f*a-s*r,t[7]=l*a-u*r,t}},4028:t=>{t.exports=function(t,e,n){var r=n[0],a=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},2602:t=>{t.exports=function(t,e,n){var r,a,i,o,s,u,c,h,f,l,v,M,m=n[0],d=n[1],p=n[2];return e===t?(t[12]=e[0]*m+e[4]*d+e[8]*p+e[12],t[13]=e[1]*m+e[5]*d+e[9]*p+e[13],t[14]=e[2]*m+e[6]*d+e[10]*p+e[14],t[15]=e[3]*m+e[7]*d+e[11]*p+e[15]):(r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=e[9],v=e[10],M=e[11],t[0]=r,t[1]=a,t[2]=i,t[3]=o,t[4]=s,t[5]=u,t[6]=c,t[7]=h,t[8]=f,t[9]=l,t[10]=v,t[11]=M,t[12]=r*m+s*d+f*p+e[12],t[13]=a*m+u*d+l*p+e[13],t[14]=i*m+c*d+v*p+e[14],t[15]=o*m+h*d+M*p+e[15]),t}},9683:t=>{t.exports=function(t,e){if(t===e){var n=e[1],r=e[2],a=e[3],i=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=a,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},887:(t,e,n)=>{"use strict";n.r(e),n.d(e,{glMatrix:()=>r,mat2:()=>a,mat2d:()=>i,mat3:()=>o,mat4:()=>s,quat:()=>h,quat2:()=>f,vec2:()=>l,vec3:()=>u,vec4:()=>c});var r={};n.r(r),n.d(r,{ARRAY_TYPE:()=>M,EPSILON:()=>v,RANDOM:()=>m,equals:()=>x,setMatrixArrayType:()=>d,toRadian:()=>b});var a={};n.r(a),n.d(a,{LDU:()=>k,add:()=>j,adjoint:()=>T,clone:()=>y,copy:()=>w,create:()=>g,determinant:()=>C,equals:()=>F,exactEquals:()=>B,frob:()=>z,fromRotation:()=>S,fromScaling:()=>I,fromValues:()=>_,identity:()=>P,invert:()=>A,mul:()=>W,multiply:()=>E,multiplyScalar:()=>V,multiplyScalarAndAdd:()=>G,rotate:()=>D,scale:()=>R,set:()=>q,str:()=>U,sub:()=>N,subtract:()=>O,transpose:()=>L});var i={};n.r(i),n.d(i,{add:()=>ct,clone:()=>X,copy:()=>H,create:()=>Y,determinant:()=>J,equals:()=>Mt,exactEquals:()=>vt,frob:()=>ut,fromRotation:()=>at,fromScaling:()=>it,fromTranslation:()=>ot,fromValues:()=>Z,identity:()=>K,invert:()=>Q,mul:()=>mt,multiply:()=>tt,multiplyScalar:()=>ft,multiplyScalarAndAdd:()=>lt,rotate:()=>et,scale:()=>nt,set:()=>$,str:()=>st,sub:()=>dt,subtract:()=>ht,translate:()=>rt});var o={};n.r(o),n.d(o,{add:()=>Ft,adjoint:()=>Lt,clone:()=>xt,copy:()=>gt,create:()=>pt,determinant:()=>At,equals:()=>Yt,exactEquals:()=>Nt,frob:()=>Bt,fromMat2d:()=>Ut,fromMat4:()=>bt,fromQuat:()=>zt,fromRotation:()=>St,fromScaling:()=>It,fromTranslation:()=>Rt,fromValues:()=>yt,identity:()=>Pt,invert:()=>qt,mul:()=>Xt,multiply:()=>Tt,multiplyScalar:()=>Gt,multiplyScalarAndAdd:()=>Wt,normalFromMat4:()=>kt,projection:()=>jt,rotate:()=>Et,scale:()=>Dt,set:()=>wt,str:()=>Ot,sub:()=>Ht,subtract:()=>Vt,translate:()=>Ct,transpose:()=>_t});var s={};n.r(s),n.d(s,{add:()=>je,adjoint:()=>re,clone:()=>Zt,copy:()=>$t,create:()=>Kt,determinant:()=>ae,equals:()=>Ge,exactEquals:()=>Ve,frob:()=>ke,fromQuat:()=>qe,fromQuat2:()=>xe,fromRotation:()=>Me,fromRotationTranslation:()=>be,fromRotationTranslationScale:()=>Pe,fromRotationTranslationScaleOrigin:()=>_e,fromScaling:()=>ve,fromTranslation:()=>le,fromValues:()=>Qt,fromXRotation:()=>me,fromYRotation:()=>de,fromZRotation:()=>pe,frustum:()=>Le,getRotation:()=>we,getScaling:()=>ye,getTranslation:()=>ge,identity:()=>te,invert:()=>ne,lookAt:()=>Ie,mul:()=>We,multiply:()=>ie,multiplyScalar:()=>Be,multiplyScalarAndAdd:()=>Fe,ortho:()=>Re,orthoNO:()=>De,orthoZO:()=>Se,perspective:()=>Te,perspectiveFromFieldOfView:()=>Ee,perspectiveNO:()=>Ae,perspectiveZO:()=>Ce,rotate:()=>ue,rotateX:()=>ce,rotateY:()=>he,rotateZ:()=>fe,scale:()=>se,set:()=>Jt,str:()=>ze,sub:()=>Ne,subtract:()=>Oe,targetTo:()=>Ue,translate:()=>oe,transpose:()=>ee});var u={};n.r(u),n.d(u,{add:()=>Qe,angle:()=>Tn,bezier:()=>gn,ceil:()=>nn,clone:()=>Xe,copy:()=>Ze,create:()=>Ye,cross:()=>pn,dist:()=>kn,distance:()=>hn,div:()=>zn,divide:()=>en,dot:()=>dn,equals:()=>Rn,exactEquals:()=>Dn,floor:()=>rn,forEach:()=>Fn,fromValues:()=>Ke,hermite:()=>xn,inverse:()=>Mn,len:()=>On,length:()=>He,lerp:()=>bn,max:()=>on,min:()=>an,mul:()=>Un,multiply:()=>tn,negate:()=>vn,normalize:()=>mn,random:()=>yn,rotateX:()=>qn,rotateY:()=>Ln,rotateZ:()=>An,round:()=>sn,scale:()=>un,scaleAndAdd:()=>cn,set:()=>$e,sqrDist:()=>jn,sqrLen:()=>Bn,squaredDistance:()=>fn,squaredLength:()=>ln,str:()=>En,sub:()=>In,subtract:()=>Je,transformMat3:()=>Pn,transformMat4:()=>wn,transformQuat:()=>_n,zero:()=>Cn});var c={};n.r(c),n.d(c,{add:()=>Xn,ceil:()=>$n,clone:()=>Gn,copy:()=>Nn,create:()=>Vn,cross:()=>lr,dist:()=>_r,distance:()=>ar,div:()=>Pr,divide:()=>Zn,dot:()=>fr,equals:()=>gr,exactEquals:()=>xr,floor:()=>Qn,forEach:()=>Tr,fromValues:()=>Wn,inverse:()=>cr,len:()=>Lr,length:()=>or,lerp:()=>vr,max:()=>tr,min:()=>Jn,mul:()=>wr,multiply:()=>Kn,negate:()=>ur,normalize:()=>hr,random:()=>Mr,round:()=>er,scale:()=>nr,scaleAndAdd:()=>rr,set:()=>Yn,sqrDist:()=>qr,sqrLen:()=>Ar,squaredDistance:()=>ir,squaredLength:()=>sr,str:()=>br,sub:()=>yr,subtract:()=>Hn,transformMat4:()=>mr,transformQuat:()=>dr,zero:()=>pr});var h={};n.r(h),n.d(h,{add:()=>ia,calculateW:()=>jr,clone:()=>ea,conjugate:()=>Nr,copy:()=>ra,create:()=>Cr,dot:()=>ua,equals:()=>da,exactEquals:()=>ma,exp:()=>Or,fromEuler:()=>Xr,fromMat3:()=>Yr,fromValues:()=>na,getAngle:()=>Sr,getAxisAngle:()=>Rr,identity:()=>Er,invert:()=>Wr,len:()=>fa,length:()=>ha,lerp:()=>ca,ln:()=>Br,mul:()=>oa,multiply:()=>Ir,normalize:()=>Ma,pow:()=>Fr,random:()=>Gr,rotateX:()=>Ur,rotateY:()=>zr,rotateZ:()=>kr,rotationTo:()=>pa,scale:()=>sa,set:()=>aa,setAxes:()=>xa,setAxisAngle:()=>Dr,slerp:()=>Vr,sqlerp:()=>ba,sqrLen:()=>va,squaredLength:()=>la,str:()=>Hr});var f={};n.r(f),n.d(f,{add:()=>Ga,clone:()=>ya,conjugate:()=>Za,copy:()=>Ta,create:()=>ga,dot:()=>Xa,equals:()=>ai,exactEquals:()=>ri,fromMat4:()=>Aa,fromRotation:()=>La,fromRotationTranslation:()=>_a,fromRotationTranslationValues:()=>Pa,fromTranslation:()=>qa,fromValues:()=>wa,getDual:()=>Ra,getReal:()=>Da,getTranslation:()=>Ua,identity:()=>Ca,invert:()=>Ka,len:()=>Qa,length:()=>$a,lerp:()=>Ha,mul:()=>Na,multiply:()=>Wa,normalize:()=>ei,rotateAroundAxis:()=>Va,rotateByQuatAppend:()=>Ba,rotateByQuatPrepend:()=>Fa,rotateX:()=>ka,rotateY:()=>ja,rotateZ:()=>Oa,scale:()=>Ya,set:()=>Ea,setDual:()=>Ia,setReal:()=>Sa,sqrLen:()=>ti,squaredLength:()=>Ja,str:()=>ni,translate:()=>za});var l={};n.r(l),n.d(l,{add:()=>hi,angle:()=>ki,ceil:()=>Mi,clone:()=>oi,copy:()=>ui,create:()=>ii,cross:()=>Ci,dist:()=>Yi,distance:()=>yi,div:()=>Ni,divide:()=>vi,dot:()=>Ti,equals:()=>Fi,exactEquals:()=>Bi,floor:()=>mi,forEach:()=>Ki,fromValues:()=>si,inverse:()=>Li,len:()=>Vi,length:()=>Pi,lerp:()=>Ei,max:()=>pi,min:()=>di,mul:()=>Wi,multiply:()=>li,negate:()=>qi,normalize:()=>Ai,random:()=>Di,rotate:()=>zi,round:()=>bi,scale:()=>xi,scaleAndAdd:()=>gi,set:()=>ci,sqrDist:()=>Xi,sqrLen:()=>Hi,squaredDistance:()=>wi,squaredLength:()=>_i,str:()=>Oi,sub:()=>Gi,subtract:()=>fi,transformMat2:()=>Ri,transformMat2d:()=>Si,transformMat3:()=>Ii,transformMat4:()=>Ui,zero:()=>ji});var v=1e-6,M="undefined"!=typeof Float32Array?Float32Array:Array,m=Math.random;function d(t){M=t}var p=Math.PI/180;function b(t){return t*p}function x(t,e){return Math.abs(t-e)<=v*Math.max(1,Math.abs(t),Math.abs(e))}function g(){var t=new M(4);return M!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function y(t){var e=new M(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function P(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function _(t,e,n,r){var a=new M(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a}function q(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t}function L(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function A(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n*i-a*r;return o?(o=1/o,t[0]=i*o,t[1]=-r*o,t[2]=-a*o,t[3]=n*o,t):null}function T(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function C(t){return t[0]*t[3]-t[2]*t[1]}function E(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=n[0],u=n[1],c=n[2],h=n[3];return t[0]=r*s+i*u,t[1]=a*s+o*u,t[2]=r*c+i*h,t[3]=a*c+o*h,t}function D(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=a*u+o*s,t[2]=r*-s+i*u,t[3]=a*-s+o*u,t}function R(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=a*s,t[2]=i*u,t[3]=o*u,t}function S(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function I(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function U(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function z(t){return Math.hypot(t[0],t[1],t[2],t[3])}function k(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function j(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function O(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function B(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function F(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],o=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(n-o)<=v*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=v*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-u)<=v*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=v*Math.max(1,Math.abs(i),Math.abs(c))}function V(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function G(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var W=E,N=O;function Y(){var t=new M(6);return M!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function X(t){var e=new M(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function H(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function K(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Z(t,e,n,r,a,i){var o=new M(6);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o[4]=a,o[5]=i,o}function $(t,e,n,r,a,i,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=o,t}function Q(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=n*i-r*a;return u?(u=1/u,t[0]=i*u,t[1]=-r*u,t[2]=-a*u,t[3]=n*u,t[4]=(a*s-i*o)*u,t[5]=(r*o-n*s)*u,t):null}function J(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=n[0],h=n[1],f=n[2],l=n[3],v=n[4],M=n[5];return t[0]=r*c+i*h,t[1]=a*c+o*h,t[2]=r*f+i*l,t[3]=a*f+o*l,t[4]=r*v+i*M+s,t[5]=a*v+o*M+u,t}function et(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=Math.sin(n),h=Math.cos(n);return t[0]=r*h+i*c,t[1]=a*h+o*c,t[2]=r*-c+i*h,t[3]=a*-c+o*h,t[4]=s,t[5]=u,t}function nt(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=n[0],h=n[1];return t[0]=r*c,t[1]=a*c,t[2]=i*h,t[3]=o*h,t[4]=s,t[5]=u,t}function rt(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=n[0],h=n[1];return t[0]=r,t[1]=a,t[2]=i,t[3]=o,t[4]=r*c+i*h+s,t[5]=a*c+o*h+u,t}function at(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function it(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function ot(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function st(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ut(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function ct(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function ht(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function ft(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function lt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function vt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function Mt(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=e[0],c=e[1],h=e[2],f=e[3],l=e[4],M=e[5];return Math.abs(n-u)<=v*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-c)<=v*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(a-h)<=v*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(i-f)<=v*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-l)<=v*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(s-M)<=v*Math.max(1,Math.abs(s),Math.abs(M))}var mt=tt,dt=ht;function pt(){var t=new M(9);return M!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function bt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function xt(t){var e=new M(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function gt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function yt(t,e,n,r,a,i,o,s,u){var c=new M(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=a,c[5]=i,c[6]=o,c[7]=s,c[8]=u,c}function wt(t,e,n,r,a,i,o,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=o,t[6]=s,t[7]=u,t[8]=c,t}function Pt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function _t(t,e){if(t===e){var n=e[1],r=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function qt(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=h*o-s*c,l=-h*i+s*u,v=c*i-o*u,M=n*f+r*l+a*v;return M?(M=1/M,t[0]=f*M,t[1]=(-h*r+a*c)*M,t[2]=(s*r-a*o)*M,t[3]=l*M,t[4]=(h*n-a*u)*M,t[5]=(-s*n+a*i)*M,t[6]=v*M,t[7]=(-c*n+r*u)*M,t[8]=(o*n-r*i)*M,t):null}function Lt(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=o*h-s*c,t[1]=a*c-r*h,t[2]=r*s-a*o,t[3]=s*u-i*h,t[4]=n*h-a*u,t[5]=a*i-n*s,t[6]=i*c-o*u,t[7]=r*u-n*c,t[8]=n*o-r*i,t}function At(t){var e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],o=t[5],s=t[6],u=t[7],c=t[8];return e*(c*i-o*u)+n*(-c*a+o*s)+r*(u*a-i*s)}function Tt(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=n[0],v=n[1],M=n[2],m=n[3],d=n[4],p=n[5],b=n[6],x=n[7],g=n[8];return t[0]=l*r+v*o+M*c,t[1]=l*a+v*s+M*h,t[2]=l*i+v*u+M*f,t[3]=m*r+d*o+p*c,t[4]=m*a+d*s+p*h,t[5]=m*i+d*u+p*f,t[6]=b*r+x*o+g*c,t[7]=b*a+x*s+g*h,t[8]=b*i+x*u+g*f,t}function Ct(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=n[0],v=n[1];return t[0]=r,t[1]=a,t[2]=i,t[3]=o,t[4]=s,t[5]=u,t[6]=l*r+v*o+c,t[7]=l*a+v*s+h,t[8]=l*i+v*u+f,t}function Et(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=Math.sin(n),v=Math.cos(n);return t[0]=v*r+l*o,t[1]=v*a+l*s,t[2]=v*i+l*u,t[3]=v*o-l*r,t[4]=v*s-l*a,t[5]=v*u-l*i,t[6]=c,t[7]=h,t[8]=f,t}function Dt(t,e,n){var r=n[0],a=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Rt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function St(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function It(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ut(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function zt(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n+n,s=r+r,u=a+a,c=n*o,h=r*o,f=r*s,l=a*o,v=a*s,M=a*u,m=i*o,d=i*s,p=i*u;return t[0]=1-f-M,t[3]=h-p,t[6]=l+d,t[1]=h+p,t[4]=1-c-M,t[7]=v-m,t[2]=l-d,t[5]=v+m,t[8]=1-c-f,t}function kt(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=e[9],l=e[10],v=e[11],M=e[12],m=e[13],d=e[14],p=e[15],b=n*s-r*o,x=n*u-a*o,g=n*c-i*o,y=r*u-a*s,w=r*c-i*s,P=a*c-i*u,_=h*m-f*M,q=h*d-l*M,L=h*p-v*M,A=f*d-l*m,T=f*p-v*m,C=l*p-v*d,E=b*C-x*T+g*A+y*L-w*q+P*_;return E?(E=1/E,t[0]=(s*C-u*T+c*A)*E,t[1]=(u*L-o*C-c*q)*E,t[2]=(o*T-s*L+c*_)*E,t[3]=(a*T-r*C-i*A)*E,t[4]=(n*C-a*L+i*q)*E,t[5]=(r*L-n*T-i*_)*E,t[6]=(m*P-d*w+p*y)*E,t[7]=(d*g-M*P-p*x)*E,t[8]=(M*w-m*g+p*b)*E,t):null}function jt(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Ot(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Bt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Ft(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function Vt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Gt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Wt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Nt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Yt(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],h=t[8],f=e[0],l=e[1],M=e[2],m=e[3],d=e[4],p=e[5],b=e[6],x=e[7],g=e[8];return Math.abs(n-f)<=v*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-l)<=v*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(a-M)<=v*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(i-m)<=v*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(o-d)<=v*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-p)<=v*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(u-b)<=v*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(c-x)<=v*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(h-g)<=v*Math.max(1,Math.abs(h),Math.abs(g))}var Xt=Tt,Ht=Vt;function Kt(){var t=new M(16);return M!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Zt(t){var e=new M(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function $t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Qt(t,e,n,r,a,i,o,s,u,c,h,f,l,v,m,d){var p=new M(16);return p[0]=t,p[1]=e,p[2]=n,p[3]=r,p[4]=a,p[5]=i,p[6]=o,p[7]=s,p[8]=u,p[9]=c,p[10]=h,p[11]=f,p[12]=l,p[13]=v,p[14]=m,p[15]=d,p}function Jt(t,e,n,r,a,i,o,s,u,c,h,f,l,v,M,m,d){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=o,t[6]=s,t[7]=u,t[8]=c,t[9]=h,t[10]=f,t[11]=l,t[12]=v,t[13]=M,t[14]=m,t[15]=d,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){var n=e[1],r=e[2],a=e[3],i=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=a,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function ne(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=e[9],l=e[10],v=e[11],M=e[12],m=e[13],d=e[14],p=e[15],b=n*s-r*o,x=n*u-a*o,g=n*c-i*o,y=r*u-a*s,w=r*c-i*s,P=a*c-i*u,_=h*m-f*M,q=h*d-l*M,L=h*p-v*M,A=f*d-l*m,T=f*p-v*m,C=l*p-v*d,E=b*C-x*T+g*A+y*L-w*q+P*_;return E?(E=1/E,t[0]=(s*C-u*T+c*A)*E,t[1]=(a*T-r*C-i*A)*E,t[2]=(m*P-d*w+p*y)*E,t[3]=(l*w-f*P-v*y)*E,t[4]=(u*L-o*C-c*q)*E,t[5]=(n*C-a*L+i*q)*E,t[6]=(d*g-M*P-p*x)*E,t[7]=(h*P-l*g+v*x)*E,t[8]=(o*T-s*L+c*_)*E,t[9]=(r*L-n*T-i*_)*E,t[10]=(M*w-m*g+p*b)*E,t[11]=(f*g-h*w-v*b)*E,t[12]=(s*q-o*A-u*_)*E,t[13]=(n*A-r*q+a*_)*E,t[14]=(m*x-M*y-d*b)*E,t[15]=(h*y-f*x+l*b)*E,t):null}function re(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=e[9],l=e[10],v=e[11],M=e[12],m=e[13],d=e[14],p=e[15];return t[0]=s*(l*p-v*d)-f*(u*p-c*d)+m*(u*v-c*l),t[1]=-(r*(l*p-v*d)-f*(a*p-i*d)+m*(a*v-i*l)),t[2]=r*(u*p-c*d)-s*(a*p-i*d)+m*(a*c-i*u),t[3]=-(r*(u*v-c*l)-s*(a*v-i*l)+f*(a*c-i*u)),t[4]=-(o*(l*p-v*d)-h*(u*p-c*d)+M*(u*v-c*l)),t[5]=n*(l*p-v*d)-h*(a*p-i*d)+M*(a*v-i*l),t[6]=-(n*(u*p-c*d)-o*(a*p-i*d)+M*(a*c-i*u)),t[7]=n*(u*v-c*l)-o*(a*v-i*l)+h*(a*c-i*u),t[8]=o*(f*p-v*m)-h*(s*p-c*m)+M*(s*v-c*f),t[9]=-(n*(f*p-v*m)-h*(r*p-i*m)+M*(r*v-i*f)),t[10]=n*(s*p-c*m)-o*(r*p-i*m)+M*(r*c-i*s),t[11]=-(n*(s*v-c*f)-o*(r*v-i*f)+h*(r*c-i*s)),t[12]=-(o*(f*d-l*m)-h*(s*d-u*m)+M*(s*l-u*f)),t[13]=n*(f*d-l*m)-h*(r*d-a*m)+M*(r*l-a*f),t[14]=-(n*(s*d-u*m)-o*(r*d-a*m)+M*(r*u-a*s)),t[15]=n*(s*l-u*f)-o*(r*l-a*f)+h*(r*u-a*s),t}function ae(t){var e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],o=t[5],s=t[6],u=t[7],c=t[8],h=t[9],f=t[10],l=t[11],v=t[12],M=t[13],m=t[14],d=t[15];return(e*o-n*i)*(f*d-l*m)-(e*s-r*i)*(h*d-l*M)+(e*u-a*i)*(h*m-f*M)+(n*s-r*o)*(c*d-l*v)-(n*u-a*o)*(c*m-f*v)+(r*u-a*s)*(c*M-h*v)}function ie(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=e[9],v=e[10],M=e[11],m=e[12],d=e[13],p=e[14],b=e[15],x=n[0],g=n[1],y=n[2],w=n[3];return t[0]=x*r+g*s+y*f+w*m,t[1]=x*a+g*u+y*l+w*d,t[2]=x*i+g*c+y*v+w*p,t[3]=x*o+g*h+y*M+w*b,x=n[4],g=n[5],y=n[6],w=n[7],t[4]=x*r+g*s+y*f+w*m,t[5]=x*a+g*u+y*l+w*d,t[6]=x*i+g*c+y*v+w*p,t[7]=x*o+g*h+y*M+w*b,x=n[8],g=n[9],y=n[10],w=n[11],t[8]=x*r+g*s+y*f+w*m,t[9]=x*a+g*u+y*l+w*d,t[10]=x*i+g*c+y*v+w*p,t[11]=x*o+g*h+y*M+w*b,x=n[12],g=n[13],y=n[14],w=n[15],t[12]=x*r+g*s+y*f+w*m,t[13]=x*a+g*u+y*l+w*d,t[14]=x*i+g*c+y*v+w*p,t[15]=x*o+g*h+y*M+w*b,t}function oe(t,e,n){var r,a,i,o,s,u,c,h,f,l,v,M,m=n[0],d=n[1],p=n[2];return e===t?(t[12]=e[0]*m+e[4]*d+e[8]*p+e[12],t[13]=e[1]*m+e[5]*d+e[9]*p+e[13],t[14]=e[2]*m+e[6]*d+e[10]*p+e[14],t[15]=e[3]*m+e[7]*d+e[11]*p+e[15]):(r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=e[9],v=e[10],M=e[11],t[0]=r,t[1]=a,t[2]=i,t[3]=o,t[4]=s,t[5]=u,t[6]=c,t[7]=h,t[8]=f,t[9]=l,t[10]=v,t[11]=M,t[12]=r*m+s*d+f*p+e[12],t[13]=a*m+u*d+l*p+e[13],t[14]=i*m+c*d+v*p+e[14],t[15]=o*m+h*d+M*p+e[15]),t}function se(t,e,n){var r=n[0],a=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ue(t,e,n,r){var a,i,o,s,u,c,h,f,l,M,m,d,p,b,x,g,y,w,P,_,q,L,A,T,C=r[0],E=r[1],D=r[2],R=Math.hypot(C,E,D);return R<v?null:(C*=R=1/R,E*=R,D*=R,a=Math.sin(n),o=1-(i=Math.cos(n)),s=e[0],u=e[1],c=e[2],h=e[3],f=e[4],l=e[5],M=e[6],m=e[7],d=e[8],p=e[9],b=e[10],x=e[11],g=C*C*o+i,y=E*C*o+D*a,w=D*C*o-E*a,P=C*E*o-D*a,_=E*E*o+i,q=D*E*o+C*a,L=C*D*o+E*a,A=E*D*o-C*a,T=D*D*o+i,t[0]=s*g+f*y+d*w,t[1]=u*g+l*y+p*w,t[2]=c*g+M*y+b*w,t[3]=h*g+m*y+x*w,t[4]=s*P+f*_+d*q,t[5]=u*P+l*_+p*q,t[6]=c*P+M*_+b*q,t[7]=h*P+m*_+x*q,t[8]=s*L+f*A+d*T,t[9]=u*L+l*A+p*T,t[10]=c*L+M*A+b*T,t[11]=h*L+m*A+x*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function ce(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],h=e[9],f=e[10],l=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+c*r,t[5]=o*a+h*r,t[6]=s*a+f*r,t[7]=u*a+l*r,t[8]=c*a-i*r,t[9]=h*a-o*r,t[10]=f*a-s*r,t[11]=l*a-u*r,t}function he(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[0],o=e[1],s=e[2],u=e[3],c=e[8],h=e[9],f=e[10],l=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-c*r,t[1]=o*a-h*r,t[2]=s*a-f*r,t[3]=u*a-l*r,t[8]=i*r+c*a,t[9]=o*r+h*a,t[10]=s*r+f*a,t[11]=u*r+l*a,t}function fe(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[0],o=e[1],s=e[2],u=e[3],c=e[4],h=e[5],f=e[6],l=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+c*r,t[1]=o*a+h*r,t[2]=s*a+f*r,t[3]=u*a+l*r,t[4]=c*a-i*r,t[5]=h*a-o*r,t[6]=f*a-s*r,t[7]=l*a-u*r,t}function le(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function ve(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Me(t,e,n){var r,a,i,o=n[0],s=n[1],u=n[2],c=Math.hypot(o,s,u);return c<v?null:(o*=c=1/c,s*=c,u*=c,r=Math.sin(e),i=1-(a=Math.cos(e)),t[0]=o*o*i+a,t[1]=s*o*i+u*r,t[2]=u*o*i-s*r,t[3]=0,t[4]=o*s*i-u*r,t[5]=s*s*i+a,t[6]=u*s*i+o*r,t[7]=0,t[8]=o*u*i+s*r,t[9]=s*u*i-o*r,t[10]=u*u*i+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function me(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function de(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pe(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function be(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=r+r,u=a+a,c=i+i,h=r*s,f=r*u,l=r*c,v=a*u,M=a*c,m=i*c,d=o*s,p=o*u,b=o*c;return t[0]=1-(v+m),t[1]=f+b,t[2]=l-p,t[3]=0,t[4]=f-b,t[5]=1-(h+m),t[6]=M+d,t[7]=0,t[8]=l+p,t[9]=M-d,t[10]=1-(h+v),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function xe(t,e){var n=new M(3),r=-e[0],a=-e[1],i=-e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=r*r+a*a+i*i+o*o;return f>0?(n[0]=2*(s*o+h*r+u*i-c*a)/f,n[1]=2*(u*o+h*a+c*r-s*i)/f,n[2]=2*(c*o+h*i+s*a-u*r)/f):(n[0]=2*(s*o+h*r+u*i-c*a),n[1]=2*(u*o+h*a+c*r-s*i),n[2]=2*(c*o+h*i+s*a-u*r)),be(t,e,n),t}function ge(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function ye(t,e){var n=e[0],r=e[1],a=e[2],i=e[4],o=e[5],s=e[6],u=e[8],c=e[9],h=e[10];return t[0]=Math.hypot(n,r,a),t[1]=Math.hypot(i,o,s),t[2]=Math.hypot(u,c,h),t}function we(t,e){var n=new M(3);ye(n,e);var r=1/n[0],a=1/n[1],i=1/n[2],o=e[0]*r,s=e[1]*a,u=e[2]*i,c=e[4]*r,h=e[5]*a,f=e[6]*i,l=e[8]*r,v=e[9]*a,m=e[10]*i,d=o+h+m,p=0;return d>0?(p=2*Math.sqrt(d+1),t[3]=.25*p,t[0]=(f-v)/p,t[1]=(l-u)/p,t[2]=(s-c)/p):o>h&&o>m?(p=2*Math.sqrt(1+o-h-m),t[3]=(f-v)/p,t[0]=.25*p,t[1]=(s+c)/p,t[2]=(l+u)/p):h>m?(p=2*Math.sqrt(1+h-o-m),t[3]=(l-u)/p,t[0]=(s+c)/p,t[1]=.25*p,t[2]=(f+v)/p):(p=2*Math.sqrt(1+m-o-h),t[3]=(s-c)/p,t[0]=(l+u)/p,t[1]=(f+v)/p,t[2]=.25*p),t}function Pe(t,e,n,r){var a=e[0],i=e[1],o=e[2],s=e[3],u=a+a,c=i+i,h=o+o,f=a*u,l=a*c,v=a*h,M=i*c,m=i*h,d=o*h,p=s*u,b=s*c,x=s*h,g=r[0],y=r[1],w=r[2];return t[0]=(1-(M+d))*g,t[1]=(l+x)*g,t[2]=(v-b)*g,t[3]=0,t[4]=(l-x)*y,t[5]=(1-(f+d))*y,t[6]=(m+p)*y,t[7]=0,t[8]=(v+b)*w,t[9]=(m-p)*w,t[10]=(1-(f+M))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function _e(t,e,n,r,a){var i=e[0],o=e[1],s=e[2],u=e[3],c=i+i,h=o+o,f=s+s,l=i*c,v=i*h,M=i*f,m=o*h,d=o*f,p=s*f,b=u*c,x=u*h,g=u*f,y=r[0],w=r[1],P=r[2],_=a[0],q=a[1],L=a[2],A=(1-(m+p))*y,T=(v+g)*y,C=(M-x)*y,E=(v-g)*w,D=(1-(l+p))*w,R=(d+b)*w,S=(M+x)*P,I=(d-b)*P,U=(1-(l+m))*P;return t[0]=A,t[1]=T,t[2]=C,t[3]=0,t[4]=E,t[5]=D,t[6]=R,t[7]=0,t[8]=S,t[9]=I,t[10]=U,t[11]=0,t[12]=n[0]+_-(A*_+E*q+S*L),t[13]=n[1]+q-(T*_+D*q+I*L),t[14]=n[2]+L-(C*_+R*q+U*L),t[15]=1,t}function qe(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n+n,s=r+r,u=a+a,c=n*o,h=r*o,f=r*s,l=a*o,v=a*s,M=a*u,m=i*o,d=i*s,p=i*u;return t[0]=1-f-M,t[1]=h+p,t[2]=l-d,t[3]=0,t[4]=h-p,t[5]=1-c-M,t[6]=v+m,t[7]=0,t[8]=l+d,t[9]=v-m,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Le(t,e,n,r,a,i,o){var s=1/(n-e),u=1/(a-r),c=1/(i-o);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(a+r)*u,t[10]=(o+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i*2*c,t[15]=0,t}function Ae(t,e,n,r,a){var i,o=1/Math.tan(e/2);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(i=1/(r-a),t[10]=(a+r)*i,t[14]=2*a*r*i):(t[10]=-1,t[14]=-2*r),t}var Te=Ae;function Ce(t,e,n,r,a){var i,o=1/Math.tan(e/2);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(i=1/(r-a),t[10]=a*i,t[14]=a*r*i):(t[10]=-1,t[14]=-r),t}function Ee(t,e,n,r){var a=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+s),c=2/(a+i);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-s)*u*.5,t[9]=(a-i)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function De(t,e,n,r,a,i,o){var s=1/(e-n),u=1/(r-a),c=1/(i-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(a+r)*u,t[14]=(o+i)*c,t[15]=1,t}var Re=De;function Se(t,e,n,r,a,i,o){var s=1/(e-n),u=1/(r-a),c=1/(i-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=c,t[11]=0,t[12]=(e+n)*s,t[13]=(a+r)*u,t[14]=i*c,t[15]=1,t}function Ie(t,e,n,r){var a,i,o,s,u,c,h,f,l,M,m=e[0],d=e[1],p=e[2],b=r[0],x=r[1],g=r[2],y=n[0],w=n[1],P=n[2];return Math.abs(m-y)<v&&Math.abs(d-w)<v&&Math.abs(p-P)<v?te(t):(h=m-y,f=d-w,l=p-P,a=x*(l*=M=1/Math.hypot(h,f,l))-g*(f*=M),i=g*(h*=M)-b*l,o=b*f-x*h,(M=Math.hypot(a,i,o))?(a*=M=1/M,i*=M,o*=M):(a=0,i=0,o=0),s=f*o-l*i,u=l*a-h*o,c=h*i-f*a,(M=Math.hypot(s,u,c))?(s*=M=1/M,u*=M,c*=M):(s=0,u=0,c=0),t[0]=a,t[1]=s,t[2]=h,t[3]=0,t[4]=i,t[5]=u,t[6]=f,t[7]=0,t[8]=o,t[9]=c,t[10]=l,t[11]=0,t[12]=-(a*m+i*d+o*p),t[13]=-(s*m+u*d+c*p),t[14]=-(h*m+f*d+l*p),t[15]=1,t)}function Ue(t,e,n,r){var a=e[0],i=e[1],o=e[2],s=r[0],u=r[1],c=r[2],h=a-n[0],f=i-n[1],l=o-n[2],v=h*h+f*f+l*l;v>0&&(h*=v=1/Math.sqrt(v),f*=v,l*=v);var M=u*l-c*f,m=c*h-s*l,d=s*f-u*h;return(v=M*M+m*m+d*d)>0&&(M*=v=1/Math.sqrt(v),m*=v,d*=v),t[0]=M,t[1]=m,t[2]=d,t[3]=0,t[4]=f*d-l*m,t[5]=l*M-h*d,t[6]=h*m-f*M,t[7]=0,t[8]=h,t[9]=f,t[10]=l,t[11]=0,t[12]=a,t[13]=i,t[14]=o,t[15]=1,t}function ze(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function ke(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function je(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Oe(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Be(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Fe(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Ve(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Ge(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],h=t[8],f=t[9],l=t[10],M=t[11],m=t[12],d=t[13],p=t[14],b=t[15],x=e[0],g=e[1],y=e[2],w=e[3],P=e[4],_=e[5],q=e[6],L=e[7],A=e[8],T=e[9],C=e[10],E=e[11],D=e[12],R=e[13],S=e[14],I=e[15];return Math.abs(n-x)<=v*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(r-g)<=v*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(a-y)<=v*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(i-w)<=v*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-P)<=v*Math.max(1,Math.abs(o),Math.abs(P))&&Math.abs(s-_)<=v*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(u-q)<=v*Math.max(1,Math.abs(u),Math.abs(q))&&Math.abs(c-L)<=v*Math.max(1,Math.abs(c),Math.abs(L))&&Math.abs(h-A)<=v*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(f-T)<=v*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(l-C)<=v*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(M-E)<=v*Math.max(1,Math.abs(M),Math.abs(E))&&Math.abs(m-D)<=v*Math.max(1,Math.abs(m),Math.abs(D))&&Math.abs(d-R)<=v*Math.max(1,Math.abs(d),Math.abs(R))&&Math.abs(p-S)<=v*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(b-I)<=v*Math.max(1,Math.abs(b),Math.abs(I))}var We=ie,Ne=Oe;function Ye(){var t=new M(3);return M!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Xe(t){var e=new M(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function He(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function Ke(t,e,n){var r=new M(3);return r[0]=t,r[1]=e,r[2]=n,r}function Ze(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function $e(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Qe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Je(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function tn(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function en(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function nn(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function rn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function an(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function on(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function sn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function un(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function cn(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function hn(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return Math.hypot(n,r,a)}function fn(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return n*n+r*r+a*a}function ln(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function vn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Mn(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function mn(t,e){var n=e[0],r=e[1],a=e[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function dn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function pn(t,e,n){var r=e[0],a=e[1],i=e[2],o=n[0],s=n[1],u=n[2];return t[0]=a*u-i*s,t[1]=i*o-r*u,t[2]=r*s-a*o,t}function bn(t,e,n,r){var a=e[0],i=e[1],o=e[2];return t[0]=a+r*(n[0]-a),t[1]=i+r*(n[1]-i),t[2]=o+r*(n[2]-o),t}function xn(t,e,n,r,a,i){var o=i*i,s=o*(2*i-3)+1,u=o*(i-2)+i,c=o*(i-1),h=o*(3-2*i);return t[0]=e[0]*s+n[0]*u+r[0]*c+a[0]*h,t[1]=e[1]*s+n[1]*u+r[1]*c+a[1]*h,t[2]=e[2]*s+n[2]*u+r[2]*c+a[2]*h,t}function gn(t,e,n,r,a,i){var o=1-i,s=o*o,u=i*i,c=s*o,h=3*i*s,f=3*u*o,l=u*i;return t[0]=e[0]*c+n[0]*h+r[0]*f+a[0]*l,t[1]=e[1]*c+n[1]*h+r[1]*f+a[1]*l,t[2]=e[2]*c+n[2]*h+r[2]*f+a[2]*l,t}function yn(t,e){e=e||1;var n=2*m()*Math.PI,r=2*m()-1,a=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t[2]=r*e,t}function wn(t,e,n){var r=e[0],a=e[1],i=e[2],o=n[3]*r+n[7]*a+n[11]*i+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*a+n[8]*i+n[12])/o,t[1]=(n[1]*r+n[5]*a+n[9]*i+n[13])/o,t[2]=(n[2]*r+n[6]*a+n[10]*i+n[14])/o,t}function Pn(t,e,n){var r=e[0],a=e[1],i=e[2];return t[0]=r*n[0]+a*n[3]+i*n[6],t[1]=r*n[1]+a*n[4]+i*n[7],t[2]=r*n[2]+a*n[5]+i*n[8],t}function _n(t,e,n){var r=n[0],a=n[1],i=n[2],o=n[3],s=e[0],u=e[1],c=e[2],h=a*c-i*u,f=i*s-r*c,l=r*u-a*s,v=a*l-i*f,M=i*h-r*l,m=r*f-a*h,d=2*o;return h*=d,f*=d,l*=d,v*=2,M*=2,m*=2,t[0]=s+h+v,t[1]=u+f+M,t[2]=c+l+m,t}function qn(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[0],i[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),i[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function Ln(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),i[1]=a[1],i[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function An(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),i[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),i[2]=a[2],t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function Tn(t,e){var n=t[0],r=t[1],a=t[2],i=e[0],o=e[1],s=e[2],u=Math.sqrt(n*n+r*r+a*a)*Math.sqrt(i*i+o*o+s*s),c=u&&dn(t,e)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function Cn(t){return t[0]=0,t[1]=0,t[2]=0,t}function En(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Dn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Rn(t,e){var n=t[0],r=t[1],a=t[2],i=e[0],o=e[1],s=e[2];return Math.abs(n-i)<=v*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=v*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-s)<=v*Math.max(1,Math.abs(a),Math.abs(s))}var Sn,In=Je,Un=tn,zn=en,kn=hn,jn=fn,On=He,Bn=ln,Fn=(Sn=Ye(),function(t,e,n,r,a,i){var o,s;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,o=n;o<s;o+=e)Sn[0]=t[o],Sn[1]=t[o+1],Sn[2]=t[o+2],a(Sn,Sn,i),t[o]=Sn[0],t[o+1]=Sn[1],t[o+2]=Sn[2];return t});function Vn(){var t=new M(4);return M!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Gn(t){var e=new M(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Wn(t,e,n,r){var a=new M(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a}function Nn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Yn(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t}function Xn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function Hn(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function Kn(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function Zn(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function $n(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Qn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Jn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function tr(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function er(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function nr(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function rr(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function ar(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return Math.hypot(n,r,a,i)}function ir(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return n*n+r*r+a*a+i*i}function or(t){var e=t[0],n=t[1],r=t[2],a=t[3];return Math.hypot(e,n,r,a)}function sr(t){var e=t[0],n=t[1],r=t[2],a=t[3];return e*e+n*n+r*r+a*a}function ur(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function cr(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function hr(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n*n+r*r+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=a*o,t[3]=i*o,t}function fr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function lr(t,e,n,r){var a=n[0]*r[1]-n[1]*r[0],i=n[0]*r[2]-n[2]*r[0],o=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],u=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],h=e[0],f=e[1],l=e[2],v=e[3];return t[0]=f*c-l*u+v*s,t[1]=-h*c+l*o-v*i,t[2]=h*u-f*o+v*a,t[3]=-h*s+f*i-l*a,t}function vr(t,e,n,r){var a=e[0],i=e[1],o=e[2],s=e[3];return t[0]=a+r*(n[0]-a),t[1]=i+r*(n[1]-i),t[2]=o+r*(n[2]-o),t[3]=s+r*(n[3]-s),t}function Mr(t,e){var n,r,a,i,o,s;e=e||1;do{o=(n=2*m()-1)*n+(r=2*m()-1)*r}while(o>=1);do{s=(a=2*m()-1)*a+(i=2*m()-1)*i}while(s>=1);var u=Math.sqrt((1-o)/s);return t[0]=e*n,t[1]=e*r,t[2]=e*a*u,t[3]=e*i*u,t}function mr(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3];return t[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,t[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,t[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,t[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,t}function dr(t,e,n){var r=e[0],a=e[1],i=e[2],o=n[0],s=n[1],u=n[2],c=n[3],h=c*r+s*i-u*a,f=c*a+u*r-o*i,l=c*i+o*a-s*r,v=-o*r-s*a-u*i;return t[0]=h*c+v*-o+f*-u-l*-s,t[1]=f*c+v*-s+l*-o-h*-u,t[2]=l*c+v*-u+h*-s-f*-o,t[3]=e[3],t}function pr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function br(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function xr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function gr(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],o=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(n-o)<=v*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=v*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-u)<=v*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=v*Math.max(1,Math.abs(i),Math.abs(c))}var yr=Hn,wr=Kn,Pr=Zn,_r=ar,qr=ir,Lr=or,Ar=sr,Tr=function(){var t=Vn();return function(e,n,r,a,i,o){var s,u;for(n||(n=4),r||(r=0),u=a?Math.min(a*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],i(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();function Cr(){var t=new M(4);return M!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Er(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Dr(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function Rr(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>v?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Sr(t,e){var n=ua(t,e);return Math.acos(2*n*n-1)}function Ir(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=n[0],u=n[1],c=n[2],h=n[3];return t[0]=r*h+o*s+a*c-i*u,t[1]=a*h+o*u+i*s-r*c,t[2]=i*h+o*c+r*u-a*s,t[3]=o*h-r*s-a*u-i*c,t}function Ur(t,e,n){n*=.5;var r=e[0],a=e[1],i=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=a*u+i*s,t[2]=i*u-a*s,t[3]=o*u-r*s,t}function zr(t,e,n){n*=.5;var r=e[0],a=e[1],i=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-i*s,t[1]=a*u+o*s,t[2]=i*u+r*s,t[3]=o*u-a*s,t}function kr(t,e,n){n*=.5;var r=e[0],a=e[1],i=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=a*u-r*s,t[2]=i*u+o*s,t[3]=o*u-i*s,t}function jr(t,e){var n=e[0],r=e[1],a=e[2];return t[0]=n,t[1]=r,t[2]=a,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),t}function Or(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=Math.sqrt(n*n+r*r+a*a),s=Math.exp(i),u=o>0?s*Math.sin(o)/o:0;return t[0]=n*u,t[1]=r*u,t[2]=a*u,t[3]=s*Math.cos(o),t}function Br(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=Math.sqrt(n*n+r*r+a*a),s=o>0?Math.atan2(o,i)/o:0;return t[0]=n*s,t[1]=r*s,t[2]=a*s,t[3]=.5*Math.log(n*n+r*r+a*a+i*i),t}function Fr(t,e,n){return Br(t,e),sa(t,t,n),Or(t,t),t}function Vr(t,e,n,r){var a,i,o,s,u,c=e[0],h=e[1],f=e[2],l=e[3],M=n[0],m=n[1],d=n[2],p=n[3];return(i=c*M+h*m+f*d+l*p)<0&&(i=-i,M=-M,m=-m,d=-d,p=-p),1-i>v?(a=Math.acos(i),o=Math.sin(a),s=Math.sin((1-r)*a)/o,u=Math.sin(r*a)/o):(s=1-r,u=r),t[0]=s*c+u*M,t[1]=s*h+u*m,t[2]=s*f+u*d,t[3]=s*l+u*p,t}function Gr(t){var e=m(),n=m(),r=m(),a=Math.sqrt(1-e),i=Math.sqrt(e);return t[0]=a*Math.sin(2*Math.PI*n),t[1]=a*Math.cos(2*Math.PI*n),t[2]=i*Math.sin(2*Math.PI*r),t[3]=i*Math.cos(2*Math.PI*r),t}function Wr(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n*n+r*r+a*a+i*i,s=o?1/o:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-a*s,t[3]=i*s,t}function Nr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Yr(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;n=Math.sqrt(e[3*a+a]-e[3*i+i]-e[3*o+o]+1),t[a]=.5*n,n=.5/n,t[3]=(e[3*i+o]-e[3*o+i])*n,t[i]=(e[3*i+a]+e[3*a+i])*n,t[o]=(e[3*o+a]+e[3*a+o])*n}return t}function Xr(t,e,n,r){var a=.5*Math.PI/180;e*=a,n*=a,r*=a;var i=Math.sin(e),o=Math.cos(e),s=Math.sin(n),u=Math.cos(n),c=Math.sin(r),h=Math.cos(r);return t[0]=i*u*h-o*s*c,t[1]=o*s*h+i*u*c,t[2]=o*u*c-i*s*h,t[3]=o*u*h+i*s*c,t}function Hr(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Kr,Zr,$r,Qr,Jr,ta,ea=Gn,na=Wn,ra=Nn,aa=Yn,ia=Xn,oa=Ir,sa=nr,ua=fr,ca=vr,ha=or,fa=ha,la=sr,va=la,Ma=hr,ma=xr,da=gr,pa=(Kr=Ye(),Zr=Ke(1,0,0),$r=Ke(0,1,0),function(t,e,n){var r=dn(e,n);return r<-.999999?(pn(Kr,Zr,e),On(Kr)<1e-6&&pn(Kr,$r,e),mn(Kr,Kr),Dr(t,Kr,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(pn(Kr,e,n),t[0]=Kr[0],t[1]=Kr[1],t[2]=Kr[2],t[3]=1+r,Ma(t,t))}),ba=(Qr=Cr(),Jr=Cr(),function(t,e,n,r,a,i){return Vr(Qr,e,a,i),Vr(Jr,n,r,i),Vr(t,Qr,Jr,2*i*(1-i)),t}),xa=(ta=pt(),function(t,e,n,r){return ta[0]=n[0],ta[3]=n[1],ta[6]=n[2],ta[1]=r[0],ta[4]=r[1],ta[7]=r[2],ta[2]=-e[0],ta[5]=-e[1],ta[8]=-e[2],Ma(t,Yr(t,ta))});function ga(){var t=new M(8);return M!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function ya(t){var e=new M(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function wa(t,e,n,r,a,i,o,s){var u=new M(8);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=a,u[5]=i,u[6]=o,u[7]=s,u}function Pa(t,e,n,r,a,i,o){var s=new M(8);s[0]=t,s[1]=e,s[2]=n,s[3]=r;var u=.5*a,c=.5*i,h=.5*o;return s[4]=u*r+c*n-h*e,s[5]=c*r+h*t-u*n,s[6]=h*r+u*e-c*t,s[7]=-u*t-c*e-h*n,s}function _a(t,e,n){var r=.5*n[0],a=.5*n[1],i=.5*n[2],o=e[0],s=e[1],u=e[2],c=e[3];return t[0]=o,t[1]=s,t[2]=u,t[3]=c,t[4]=r*c+a*u-i*s,t[5]=a*c+i*o-r*u,t[6]=i*c+r*s-a*o,t[7]=-r*o-a*s-i*u,t}function qa(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function La(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Aa(t,e){var n=Cr();we(n,e);var r=new M(3);return ge(r,e),_a(t,n,r),t}function Ta(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Ca(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Ea(t,e,n,r,a,i,o,s,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=o,t[6]=s,t[7]=u,t}var Da=ra;function Ra(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var Sa=ra;function Ia(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function Ua(t,e){var n=e[4],r=e[5],a=e[6],i=e[7],o=-e[0],s=-e[1],u=-e[2],c=e[3];return t[0]=2*(n*c+i*o+r*u-a*s),t[1]=2*(r*c+i*s+a*o-n*u),t[2]=2*(a*c+i*u+n*s-r*o),t}function za(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=.5*n[0],u=.5*n[1],c=.5*n[2],h=e[4],f=e[5],l=e[6],v=e[7];return t[0]=r,t[1]=a,t[2]=i,t[3]=o,t[4]=o*s+a*c-i*u+h,t[5]=o*u+i*s-r*c+f,t[6]=o*c+r*u-a*s+l,t[7]=-r*s-a*u-i*c+v,t}function ka(t,e,n){var r=-e[0],a=-e[1],i=-e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=s*o+h*r+u*i-c*a,l=u*o+h*a+c*r-s*i,v=c*o+h*i+s*a-u*r,M=h*o-s*r-u*a-c*i;return Ur(t,e,n),r=t[0],a=t[1],i=t[2],o=t[3],t[4]=f*o+M*r+l*i-v*a,t[5]=l*o+M*a+v*r-f*i,t[6]=v*o+M*i+f*a-l*r,t[7]=M*o-f*r-l*a-v*i,t}function ja(t,e,n){var r=-e[0],a=-e[1],i=-e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=s*o+h*r+u*i-c*a,l=u*o+h*a+c*r-s*i,v=c*o+h*i+s*a-u*r,M=h*o-s*r-u*a-c*i;return zr(t,e,n),r=t[0],a=t[1],i=t[2],o=t[3],t[4]=f*o+M*r+l*i-v*a,t[5]=l*o+M*a+v*r-f*i,t[6]=v*o+M*i+f*a-l*r,t[7]=M*o-f*r-l*a-v*i,t}function Oa(t,e,n){var r=-e[0],a=-e[1],i=-e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=s*o+h*r+u*i-c*a,l=u*o+h*a+c*r-s*i,v=c*o+h*i+s*a-u*r,M=h*o-s*r-u*a-c*i;return kr(t,e,n),r=t[0],a=t[1],i=t[2],o=t[3],t[4]=f*o+M*r+l*i-v*a,t[5]=l*o+M*a+v*r-f*i,t[6]=v*o+M*i+f*a-l*r,t[7]=M*o-f*r-l*a-v*i,t}function Ba(t,e,n){var r=n[0],a=n[1],i=n[2],o=n[3],s=e[0],u=e[1],c=e[2],h=e[3];return t[0]=s*o+h*r+u*i-c*a,t[1]=u*o+h*a+c*r-s*i,t[2]=c*o+h*i+s*a-u*r,t[3]=h*o-s*r-u*a-c*i,s=e[4],u=e[5],c=e[6],h=e[7],t[4]=s*o+h*r+u*i-c*a,t[5]=u*o+h*a+c*r-s*i,t[6]=c*o+h*i+s*a-u*r,t[7]=h*o-s*r-u*a-c*i,t}function Fa(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=n[0],u=n[1],c=n[2],h=n[3];return t[0]=r*h+o*s+a*c-i*u,t[1]=a*h+o*u+i*s-r*c,t[2]=i*h+o*c+r*u-a*s,t[3]=o*h-r*s-a*u-i*c,s=n[4],u=n[5],c=n[6],h=n[7],t[4]=r*h+o*s+a*c-i*u,t[5]=a*h+o*u+i*s-r*c,t[6]=i*h+o*c+r*u-a*s,t[7]=o*h-r*s-a*u-i*c,t}function Va(t,e,n,r){if(Math.abs(r)<v)return Ta(t,e);var a=Math.hypot(n[0],n[1],n[2]);r*=.5;var i=Math.sin(r),o=i*n[0]/a,s=i*n[1]/a,u=i*n[2]/a,c=Math.cos(r),h=e[0],f=e[1],l=e[2],M=e[3];t[0]=h*c+M*o+f*u-l*s,t[1]=f*c+M*s+l*o-h*u,t[2]=l*c+M*u+h*s-f*o,t[3]=M*c-h*o-f*s-l*u;var m=e[4],d=e[5],p=e[6],b=e[7];return t[4]=m*c+b*o+d*u-p*s,t[5]=d*c+b*s+p*o-m*u,t[6]=p*c+b*u+m*s-d*o,t[7]=b*c-m*o-d*s-p*u,t}function Ga(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function Wa(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=n[4],u=n[5],c=n[6],h=n[7],f=e[4],l=e[5],v=e[6],M=e[7],m=n[0],d=n[1],p=n[2],b=n[3];return t[0]=r*b+o*m+a*p-i*d,t[1]=a*b+o*d+i*m-r*p,t[2]=i*b+o*p+r*d-a*m,t[3]=o*b-r*m-a*d-i*p,t[4]=r*h+o*s+a*c-i*u+f*b+M*m+l*p-v*d,t[5]=a*h+o*u+i*s-r*c+l*b+M*d+v*m-f*p,t[6]=i*h+o*c+r*u-a*s+v*b+M*p+f*d-l*m,t[7]=o*h-r*s-a*u-i*c+M*b-f*m-l*d-v*p,t}var Na=Wa;function Ya(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var Xa=ua;function Ha(t,e,n,r){var a=1-r;return Xa(e,n)<0&&(r=-r),t[0]=e[0]*a+n[0]*r,t[1]=e[1]*a+n[1]*r,t[2]=e[2]*a+n[2]*r,t[3]=e[3]*a+n[3]*r,t[4]=e[4]*a+n[4]*r,t[5]=e[5]*a+n[5]*r,t[6]=e[6]*a+n[6]*r,t[7]=e[7]*a+n[7]*r,t}function Ka(t,e){var n=Ja(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function Za(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var $a=ha,Qa=$a,Ja=la,ti=Ja;function ei(t,e){var n=Ja(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,a=e[1]/n,i=e[2]/n,o=e[3]/n,s=e[4],u=e[5],c=e[6],h=e[7],f=r*s+a*u+i*c+o*h;t[0]=r,t[1]=a,t[2]=i,t[3]=o,t[4]=(s-r*f)/n,t[5]=(u-a*f)/n,t[6]=(c-i*f)/n,t[7]=(h-o*f)/n}return t}function ni(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function ri(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function ai(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],h=e[0],f=e[1],l=e[2],M=e[3],m=e[4],d=e[5],p=e[6],b=e[7];return Math.abs(n-h)<=v*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-f)<=v*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(a-l)<=v*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(i-M)<=v*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(o-m)<=v*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(s-d)<=v*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(u-p)<=v*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(c-b)<=v*Math.max(1,Math.abs(c),Math.abs(b))}function ii(){var t=new M(2);return M!=Float32Array&&(t[0]=0,t[1]=0),t}function oi(t){var e=new M(2);return e[0]=t[0],e[1]=t[1],e}function si(t,e){var n=new M(2);return n[0]=t,n[1]=e,n}function ui(t,e){return t[0]=e[0],t[1]=e[1],t}function ci(t,e,n){return t[0]=e,t[1]=n,t}function hi(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function fi(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function li(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function vi(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function Mi(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function mi(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function di(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function pi(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function bi(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function xi(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function gi(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function yi(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function wi(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function Pi(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function _i(t){var e=t[0],n=t[1];return e*e+n*n}function qi(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Li(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function Ai(t,e){var n=e[0],r=e[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t}function Ti(t,e){return t[0]*e[0]+t[1]*e[1]}function Ci(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function Ei(t,e,n,r){var a=e[0],i=e[1];return t[0]=a+r*(n[0]-a),t[1]=i+r*(n[1]-i),t}function Di(t,e){e=e||1;var n=2*m()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function Ri(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a,t[1]=n[1]*r+n[3]*a,t}function Si(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a+n[4],t[1]=n[1]*r+n[3]*a+n[5],t}function Ii(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[3]*a+n[6],t[1]=n[1]*r+n[4]*a+n[7],t}function Ui(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[4]*a+n[12],t[1]=n[1]*r+n[5]*a+n[13],t}function zi(t,e,n,r){var a=e[0]-n[0],i=e[1]-n[1],o=Math.sin(r),s=Math.cos(r);return t[0]=a*s-i*o+n[0],t[1]=a*o+i*s+n[1],t}function ki(t,e){var n=t[0],r=t[1],a=e[0],i=e[1],o=Math.sqrt(n*n+r*r)*Math.sqrt(a*a+i*i),s=o&&(n*a+r*i)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function ji(t){return t[0]=0,t[1]=0,t}function Oi(t){return"vec2("+t[0]+", "+t[1]+")"}function Bi(t,e){return t[0]===e[0]&&t[1]===e[1]}function Fi(t,e){var n=t[0],r=t[1],a=e[0],i=e[1];return Math.abs(n-a)<=v*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-i)<=v*Math.max(1,Math.abs(r),Math.abs(i))}var Vi=Pi,Gi=fi,Wi=li,Ni=vi,Yi=yi,Xi=wi,Hi=_i,Ki=function(){var t=ii();return function(e,n,r,a,i,o){var s,u;for(n||(n=2),r||(r=0),u=a?Math.min(a*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],i(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}()},4600:t=>{t.exports=function(t,e,n,r){var a,i,o,s,u,c=e[0],h=e[1],f=e[2],l=e[3],v=n[0],M=n[1],m=n[2],d=n[3];return(i=c*v+h*M+f*m+l*d)<0&&(i=-i,v=-v,M=-M,m=-m,d=-d),1-i>1e-6?(a=Math.acos(i),o=Math.sin(a),s=Math.sin((1-r)*a)/o,u=Math.sin(r*a)/o):(s=1-r,u=r),t[0]=s*c+u*v,t[1]=s*h+u*M,t[2]=s*f+u*m,t[3]=s*l+u*d,t}},3858:t=>{t.exports=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=n[0],s=n[1],u=n[2];return t[0]=a*u-i*s,t[1]=i*o-r*u,t[2]=r*s-a*o,t}},8368:t=>{t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},7563:t=>{t.exports=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}},6919:t=>{t.exports=function(t,e,n,r){var a=e[0],i=e[1],o=e[2];return t[0]=a+r*(n[0]-a),t[1]=i+r*(n[1]-i),t[2]=o+r*(n[2]-o),t}},91:t=>{t.exports=function(t,e){var n=e[0],r=e[1],a=e[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}},6795:(t,e,n)=>{"use strict";var r=n(8033);t.exports=r&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}()},8033:t=>{t.exports=!0},9805:(t,e,n)=>{var r=n(9604),a=n(6252),i=n(8447),o=n(7919),s=n(4481),u=n(9683),c={length:n(7563),normalize:n(91),dot:n(8368),cross:n(3858)},h=a(),f=a(),l=[0,0,0,0],v=[[0,0,0],[0,0,0],[0,0,0]],M=[0,0,0];function m(t,e,n,r,a){t[0]=e[0]*r+n[0]*a,t[1]=e[1]*r+n[1]*a,t[2]=e[2]*r+n[2]*a}t.exports=function(t,e,n,a,d,p){if(e||(e=[0,0,0]),n||(n=[0,0,0]),a||(a=[0,0,0]),d||(d=[0,0,0,1]),p||(p=[0,0,0,1]),!r(h,t))return!1;if(i(f,h),f[3]=0,f[7]=0,f[11]=0,f[15]=1,Math.abs(o(f)<1e-8))return!1;var b,x,g,y,w,P,_,q=h[3],L=h[7],A=h[11],T=h[12],C=h[13],E=h[14],D=h[15];if(0!==q||0!==L||0!==A){if(l[0]=q,l[1]=L,l[2]=A,l[3]=D,!s(f,f))return!1;u(f,f),b=d,g=f,y=(x=l)[0],w=x[1],P=x[2],_=x[3],b[0]=g[0]*y+g[4]*w+g[8]*P+g[12]*_,b[1]=g[1]*y+g[5]*w+g[9]*P+g[13]*_,b[2]=g[2]*y+g[6]*w+g[10]*P+g[14]*_,b[3]=g[3]*y+g[7]*w+g[11]*P+g[15]*_}else d[0]=d[1]=d[2]=0,d[3]=1;if(e[0]=T,e[1]=C,e[2]=E,function(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}(v,h),n[0]=c.length(v[0]),c.normalize(v[0],v[0]),a[0]=c.dot(v[0],v[1]),m(v[1],v[1],v[0],1,-a[0]),n[1]=c.length(v[1]),c.normalize(v[1],v[1]),a[0]/=n[1],a[1]=c.dot(v[0],v[2]),m(v[2],v[2],v[0],1,-a[1]),a[2]=c.dot(v[1],v[2]),m(v[2],v[2],v[1],1,-a[2]),n[2]=c.length(v[2]),c.normalize(v[2],v[2]),a[1]/=n[2],a[2]/=n[2],c.cross(M,v[1],v[2]),c.dot(v[0],M)<0)for(var R=0;R<3;R++)n[R]*=-1,v[R][0]*=-1,v[R][1]*=-1,v[R][2]*=-1;return p[0]=.5*Math.sqrt(Math.max(1+v[0][0]-v[1][1]-v[2][2],0)),p[1]=.5*Math.sqrt(Math.max(1-v[0][0]+v[1][1]-v[2][2],0)),p[2]=.5*Math.sqrt(Math.max(1-v[0][0]-v[1][1]+v[2][2],0)),p[3]=.5*Math.sqrt(Math.max(1+v[0][0]+v[1][1]+v[2][2],0)),v[2][1]>v[1][2]&&(p[0]=-p[0]),v[0][2]>v[2][0]&&(p[1]=-p[1]),v[1][0]>v[0][1]&&(p[2]=-p[2]),!0}},9604:t=>{t.exports=function(t,e){var n=e[15];if(0===n)return!1;for(var r=1/n,a=0;a<16;a++)t[a]=e[a]*r;return!0}},2726:(t,e,n)=>{var r=n(6919),a=n(7814),i=n(9805),o=n(7919),s=n(2210),u=f(),c=f(),h=f();function f(){return{translate:l(),scale:l(1),skew:l(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function l(t){return[t||0,t||0,t||0]}t.exports=function(t,e,n,f){if(0===o(e)||0===o(n))return!1;var l=i(e,u.translate,u.scale,u.skew,u.perspective,u.quaternion),v=i(n,c.translate,c.scale,c.skew,c.perspective,c.quaternion);return!(!l||!v||(r(h.translate,u.translate,c.translate,f),r(h.skew,u.skew,c.skew,f),r(h.scale,u.scale,c.scale,f),r(h.perspective,u.perspective,c.perspective,f),s(h.quaternion,u.quaternion,c.quaternion,f),a(t,h.translate,h.scale,h.skew,h.perspective,h.quaternion),0))}},7814:(t,e,n)=>{var r={identity:n(6312),translate:n(2602),multiply:n(9401),create:n(6252),scale:n(4028),fromRotationTranslation:n(1872)},a=(r.create(),r.create());t.exports=function(t,e,n,i,o,s){return r.identity(t),r.fromRotationTranslation(t,s,e),t[3]=o[0],t[7]=o[1],t[11]=o[2],t[15]=o[3],r.identity(a),0!==i[2]&&(a[9]=i[2],r.multiply(t,t,a)),0!==i[1]&&(a[9]=0,a[8]=i[1],r.multiply(t,t,a)),0!==i[0]&&(a[8]=0,a[4]=i[0],r.multiply(t,t,a)),r.scale(t,t,n),t}},7622:(t,e,n)=>{"use strict";var r=n(3076),a=n(2726),i=n(4481),o=n(4663),s=n(2113),u=n(974),c=n(4727),h=n(2602),f=(n(4028),n(91)),l=[0,0,0];function v(t){this._components=t.slice(),this._time=[0],this.prevMatrix=t.slice(),this.nextMatrix=t.slice(),this.computedMatrix=t.slice(),this.computedInverse=t.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}t.exports=function(t){return new v((t=t||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var M=v.prototype;M.recalcMatrix=function(t){var e=this._time,n=r.le(e,t),o=this.computedMatrix;if(!(n<0)){var s=this._components;if(n===e.length-1)for(var u=16*n,c=0;c<16;++c)o[c]=s[u++];else{var h=e[n+1]-e[n],l=(u=16*n,this.prevMatrix),v=!0;for(c=0;c<16;++c)l[c]=s[u++];var M=this.nextMatrix;for(c=0;c<16;++c)M[c]=s[u++],v=v&&l[c]===M[c];if(h<1e-6||v)for(c=0;c<16;++c)o[c]=l[c];else a(o,l,M,(t-e[n])/h)}var m=this.computedUp;m[0]=o[1],m[1]=o[5],m[2]=o[9],f(m,m);var d=this.computedInverse;i(d,o);var p=this.computedEye,b=d[15];p[0]=d[12]/b,p[1]=d[13]/b,p[2]=d[14]/b;var x=this.computedCenter,g=Math.exp(this.computedRadius[0]);for(c=0;c<3;++c)x[c]=p[c]-o[2+4*c]*g}},M.idle=function(t){if(!(t<this.lastT())){for(var e=this._components,n=e.length-16,r=0;r<16;++r)e.push(e[n++]);this._time.push(t)}},M.flush=function(t){var e=r.gt(this._time,t)-2;e<0||(this._time.splice(0,e),this._components.splice(0,16*e))},M.lastT=function(){return this._time[this._time.length-1]},M.lookAt=function(t,e,n,r){this.recalcMatrix(t),e=e||this.computedEye,n=n||l,r=r||this.computedUp,this.setMatrix(t,c(this.computedMatrix,e,n,r));for(var a=0,i=0;i<3;++i)a+=Math.pow(n[i]-e[i],2);a=Math.log(Math.sqrt(a)),this.computedRadius[0]=a},M.rotate=function(t,e,n,r){this.recalcMatrix(t);var a=this.computedInverse;e&&s(a,a,e),n&&o(a,a,n),r&&u(a,a,r),this.setMatrix(t,i(this.computedMatrix,a))};var m=[0,0,0];M.pan=function(t,e,n,r){m[0]=-(e||0),m[1]=-(n||0),m[2]=-(r||0),this.recalcMatrix(t);var a=this.computedInverse;h(a,a,m),this.setMatrix(t,i(a,a))},M.translate=function(t,e,n,r){m[0]=e||0,m[1]=n||0,m[2]=r||0,this.recalcMatrix(t);var a=this.computedMatrix;h(a,a,m),this.setMatrix(t,a)},M.setMatrix=function(t,e){if(!(t<this.lastT())){this._time.push(t);for(var n=0;n<16;++n)this._components.push(e[n])}},M.setDistance=function(t,e){this.computedRadius[0]=e},M.setDistanceLimits=function(t,e){var n=this._limits;n[0]=t,n[1]=e},M.getDistanceLimits=function(t){var e=this._limits;return t?(t[0]=e[0],t[1]=e[1],t):e}},685:(t,e,n)=>{"use strict";t.exports=function(t,e){e||(e=t,t=window);var n=0,a=0,i=0,o={shift:!1,alt:!1,control:!1,meta:!1},s=!1;function u(t){var e=!1;return"altKey"in t&&(e=e||t.altKey!==o.alt,o.alt=!!t.altKey),"shiftKey"in t&&(e=e||t.shiftKey!==o.shift,o.shift=!!t.shiftKey),"ctrlKey"in t&&(e=e||t.ctrlKey!==o.control,o.control=!!t.ctrlKey),"metaKey"in t&&(e=e||t.metaKey!==o.meta,o.meta=!!t.metaKey),e}function c(t,s){var c=r.x(s),h=r.y(s);"buttons"in s&&(t=0|s.buttons),(t!==n||c!==a||h!==i||u(s))&&(n=0|t,a=c||0,i=h||0,e&&e(n,a,i,o))}function h(t){c(0,t)}function f(){(n||a||i||o.shift||o.alt||o.meta||o.control)&&(a=i=0,n=0,o.shift=o.alt=o.control=o.meta=!1,e&&e(0,0,0,o))}function l(t){u(t)&&e&&e(n,a,i,o)}function v(t){0===r.buttons(t)?c(0,t):c(n,t)}function M(t){c(n|r.buttons(t),t)}function m(t){c(n&~r.buttons(t),t)}function d(){s||(s=!0,t.addEventListener("mousemove",v),t.addEventListener("mousedown",M),t.addEventListener("mouseup",m),t.addEventListener("mouseleave",h),t.addEventListener("mouseenter",h),t.addEventListener("mouseout",h),t.addEventListener("mouseover",h),t.addEventListener("blur",f),t.addEventListener("keyup",l),t.addEventListener("keydown",l),t.addEventListener("keypress",l),t!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}d();var p={element:t};return Object.defineProperties(p,{enabled:{get:function(){return s},set:function(e){e?d():s&&(s=!1,t.removeEventListener("mousemove",v),t.removeEventListener("mousedown",M),t.removeEventListener("mouseup",m),t.removeEventListener("mouseleave",h),t.removeEventListener("mouseenter",h),t.removeEventListener("mouseout",h),t.removeEventListener("mouseover",h),t.removeEventListener("blur",f),t.removeEventListener("keyup",l),t.removeEventListener("keydown",l),t.removeEventListener("keypress",l),t!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))},enumerable:!0},buttons:{get:function(){return n},enumerable:!0},x:{get:function(){return a},enumerable:!0},y:{get:function(){return i},enumerable:!0},mods:{get:function(){return o},enumerable:!0}}),p};var r=n(9294)},675:t=>{var e={left:0,top:0};t.exports=function(t,n,r){n=n||t.currentTarget||t.srcElement,Array.isArray(r)||(r=[0,0]);var a,i=t.clientX||0,o=t.clientY||0,s=(a=n)===window||a===document||a===document.body?e:a.getBoundingClientRect();return r[0]=i-s.left,r[1]=o-s.top,r}},9294:(t,e)=>{"use strict";function n(t){return t.target||t.srcElement||window}e.buttons=function(t){if("object"==typeof t){if("buttons"in t)return t.buttons;if("which"in t){if(2===(e=t.which))return 4;if(3===e)return 2;if(e>0)return 1<<e-1}else if("button"in t){var e;if(1===(e=t.button))return 4;if(2===e)return 2;if(e>=0)return 1<<e}}return 0},e.element=n,e.x=function(t){if("object"==typeof t){if("offsetX"in t)return t.offsetX;var e=n(t).getBoundingClientRect();return t.clientX-e.left}return 0},e.y=function(t){if("object"==typeof t){if("offsetY"in t)return t.offsetY;var e=n(t).getBoundingClientRect();return t.clientY-e.top}return 0}},2232:(t,e,n)=>{"use strict";var r=n(9810);t.exports=function(t,e,n){"function"==typeof t&&(n=!!e,e=t,t=window);var a=r("ex",t),i=function(t){n&&t.preventDefault();var r=t.deltaX||0,i=t.deltaY||0,o=t.deltaZ||0,s=1;switch(t.deltaMode){case 1:s=a;break;case 2:s=window.innerHeight}if(i*=s,o*=s,(r*=s)||i||o)return e(r,i,o,t)};return t.addEventListener("wheel",i),i}},8918:t=>{"use strict";t.exports=function(t,e,n,r,a,i,o,s,u,c){var h=e+i+c;if(f>0){var f=Math.sqrt(h+1);t[0]=.5*(o-u)/f,t[1]=.5*(s-r)/f,t[2]=.5*(n-i)/f,t[3]=.5*f}else{var l=Math.max(e,i,c);f=Math.sqrt(2*l-h+1),e>=l?(t[0]=.5*f,t[1]=.5*(a+n)/f,t[2]=.5*(s+r)/f,t[3]=.5*(o-u)/f):i>=l?(t[0]=.5*(n+a)/f,t[1]=.5*f,t[2]=.5*(u+o)/f,t[3]=.5*(s-r)/f):(t[0]=.5*(r+s)/f,t[1]=.5*(o+u)/f,t[2]=.5*f,t[3]=.5*(n-a)/f)}return t}},809:(t,e,n)=>{"use strict";t.exports=function(t){var e=(t=t||{}).center||[0,0,0],n=t.rotation||[0,0,0,1],r=t.radius||1;e=[].slice.call(e,0,3),h(n=[].slice.call(n,0,4),n);var a=new f(n,e,Math.log(r));return a.setDistanceLimits(t.zoomMin,t.zoomMax),("eye"in t||"up"in t)&&a.lookAt(0,t.eye,t.center,t.up),a};var r=n(4173),a=n(4727),i=n(7127),o=n(4481),s=n(8918);function u(t,e,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2))}function c(t,e,n,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2)+Math.pow(r,2))}function h(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=c(n,r,a,i);o>1e-6?(t[0]=n/o,t[1]=r/o,t[2]=a/o,t[3]=i/o):(t[0]=t[1]=t[2]=0,t[3]=1)}function f(t,e,n){this.radius=r([n]),this.center=r(e),this.rotation=r(t),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var l=f.prototype;l.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},l.recalcMatrix=function(t){this.radius.curve(t),this.center.curve(t),this.rotation.curve(t);var e=this.computedRotation;h(e,e);var n=this.computedMatrix;i(n,e);var r=this.computedCenter,a=this.computedEye,o=this.computedUp,s=Math.exp(this.computedRadius[0]);a[0]=r[0]+s*n[2],a[1]=r[1]+s*n[6],a[2]=r[2]+s*n[10],o[0]=n[1],o[1]=n[5],o[2]=n[9];for(var u=0;u<3;++u){for(var c=0,f=0;f<3;++f)c+=n[u+4*f]*a[f];n[12+u]=-c}},l.getMatrix=function(t,e){this.recalcMatrix(t);var n=this.computedMatrix;if(e){for(var r=0;r<16;++r)e[r]=n[r];return e}return n},l.idle=function(t){this.center.idle(t),this.radius.idle(t),this.rotation.idle(t)},l.flush=function(t){this.center.flush(t),this.radius.flush(t),this.rotation.flush(t)},l.pan=function(t,e,n,r){e=e||0,n=n||0,r=r||0,this.recalcMatrix(t);var a=this.computedMatrix,i=a[1],o=a[5],s=a[9],c=u(i,o,s);i/=c,o/=c,s/=c;var h=a[0],f=a[4],l=a[8],v=h*i+f*o+l*s,M=u(h-=i*v,f-=o*v,l-=s*v);h/=M,f/=M,l/=M;var m=a[2],d=a[6],p=a[10],b=m*i+d*o+p*s,x=m*h+d*f+p*l,g=u(m-=b*i+x*h,d-=b*o+x*f,p-=b*s+x*l);m/=g,d/=g,p/=g;var y=h*e+i*n,w=f*e+o*n,P=l*e+s*n;this.center.move(t,y,w,P);var _=Math.exp(this.computedRadius[0]);_=Math.max(1e-4,_+r),this.radius.set(t,Math.log(_))},l.rotate=function(t,e,n,r){this.recalcMatrix(t),e=e||0,n=n||0;var a=this.computedMatrix,i=a[0],o=a[4],s=a[8],h=a[1],f=a[5],l=a[9],v=a[2],M=a[6],m=a[10],d=e*i+n*h,p=e*o+n*f,b=e*s+n*l,x=-(M*b-m*p),g=-(m*d-v*b),y=-(v*p-M*d),w=Math.sqrt(Math.max(0,1-Math.pow(x,2)-Math.pow(g,2)-Math.pow(y,2))),P=c(x,g,y,w);P>1e-6?(x/=P,g/=P,y/=P,w/=P):(x=g=y=0,w=1);var _=this.computedRotation,q=_[0],L=_[1],A=_[2],T=_[3],C=q*w+T*x+L*y-A*g,E=L*w+T*g+A*x-q*y,D=A*w+T*y+q*g-L*x,R=T*w-q*x-L*g-A*y;if(r){x=v,g=M,y=m;var S=Math.sin(r)/u(x,g,y);x*=S,g*=S,y*=S,R=R*(w=Math.cos(e))-(C=C*w+R*x+E*y-D*g)*x-(E=E*w+R*g+D*x-C*y)*g-(D=D*w+R*y+C*g-E*x)*y}var I=c(C,E,D,R);I>1e-6?(C/=I,E/=I,D/=I,R/=I):(C=E=D=0,R=1),this.rotation.set(t,C,E,D,R)},l.lookAt=function(t,e,n,r){this.recalcMatrix(t),n=n||this.computedCenter,e=e||this.computedEye,r=r||this.computedUp;var i=this.computedMatrix;a(i,e,n,r);var o=this.computedRotation;s(o,i[0],i[1],i[2],i[4],i[5],i[6],i[8],i[9],i[10]),h(o,o),this.rotation.set(t,o[0],o[1],o[2],o[3]);for(var u=0,c=0;c<3;++c)u+=Math.pow(n[c]-e[c],2);this.radius.set(t,.5*Math.log(Math.max(u,1e-6))),this.center.set(t,n[0],n[1],n[2])},l.translate=function(t,e,n,r){this.center.move(t,e||0,n||0,r||0)},l.setMatrix=function(t,e){var n=this.computedRotation;s(n,e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]),h(n,n),this.rotation.set(t,n[0],n[1],n[2],n[3]);var r=this.computedMatrix;o(r,e);var a=r[15];if(Math.abs(a)>1e-6){var i=r[12]/a,u=r[13]/a,c=r[14]/a;this.recalcMatrix(t);var f=Math.exp(this.computedRadius[0]);this.center.set(t,i-r[2]*f,u-r[6]*f,c-r[10]*f),this.radius.idle(t)}else this.center.idle(t),this.radius.idle(t)},l.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},l.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},l.getDistanceLimits=function(t){var e=this.radius.bounds;return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},l.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},l.fromJSON=function(t){var e=this.lastT(),n=t.center;n&&this.center.set(e,n[0],n[1],n[2]);var r=t.rotation;r&&this.rotation.set(e,r[0],r[1],r[2],r[3]);var a=t.distance;a&&a>0&&this.radius.set(e,Math.log(a)),this.setDistanceLimits(t.zoomMin,t.zoomMax)}},1885:t=>{t.exports=function(t,e){e||(e=[0,""]),t=String(t);var n=parseFloat(t,10);return e[0]=n,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},2210:(t,e,n)=>{t.exports=n(4600)},698:(t,e,n)=>{t.exports=n.g.performance&&n.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},9810:(t,e,n)=>{"use strict";var r=n(1885);t.exports=s;var a=o("in",document.body);function i(t,e){var n=r(getComputedStyle(t).getPropertyValue(e));return n[0]*s(n[1],t)}function o(t,e){var n=document.createElement("div");n.style.height="128"+t,e.appendChild(n);var r=i(n,"height")/128;return e.removeChild(n),r}function s(t,e){if(!t)return null;switch(e=e||document.body,t=(t+""||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return o(t,e);case"em":return i(e,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6;case"px":return 1}var n=r(t);if(!isNaN(n[0])&&n[1]){var u=s(n[1],e);return"number"==typeof u?n[0]*u:null}return null}},3949:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function o(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.CheckWebGPU=e.InitGPU=e.CreateGPUBuffer=e.CreateGPUBufferUint=e.CreateViewProjection=e.CreateTransforms=e.CreateAnimation=void 0;const a=n(887);e.CreateAnimation=(t,e=a.vec3.fromValues(0,0,0),n=!0)=>{requestAnimationFrame((function r(){n?(e[0]+=.01,e[1]+=.01,e[2]+=.01):e=[0,0,0],t(),requestAnimationFrame(r)}))},e.CreateTransforms=(t,e=[0,0,0],n=[0,0,0],r=[1,1,1])=>{const i=a.mat4.create(),o=a.mat4.create(),s=a.mat4.create(),u=a.mat4.create(),c=a.mat4.create();a.mat4.fromTranslation(u,e),a.mat4.fromXRotation(i,n[0]),a.mat4.fromYRotation(o,n[1]),a.mat4.fromZRotation(s,n[2]),a.mat4.fromScaling(c,r),a.mat4.multiply(t,i,c),a.mat4.multiply(t,o,t),a.mat4.multiply(t,s,t),a.mat4.multiply(t,u,t)},e.CreateViewProjection=(t=1,e=[2,2,4],n=[0,0,0],r=[0,1,0])=>{const i=a.mat4.create(),o=a.mat4.create(),s=a.mat4.create();return a.mat4.perspective(o,2*Math.PI/5,t,.1,100),a.mat4.lookAt(i,e,n,r),a.mat4.multiply(s,o,i),{viewMatrix:i,projectionMatrix:o,viewProjectionMatrix:s,cameraOption:{eye:e,center:n,zoomMax:100,zoomSpeed:2}}},e.CreateGPUBufferUint=(t,e,n=GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST)=>{const r=t.createBuffer({size:e.byteLength,usage:n,mappedAtCreation:!0});return new Uint32Array(r.getMappedRange()).set(e),r.unmap(),r},e.CreateGPUBuffer=(t,e,n=GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST)=>{const r=t.createBuffer({size:e.byteLength,usage:n,mappedAtCreation:!0});return new Float32Array(r.getMappedRange()).set(e),r.unmap(),r},e.InitGPU=()=>r(void 0,void 0,void 0,(function*(){var t;const n=(0,e.CheckWebGPU)();if(n.includes("Your current browser does not support WebGPU!"))throw console.log(n),"Your current browser does not support WebGPU";const r=document.getElementById("canvas-webgpu"),a=yield null===(t=navigator.gpu)||void 0===t?void 0:t.requestAdapter(),i=yield null==a?void 0:a.requestDevice(),o=r.getContext("webgpu"),s=window.devicePixelRatio||1,u=[r.clientWidth*s,r.clientHeight*s],c=o.getPreferredFormat(a);return o.configure({device:i,format:c,size:u}),{device:i,canvas:r,format:c,context:o}})),e.CheckWebGPU=()=>{let t="Great, your current browser supports WebGPU!";return navigator.gpu||(t='Your current browser does not support WebGPU! \n        Make sure you are on a system with WebGPU enabled. Currently,\n        SPIR-WebGPU is only supported in <a href="https://www.google.com/chrome/canary">Chrome canary</a>\n        with the flag "enable-unsafe-webgpu" enabled. See the\n        <a href="https://github.com/gpuweb/gpuweb/wiki/Implementation-Status">\n        Implementation Status</a> page for more details.'),t}},8731:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function o(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.CreateShapeWithLight=void 0;const a=n(3949),i=n(1708),o=n(887),s=n(4478);e.CreateShapeWithLight=(t,e,n,u=!0)=>r(void 0,void 0,void 0,(function*(){const r=yield(0,a.InitGPU)(),c=r.device,h=t.length/3,f=(0,a.CreateGPUBuffer)(c,t),l=(0,a.CreateGPUBuffer)(c,e),v=(0,i.Shaders)(n),M=c.createRenderPipeline({vertex:{module:c.createShaderModule({code:v.vertex}),entryPoint:"main",buffers:[{arrayStride:12,attributes:[{shaderLocation:0,format:"float32x3",offset:0}]},{arrayStride:12,attributes:[{shaderLocation:1,format:"float32x3",offset:0}]}]},fragment:{module:c.createShaderModule({code:v.fragment}),entryPoint:"main",targets:[{format:r.format}]},primitive:{topology:"triangle-list"},depthStencil:{format:"depth24plus",depthWriteEnabled:!0,depthCompare:"less"}}),m=o.mat4.create(),d=o.mat4.create();let p=o.mat4.create(),b=o.mat4.create();const x=(0,a.CreateViewProjection)(r.canvas.width/r.canvas.height);b=x.viewProjectionMatrix;let g=o.vec3.fromValues(0,0,0);var y=s(r.canvas,x.cameraOption);let w=new Float32Array(x.cameraOption.eye),P=w;const _=c.createBuffer({size:192,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),q=c.createBuffer({size:32,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});u&&(c.queue.writeBuffer(_,0,x.viewProjectionMatrix),c.queue.writeBuffer(q,0,P),c.queue.writeBuffer(q,16,w));const L=c.createBindGroup({layout:M.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:_,offset:0,size:192}},{binding:1,resource:{buffer:q,offset:0,size:32}}]});let A=r.context.getCurrentTexture().createView();const T=c.createTexture({size:[r.canvas.width,r.canvas.height,1],format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT}),C={colorAttachments:[{view:A,loadValue:{r:.2,g:.2,b:.2,a:1},storeOp:"store"}],depthStencilAttachment:{view:T.createView(),depthLoadValue:1,depthStoreOp:"store",stencilLoadValue:0,stencilStoreOp:"store"}};(0,a.CreateAnimation)((function(){if(!u&&y.tick()){const t=x.projectionMatrix;p=y.matrix,o.mat4.multiply(b,t,p),w=new Float32Array(y.eye.flat()),P=w,c.queue.writeBuffer(_,0,b),c.queue.writeBuffer(q,0,w),c.queue.writeBuffer(q,16,P)}(0,a.CreateTransforms)(d,[0,0,0],g),o.mat4.invert(m,d),o.mat4.transpose(m,m),c.queue.writeBuffer(_,64,d),c.queue.writeBuffer(_,128,m),A=r.context.getCurrentTexture().createView(),C.colorAttachments[0].view=A;const t=c.createCommandEncoder(),e=t.beginRenderPass(C);e.setPipeline(M),e.setVertexBuffer(0,f),e.setVertexBuffer(1,l),e.setBindGroup(0,L),e.draw(h),e.endPass(),c.queue.submit([t.finish()])}),g,u)}))},3687:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpherePosition=e.CylinderPosition=e.ConePosition=e.TorusPosition=void 0;const r=n(887);e.TorusPosition=(t,e,n,a,i=[0,0,0])=>{let o=Math.sin(n*Math.PI/180),s=Math.cos(n*Math.PI/180),u=Math.sin(a*Math.PI/180),c=Math.cos(a*Math.PI/180);return r.vec3.fromValues((t+e*c)*s+i[0],e*u+i[1],-(t+e*c)*o+i[2])},e.ConePosition=(t,e,n,a=[0,0,0])=>{let i=Math.sin(e*Math.PI/180),o=Math.cos(e*Math.PI/180);return r.vec3.fromValues(t*o+a[0],n+a[1],-t*i+a[2])},e.CylinderPosition=(t,e,n,a=[0,0,0])=>{let i=Math.sin(e*Math.PI/180),o=Math.cos(e*Math.PI/180);return r.vec3.fromValues(t*o+a[0],n+a[1],-t*i+a[2])},e.SpherePosition=(t,e,n,a=[0,0,0])=>{const i=Math.sin(e*Math.PI/180),o=Math.cos(e*Math.PI/180),s=Math.sin(n*Math.PI/180),u=Math.cos(n*Math.PI/180);return r.vec3.fromValues(t*i*u+a[0],t*o+a[1],-t*i*s+a[2])}},1708:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Shaders=void 0,e.Shaders=t=>(t.color=null==t.color?"(1.0, 0.0, 0.0)":t.color,t.ambientIntensity=null==t.ambientIntensity?"0.2":t.ambientIntensity,t.diffuseIntensity=null==t.diffuseIntensity?"0.8":t.diffuseIntensity,t.specularIntensity=null==t.specularIntensity?"0.4":t.specularIntensity,t.shininess=null==t.shininess?"30.0":t.shininess,t.specularColor=null==t.specularColor?"(1.0, 1.0, 1.0)":t.specularColor,t.isPhong=null==t.isPhong?"0":t.isPhong,console.log(JSON.stringify(t,null,4)),{vertex:"\n        [[block]] struct Uniforms\n        {\n            viewProjectionMatrix : mat4x4<f32>;\n            modelMatrix : mat4x4<f32>;\n            normalMatrix : mat4x4<f32>;\n        };\n        [[binding(0), group(0)]] var<uniform> uniforms : Uniforms;\n\n        struct Output\n        {\n            [[builtin(position)]] Position : vec4<f32>;\n            [[location(0)]] vPosition : vec4<f32>;\n            [[location(1)]] vNormal : vec4<f32>;\n        };\n\n        [[stage(vertex)]]\n        fn main([[location(0)]] position : vec4<f32>, [[location(1)]] normal : vec4<f32>) -> Output\n        {\n            var output : Output;\n            let mPosition : vec4<f32> = uniforms.modelMatrix * position;\n\n            output.vPosition = mPosition;\n            output.vNormal = uniforms.normalMatrix * normal;\n            output.Position = uniforms.viewProjectionMatrix * mPosition;\n\n            return output;\n        }\n    ",fragment:`\n        [[block]] struct Uniforms\n        {\n            lightPosition : vec4<f32>;\n            eyePosition : vec4<f32>;\n        };\n        [[binding(1), group(0)]] var<uniform> uniforms : Uniforms;\n\n        [[stage(fragment)]]\n        fn main([[location(0)]] vPosition : vec4<f32>, [[location(1)]] vNormal : vec4<f32>) -> [[location(0)]] vec4<f32> \n        {\n            let N : vec3<f32> = normalize(vNormal.xyz);\n            let L : vec3<f32> = normalize(uniforms.lightPosition.xyz - vPosition.xyz);\n            let V : vec3<f32> = normalize(uniforms.eyePosition.xyz - vPosition.xyz);\n            let H : vec3<f32> = normalize(L + V);\n\n            let diffuse : f32 = ${t.diffuseIntensity} * max(dot(N, L), 0.0);\n            var specular : f32;\n            var isp : i32 = ${t.isPhong};\n            if(isp == 1)\n            {\n                specular = ${t.specularIntensity} * pow(max(dot(V, reflect(-L, N)), 0.0), ${t.shininess});\n            }\n            else\n            {\n                specular = ${t.specularIntensity} * pow(max(dot(N, H), 0.0), ${t.shininess});\n            }\n\n            let ambient : f32 = ${t.ambientIntensity};\n            let finalColor : vec3<f32> = vec3<f32>${t.color} * (ambient + diffuse) + vec3<f32>${t.specularColor} * specular;\n\n            return vec4<f32>(finalColor, 1.0);\n        }\n    `})},9316:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CubeData=e.CubeData1=e.SphereWireframeData=e.CylinderWireframeData=e.ConeWireframeData=e.TorusWireframeData=void 0;const r=n(3687);e.TorusWireframeData=(t,e,n,a,i=[0,0,0])=>{if(a<2||n<2)return;let o,s=[];for(let u=0;u<n;u++){let c=[];for(let s=0;s<a;s++)o=(0,r.TorusPosition)(t,e,360*u/(n-1),360*s/(a-1),i),c.push(o);s.push(c)}let u,c,h,f,l=[];for(let t=0;t<n-1;t++)for(let e=0;e<a-1;e++)u=s[t][e],c=s[t+1][e],h=s[t+1][e+1],f=s[t][e+1],l.push([u[0],u[1],u[2],c[0],c[1],c[2],f[0],f[1],f[2],u[0],u[1],u[2]]);return new Float32Array(l.flat())},e.ConeWireframeData=(t,e,n,a,i=[0,0,0])=>{if(a<2)return;let o=[],s=n/2;for(let n=0;n<a;n++)o.push([(0,r.CylinderPosition)(t,360*n/(a-1),s,i),(0,r.CylinderPosition)(e,360*n/(a-1),-s,i),(0,r.CylinderPosition)(0,360*n/(a-1),-s,i),(0,r.CylinderPosition)(0,360*n/(a-1),s,i)]);let u,c,h,f,l,v,M=[];for(let t=0;t<a-1;t++)u=o[t][0],c=o[t][1],h=o[t][2],f=o[t][3],l=o[t+1][0],v=o[t+1][1],M.push([u[0],u[1],u[2],f[0],f[1],f[2],l[0],l[1],l[2],u[0],u[1],u[2],c[0],c[1],c[2],h[0],h[1],h[2],v[0],v[1],v[2],c[0],c[1],c[2],u[0],u[1],u[2],c[0],c[1],c[2]]);return new Float32Array(M.flat())},e.CylinderWireframeData=(t,e,n,a,i=[0,0,0])=>{if(a<2||t>=e)return;let o=[],s=n/2;for(let n=0;n<a;n++)o.push([(0,r.CylinderPosition)(e,360*n/(a-1),s,i),(0,r.CylinderPosition)(e,360*n/(a-1),-s,i),(0,r.CylinderPosition)(t,360*n/(a-1),-s,i),(0,r.CylinderPosition)(t,360*n/(a-1),s,i)]);let u,c,h,f,l,v,M,m,d=[];for(let t=0;t<a-1;t++)u=o[t][0],c=o[t][1],h=o[t][2],f=o[t][3],l=o[t+1][0],v=o[t+1][1],M=o[t+1][2],m=o[t+1][3],d.push([u[0],u[1],u[2],f[0],f[1],f[2],f[0],f[1],f[2],m[0],m[1],m[2],l[0],l[1],l[2],u[0],u[1],u[2],c[0],c[1],c[2],h[0],h[1],h[2],h[0],h[1],h[2],M[0],M[1],M[2],v[0],v[1],v[2],c[0],c[1],c[2],u[0],u[1],u[2],c[0],c[1],c[2],f[0],f[1],f[2],h[0],h[1],h[2]]);return new Float32Array(d.flat())},e.SphereWireframeData=(t,e,n,a=[0,0,0])=>{if(e<2||n<2)return;let i,o=[];for(let s=0;s<e;s++){let u=[];for(let o=0;o<n;o++)i=(0,r.SpherePosition)(t,180*s/(e-1),360*o/(n-1),a),u.push(i);o.push(u)}let s,u,c,h=[];for(let t=0;t<e-1;t++)for(let e=0;e<n-1;e++)s=o[t][e],u=o[t+1][e],c=o[t][e+1],h.push([s[0],s[1],s[2],u[0],u[1],u[2],s[0],s[1],s[2],c[0],c[1],c[2]]);return new Float32Array(h.flat())},e.CubeData1=()=>({vertexData:new Float32Array([-1,-1,1,0,0,1,1,-1,1,1,0,1,1,1,1,1,1,1,-1,1,1,0,1,1,-1,-1,-1,0,0,0,1,-1,-1,1,0,0,1,1,-1,1,1,0,-1,1,-1,0,1,0]),indexData:new Uint32Array([0,1,2,2,3,0,1,5,6,6,2,1,4,7,6,6,5,4,0,3,7,7,4,0,3,2,6,6,7,3,0,4,5,5,1,0])}),e.CubeData=()=>({positions:new Float32Array([-1,-1,1,1,-1,1,1,1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,1,-1,-1,-1,-1,-1,-1,1,-1,1,1,1,1,1,1,1,-1,1,1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1,1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1]),colors:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1]),normals:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0])})},8786:(t,e,n)=>{"use strict";t.exports=function(t){var e=(t=t||{}).center||[0,0,0],n=t.up||[0,1,0],r=t.right||f(n),a=t.radius||1,i=t.theta||0,h=t.phi||0;if(e=[].slice.call(e,0,3),n=[].slice.call(n,0,3),s(n,n),r=[].slice.call(r,0,3),s(r,r),"eye"in t){var v=t.eye,M=[v[0]-e[0],v[1]-e[1],v[2]-e[2]];o(r,M,n),c(r[0],r[1],r[2])<1e-6?r=f(n):s(r,r),a=c(M[0],M[1],M[2]);var m=u(n,M)/a,d=u(r,M)/a;h=Math.acos(m),i=Math.acos(d)}return a=Math.log(a),new l(t.zoomMin,t.zoomMax,e,n,r,a,i,h)};var r=n(4173),a=n(4481),i=n(397),o=n(3858),s=n(91),u=n(8368);function c(t,e,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2))}function h(t){return Math.min(1,Math.max(-1,t))}function f(t){var e=Math.abs(t[0]),n=Math.abs(t[1]),r=Math.abs(t[2]),a=[0,0,0];e>Math.max(n,r)?a[2]=1:n>Math.max(e,r)?a[0]=1:a[1]=1;for(var i=0,o=0,u=0;u<3;++u)i+=t[u]*t[u],o+=a[u]*t[u];for(u=0;u<3;++u)a[u]-=o/i*t[u];return s(a,a),a}function l(t,e,n,a,i,o,s,u){this.center=r(n),this.up=r(a),this.right=r(i),this.radius=r([o]),this.angle=r([s,u]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(t,e),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var c=0;c<16;++c)this.computedMatrix[c]=.5;this.recalcMatrix(0)}var v=l.prototype;v.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},v.getDistanceLimits=function(t){var e=this.radius.bounds[0];return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},v.recalcMatrix=function(t){this.center.curve(t),this.up.curve(t),this.right.curve(t),this.radius.curve(t),this.angle.curve(t);for(var e=this.computedUp,n=this.computedRight,r=0,a=0,i=0;i<3;++i)a+=e[i]*n[i],r+=e[i]*e[i];var u=Math.sqrt(r),h=0;for(i=0;i<3;++i)n[i]-=e[i]*a/r,h+=n[i]*n[i],e[i]/=u;var f=Math.sqrt(h);for(i=0;i<3;++i)n[i]/=f;var l=this.computedToward;o(l,e,n),s(l,l);var v=Math.exp(this.computedRadius[0]),M=this.computedAngle[0],m=this.computedAngle[1],d=Math.cos(M),p=Math.sin(M),b=Math.cos(m),x=Math.sin(m),g=this.computedCenter,y=d*b,w=p*b,P=x,_=-d*x,q=-p*x,L=b,A=this.computedEye,T=this.computedMatrix;for(i=0;i<3;++i){var C=y*n[i]+w*l[i]+P*e[i];T[4*i+1]=_*n[i]+q*l[i]+L*e[i],T[4*i+2]=C,T[4*i+3]=0}var E=T[1],D=T[5],R=T[9],S=T[2],I=T[6],U=T[10],z=D*U-R*I,k=R*S-E*U,j=E*I-D*S,O=c(z,k,j);for(z/=O,k/=O,j/=O,T[0]=z,T[4]=k,T[8]=j,i=0;i<3;++i)A[i]=g[i]+T[2+4*i]*v;for(i=0;i<3;++i){h=0;for(var B=0;B<3;++B)h+=T[i+4*B]*A[B];T[12+i]=-h}T[15]=1},v.getMatrix=function(t,e){this.recalcMatrix(t);var n=this.computedMatrix;if(e){for(var r=0;r<16;++r)e[r]=n[r];return e}return n};var M=[0,0,0];v.rotate=function(t,e,n,r){if(this.angle.move(t,e,n),r){this.recalcMatrix(t);var a=this.computedMatrix;M[0]=a[2],M[1]=a[6],M[2]=a[10];for(var o=this.computedUp,s=this.computedRight,u=this.computedToward,c=0;c<3;++c)a[4*c]=o[c],a[4*c+1]=s[c],a[4*c+2]=u[c];for(i(a,a,r,M),c=0;c<3;++c)o[c]=a[4*c],s[c]=a[4*c+1];this.up.set(t,o[0],o[1],o[2]),this.right.set(t,s[0],s[1],s[2])}},v.pan=function(t,e,n,r){e=e||0,n=n||0,r=r||0,this.recalcMatrix(t);var a=this.computedMatrix,i=(Math.exp(this.computedRadius[0]),a[1]),o=a[5],s=a[9],u=c(i,o,s);i/=u,o/=u,s/=u;var h=a[0],f=a[4],l=a[8],v=h*i+f*o+l*s,M=c(h-=i*v,f-=o*v,l-=s*v),m=(h/=M)*e+i*n,d=(f/=M)*e+o*n,p=(l/=M)*e+s*n;this.center.move(t,m,d,p);var b=Math.exp(this.computedRadius[0]);b=Math.max(1e-4,b+r),this.radius.set(t,Math.log(b))},v.translate=function(t,e,n,r){this.center.move(t,e||0,n||0,r||0)},v.setMatrix=function(t,e,n,r){var i=1;"number"==typeof n&&(i=0|n),(i<0||i>3)&&(i=1);var o=(i+2)%3;e||(this.recalcMatrix(t),e=this.computedMatrix);var s=e[i],u=e[i+4],f=e[i+8];if(r){var l=Math.abs(s),v=Math.abs(u),M=Math.abs(f),m=Math.max(l,v,M);l===m?(s=s<0?-1:1,u=f=0):M===m?(f=f<0?-1:1,s=u=0):(u=u<0?-1:1,s=f=0)}else{var d=c(s,u,f);s/=d,u/=d,f/=d}var p,b,x=e[o],g=e[o+4],y=e[o+8],w=x*s+g*u+y*f,P=c(x-=s*w,g-=u*w,y-=f*w),_=u*(y/=P)-f*(g/=P),q=f*(x/=P)-s*y,L=s*g-u*x,A=c(_,q,L);if(_/=A,q/=A,L/=A,this.center.jump(t,W,N,Y),this.radius.idle(t),this.up.jump(t,s,u,f),this.right.jump(t,x,g,y),2===i){var T=e[1],C=e[5],E=e[9],D=T*x+C*g+E*y,R=T*_+C*q+E*L;p=z<0?-Math.PI/2:Math.PI/2,b=Math.atan2(R,D)}else{var S=e[2],I=e[6],U=e[10],z=S*s+I*u+U*f,k=S*x+I*g+U*y,j=S*_+I*q+U*L;p=Math.asin(h(z)),b=Math.atan2(j,k)}this.angle.jump(t,b,p),this.recalcMatrix(t);var O=e[2],B=e[6],F=e[10],V=this.computedMatrix;a(V,e);var G=V[15],W=V[12]/G,N=V[13]/G,Y=V[14]/G,X=Math.exp(this.computedRadius[0]);this.center.jump(t,W-O*X,N-B*X,Y-F*X)},v.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},v.idle=function(t){this.center.idle(t),this.up.idle(t),this.right.idle(t),this.radius.idle(t),this.angle.idle(t)},v.flush=function(t){this.center.flush(t),this.up.flush(t),this.right.flush(t),this.radius.flush(t),this.angle.flush(t)},v.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},v.lookAt=function(t,e,n,r){this.recalcMatrix(t),e=e||this.computedEye,n=n||this.computedCenter;var a=(r=r||this.computedUp)[0],i=r[1],o=r[2],s=c(a,i,o);if(!(s<1e-6)){a/=s,i/=s,o/=s;var u=e[0]-n[0],f=e[1]-n[1],l=e[2]-n[2],v=c(u,f,l);if(!(v<1e-6)){u/=v,f/=v,l/=v;var M=this.computedRight,m=M[0],d=M[1],p=M[2],b=a*m+i*d+o*p,x=c(m-=b*a,d-=b*i,p-=b*o);if(!(x<.01&&(x=c(m=i*l-o*f,d=o*u-a*l,p=a*f-i*u))<1e-6)){m/=x,d/=x,p/=x,this.up.set(t,a,i,o),this.right.set(t,m,d,p),this.center.set(t,n[0],n[1],n[2]),this.radius.set(t,Math.log(v));var g=i*p-o*d,y=o*m-a*p,w=a*d-i*m,P=c(g,y,w),_=a*u+i*f+o*l,q=m*u+d*f+p*l,L=(g/=P)*u+(y/=P)*f+(w/=P)*l,A=Math.asin(h(_)),T=Math.atan2(L,q),C=this.angle._state,E=C[C.length-1],D=C[C.length-2];E%=2*Math.PI;var R=Math.abs(E+2*Math.PI-T),S=Math.abs(E-T),I=Math.abs(E-2*Math.PI-T);R<S&&(E+=2*Math.PI),I<S&&(E-=2*Math.PI),this.angle.jump(this.angle.lastT(),E,D),this.angle.set(t,T,A)}}}}}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";const t=n(8731),e=(0,n(9316).CubeData)();(0,t.CreateShapeWithLight)(e.positions,e.normals,{},!0)})()})();
//# sourceMappingURL=main.bundle.js.map