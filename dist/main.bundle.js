(()=>{var t={4478:(t,e,r)=>{"use strict";t.exports=function(t,e){t=t||document.body;var r=[.01,1/0];"distanceLimits"in(e=e||{})&&(r[0]=e.distanceLimits[0],r[1]=e.distanceLimits[1]),"zoomMin"in e&&(r[0]=e.zoomMin),"zoomMax"in e&&(r[1]=e.zoomMax);var c=a({center:e.center||[0,0,0],up:e.up||[0,1,0],eye:e.eye||[0,0,10],mode:e.mode||"orbit",distanceLimits:r}),h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0,l=t.clientWidth,v=t.clientHeight,m={view:c,element:t,delay:e.delay||16,rotateSpeed:e.rotateSpeed||1,zoomSpeed:e.zoomSpeed||1,translateSpeed:e.translateSpeed||1,flipX:!!e.flipX,flipY:!!e.flipY,modes:c.modes,tick:function(){var e=n(),r=this.delay;c.idle(e-r),c.flush(e-(100+2*r));var a=e-2*r;c.recalcMatrix(a);for(var i=!0,o=c.computedMatrix,s=0;s<16;++s)i=i&&h[s]===o[s],h[s]=o[s];var u=t.clientWidth===l&&t.clientHeight===v;return l=t.clientWidth,v=t.clientHeight,i?!u:(f=Math.exp(c.computedRadius[0]),!0)},lookAt:function(t,e,r){c.lookAt(c.lastT(),t,e,r)},rotate:function(t,e,r){c.rotate(c.lastT(),t,e,r)},pan:function(t,e,r){c.pan(c.lastT(),t,e,r)},translate:function(t,e,r){c.translate(c.lastT(),t,e,r)}};Object.defineProperties(m,{matrix:{get:function(){return c.computedMatrix},set:function(t){return c.setMatrix(c.lastT(),t),c.computedMatrix},enumerable:!0},mode:{get:function(){return c.getMode()},set:function(t){return c.setMode(t),c.getMode()},enumerable:!0},center:{get:function(){return c.computedCenter},set:function(t){return c.lookAt(c.lastT(),t),c.computedCenter},enumerable:!0},eye:{get:function(){return c.computedEye},set:function(t){return c.lookAt(c.lastT(),null,t),c.computedEye},enumerable:!0},up:{get:function(){return c.computedUp},set:function(t){return c.lookAt(c.lastT(),null,null,t),c.computedUp},enumerable:!0},distance:{get:function(){return f},set:function(t){return c.setDistance(c.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return c.getDistanceLimits(r)},set:function(t){return c.setDistanceLimits(t),t},enumerable:!0}}),t.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1}));var M=0,d=0,p={shift:!1,control:!1,alt:!1,meta:!1};function b(e,r,a,i){var o=1/t.clientHeight,s=o*(r-M),u=o*(a-d),h=m.flipX?1:-1,l=m.flipY?1:-1,v=Math.PI*m.rotateSpeed,b=n();if(1&e)i.shift?c.rotate(b,0,0,-s*v):c.rotate(b,h*v*s,-l*v*u,0);else if(2&e)c.pan(b,-m.translateSpeed*s*f,m.translateSpeed*u*f,0);else if(4&e){var x=m.zoomSpeed*u/window.innerHeight*(b-c.lastT())*50;c.pan(b,0,0,f*(Math.exp(x)-1))}M=r,d=a,p=i}return i(t,b),t.addEventListener("touchstart",(function(e){var r=s(e.changedTouches[0],t);b(0,r[0],r[1],p),b(1,r[0],r[1],p),e.preventDefault()}),!!u&&{passive:!1}),t.addEventListener("touchmove",(function(e){var r=s(e.changedTouches[0],t);b(1,r[0],r[1],p),e.preventDefault()}),!!u&&{passive:!1}),t.addEventListener("touchend",(function(e){s(e.changedTouches[0],t),b(0,M,d,p),e.preventDefault()}),!!u&&{passive:!1}),o(t,(function(t,e,r){var a=m.flipX?1:-1,i=m.flipY?1:-1,o=n();if(Math.abs(t)>Math.abs(e))c.rotate(o,0,0,-t*a*Math.PI*m.rotateSpeed/window.innerWidth);else{var s=m.zoomSpeed*i*e/window.innerHeight*(o-c.lastT())/100;c.pan(o,0,0,f*(Math.exp(s)-1))}}),!0),m};var n=r(698),a=r(3991),i=r(685),o=r(2232),s=r(675),u=r(6795)},3991:(t,e,r)=>{"use strict";t.exports=function(t){var e=(t=t||{}).eye||[0,0,1],r=t.center||[0,0,0],s=t.up||[0,1,0],u=t.distanceLimits||[0,1/0],c=t.mode||"turntable",h=n(),f=a(),l=i();return h.setDistanceLimits(u[0],u[1]),h.lookAt(0,e,r,s),f.setDistanceLimits(u[0],u[1]),f.lookAt(0,e,r,s),l.setDistanceLimits(u[0],u[1]),l.lookAt(0,e,r,s),new o({turntable:h,orbit:f,matrix:l},c)};var n=r(8786),a=r(809),i=r(7622);function o(t,e){this._controllerNames=Object.keys(t),this._controllerList=this._controllerNames.map((function(e){return t[e]})),this._mode=e,this._active=t[e],this._active||(this._mode="turntable",this._active=t.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=o.prototype;s.flush=function(t){for(var e=this._controllerList,r=0;r<e.length;++r)e[r].flush(t)},s.idle=function(t){for(var e=this._controllerList,r=0;r<e.length;++r)e[r].idle(t)},s.lookAt=function(t,e,r,n){for(var a=this._controllerList,i=0;i<a.length;++i)a[i].lookAt(t,e,r,n)},s.rotate=function(t,e,r,n){for(var a=this._controllerList,i=0;i<a.length;++i)a[i].rotate(t,e,r,n)},s.pan=function(t,e,r,n){for(var a=this._controllerList,i=0;i<a.length;++i)a[i].pan(t,e,r,n)},s.translate=function(t,e,r,n){for(var a=this._controllerList,i=0;i<a.length;++i)a[i].translate(t,e,r,n)},s.setMatrix=function(t,e){for(var r=this._controllerList,n=0;n<r.length;++n)r[n].setMatrix(t,e)},s.setDistanceLimits=function(t,e){for(var r=this._controllerList,n=0;n<r.length;++n)r[n].setDistanceLimits(t,e)},s.setDistance=function(t,e){for(var r=this._controllerList,n=0;n<r.length;++n)r[n].setDistance(t,e)},s.recalcMatrix=function(t){this._active.recalcMatrix(t)},s.getDistance=function(t){return this._active.getDistance(t)},s.getDistanceLimits=function(t){return this._active.getDistanceLimits(t)},s.lastT=function(){return this._active.lastT()},s.setMode=function(t){if(t!==this._mode){var e=this._controllerNames.indexOf(t);if(!(e<0)){var r=this._active,n=this._controllerList[e],a=Math.max(r.lastT(),n.lastT());r.recalcMatrix(a),n.setMatrix(a,r.computedMatrix),this._active=n,this._mode=t,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode}},3076:t=>{"use strict";function e(t,e,r,n,a){for(var i=a+1;n<=a;){var o=n+a>>>1,s=t[o];(void 0!==r?r(s,e):s-e)>=0?(i=o,a=o-1):n=o+1}return i}function r(t,e,r,n,a){for(var i=a+1;n<=a;){var o=n+a>>>1,s=t[o];(void 0!==r?r(s,e):s-e)>0?(i=o,a=o-1):n=o+1}return i}function n(t,e,r,n,a){for(var i=n-1;n<=a;){var o=n+a>>>1,s=t[o];(void 0!==r?r(s,e):s-e)<0?(i=o,n=o+1):a=o-1}return i}function a(t,e,r,n,a){for(var i=n-1;n<=a;){var o=n+a>>>1,s=t[o];(void 0!==r?r(s,e):s-e)<=0?(i=o,n=o+1):a=o-1}return i}function i(t,e,r,n,a){for(;n<=a;){var i=n+a>>>1,o=t[i],s=void 0!==r?r(o,e):o-e;if(0===s)return i;s<=0?n=i+1:a=i-1}return-1}function o(t,e,r,n,a,i){return"function"==typeof r?i(t,e,r,void 0===n?0:0|n,void 0===a?t.length-1:0|a):i(t,e,void 0,void 0===r?0:0|r,void 0===n?t.length-1:0|n)}t.exports={ge:function(t,r,n,a,i){return o(t,r,n,a,i,e)},gt:function(t,e,n,a,i){return o(t,e,n,a,i,r)},lt:function(t,e,r,a,i){return o(t,e,r,a,i,n)},le:function(t,e,r,n,i){return o(t,e,r,n,i,a)},eq:function(t,e,r,n,a){return o(t,e,r,n,a,i)}}},617:t=>{"use strict";t.exports=function(t,e,r,n,a,i){var o=a-1,s=a*a,u=o*o,c=(1+2*a)*u,h=a*u,f=s*(3-2*a),l=s*o;if(t.length){i||(i=new Array(t.length));for(var v=t.length-1;v>=0;--v)i[v]=c*t[v]+h*e[v]+f*r[v]+l*n[v];return i}return c*t+h*e+f*r+l*n},t.exports.derivative=function(t,e,r,n,a,i){var o=6*a*a-6*a,s=3*a*a-4*a+1,u=-6*a*a+6*a,c=3*a*a-2*a;if(t.length){i||(i=new Array(t.length));for(var h=t.length-1;h>=0;--h)i[h]=o*t[h]+s*e[h]+u*r[h]+c*n[h];return i}return o*t+s*e+u*r[h]+c*n}},4173:(t,e,r)=>{"use strict";t.exports=function(t,e,r){switch(arguments.length){case 0:return new o([0],[0],0);case 1:return"number"==typeof t?new o(n=u(t),n,0):new o(t,u(t.length),0);case 2:if("number"==typeof e){var n=u(t.length);return new o(t,n,+e)}r=0;case 3:if(t.length!==e.length)throw new Error("state and velocity lengths must match");return new o(t,e,r)}};var n=r(617),a=r(3076);function i(t,e,r){return Math.min(e,Math.max(t,r))}function o(t,e,r){this.dimension=t.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var n=0;n<this.dimension;++n)this.bounds[0][n]=-1/0,this.bounds[1][n]=1/0;this._state=t.slice().reverse(),this._velocity=e.slice().reverse(),this._time=[r],this._scratch=[t.slice(),t.slice(),t.slice(),t.slice(),t.slice()]}var s=o.prototype;function u(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=0;return e}s.flush=function(t){var e=a.gt(this._time,t)-1;e<=0||(this._time.splice(0,e),this._state.splice(0,e*this.dimension),this._velocity.splice(0,e*this.dimension))},s.curve=function(t){var e=this._time,r=e.length,o=a.le(e,t),s=this._scratch[0],u=this._state,c=this._velocity,h=this.dimension,f=this.bounds;if(o<0)for(var l=h-1,v=0;v<h;++v,--l)s[v]=u[l];else if(o>=r-1){l=u.length-1;var m=t-e[r-1];for(v=0;v<h;++v,--l)s[v]=u[l]+m*c[l]}else{l=h*(o+1)-1;var M=e[o],d=e[o+1]-M||1,p=this._scratch[1],b=this._scratch[2],x=this._scratch[3],g=this._scratch[4],y=!0;for(v=0;v<h;++v,--l)p[v]=u[l],x[v]=c[l]*d,b[v]=u[l+h],g[v]=c[l+h]*d,y=y&&p[v]===b[v]&&x[v]===g[v]&&0===x[v];if(y)for(v=0;v<h;++v)s[v]=p[v];else n(p,x,b,g,(t-M)/d,s)}var w=f[0],P=f[1];for(v=0;v<h;++v)s[v]=i(w[v],P[v],s[v]);return s},s.dcurve=function(t){var e=this._time,r=e.length,i=a.le(e,t),o=this._scratch[0],s=this._state,u=this._velocity,c=this.dimension;if(i>=r-1)for(var h=s.length-1,f=(e[r-1],0);f<c;++f,--h)o[f]=u[h];else{h=c*(i+1)-1;var l=e[i],v=e[i+1]-l||1,m=this._scratch[1],M=this._scratch[2],d=this._scratch[3],p=this._scratch[4],b=!0;for(f=0;f<c;++f,--h)m[f]=s[h],d[f]=u[h]*v,M[f]=s[h+c],p[f]=u[h+c]*v,b=b&&m[f]===M[f]&&d[f]===p[f]&&0===d[f];if(b)for(f=0;f<c;++f)o[f]=0;else for(n.derivative(m,d,M,p,(t-l)/v,o),f=0;f<c;++f)o[f]/=v}return o},s.lastT=function(){var t=this._time;return t[t.length-1]},s.stable=function(){for(var t=this._velocity,e=t.length,r=this.dimension-1;r>=0;--r)if(t[--e])return!1;return!0},s.jump=function(t){var e=this.lastT(),r=this.dimension;if(!(t<e||arguments.length!==r+1)){var n=this._state,a=this._velocity,o=n.length-this.dimension,s=this.bounds,u=s[0],c=s[1];this._time.push(e,t);for(var h=0;h<2;++h)for(var f=0;f<r;++f)n.push(n[o++]),a.push(0);for(this._time.push(t),f=r;f>0;--f)n.push(i(u[f-1],c[f-1],arguments[f])),a.push(0)}},s.push=function(t){var e=this.lastT(),r=this.dimension;if(!(t<e||arguments.length!==r+1)){var n=this._state,a=this._velocity,o=n.length-this.dimension,s=t-e,u=this.bounds,c=u[0],h=u[1],f=s>1e-6?1/s:0;this._time.push(t);for(var l=r;l>0;--l){var v=i(c[l-1],h[l-1],arguments[l]);n.push(v),a.push((v-n[o++])*f)}}},s.set=function(t){var e=this.dimension;if(!(t<this.lastT()||arguments.length!==e+1)){var r=this._state,n=this._velocity,a=this.bounds,o=a[0],s=a[1];this._time.push(t);for(var u=e;u>0;--u)r.push(i(o[u-1],s[u-1],arguments[u])),n.push(0)}},s.move=function(t){var e=this.lastT(),r=this.dimension;if(!(t<=e||arguments.length!==r+1)){var n=this._state,a=this._velocity,o=n.length-this.dimension,s=this.bounds,u=s[0],c=s[1],h=t-e,f=h>1e-6?1/h:0;this._time.push(t);for(var l=r;l>0;--l){var v=arguments[l];n.push(i(u[l-1],c[l-1],n[o++]+v)),a.push(v*f)}}},s.idle=function(t){var e=this.lastT();if(!(t<e)){var r=this.dimension,n=this._state,a=this._velocity,o=n.length-r,s=this.bounds,u=s[0],c=s[1],h=t-e;this._time.push(t);for(var f=r-1;f>=0;--f)n.push(i(u[f],c[f],n[o]+h*a[o])),a.push(0),o+=1}}},8447:t=>{t.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},6252:t=>{t.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7919:t=>{t.exports=function(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],o=t[5],s=t[6],u=t[7],c=t[8],h=t[9],f=t[10],l=t[11],v=t[12],m=t[13],M=t[14],d=t[15];return(e*o-r*i)*(f*d-l*M)-(e*s-n*i)*(h*d-l*m)+(e*u-a*i)*(h*M-f*m)+(r*s-n*o)*(c*d-l*v)-(r*u-a*o)*(c*M-f*v)+(n*u-a*s)*(c*m-h*v)}},7127:t=>{t.exports=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r+r,s=n+n,u=a+a,c=r*o,h=n*o,f=n*s,l=a*o,v=a*s,m=a*u,M=i*o,d=i*s,p=i*u;return t[0]=1-f-m,t[1]=h+p,t[2]=l-d,t[3]=0,t[4]=h-p,t[5]=1-c-m,t[6]=v+M,t[7]=0,t[8]=l+d,t[9]=v-M,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},1872:t=>{t.exports=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=n+n,u=a+a,c=i+i,h=n*s,f=n*u,l=n*c,v=a*u,m=a*c,M=i*c,d=o*s,p=o*u,b=o*c;return t[0]=1-(v+M),t[1]=f+b,t[2]=l-p,t[3]=0,t[4]=f-b,t[5]=1-(h+M),t[6]=m+d,t[7]=0,t[8]=l+p,t[9]=m-d,t[10]=1-(h+v),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}},6312:t=>{t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},4481:t=>{t.exports=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=e[9],l=e[10],v=e[11],m=e[12],M=e[13],d=e[14],p=e[15],b=r*s-n*o,x=r*u-a*o,g=r*c-i*o,y=n*u-a*s,w=n*c-i*s,P=a*c-i*u,_=h*M-f*m,q=h*d-l*m,L=h*p-v*m,A=f*d-l*M,T=f*p-v*M,E=l*p-v*d,C=b*E-x*T+g*A+y*L-w*q+P*_;return C?(C=1/C,t[0]=(s*E-u*T+c*A)*C,t[1]=(a*T-n*E-i*A)*C,t[2]=(M*P-d*w+p*y)*C,t[3]=(l*w-f*P-v*y)*C,t[4]=(u*L-o*E-c*q)*C,t[5]=(r*E-a*L+i*q)*C,t[6]=(d*g-m*P-p*x)*C,t[7]=(h*P-l*g+v*x)*C,t[8]=(o*T-s*L+c*_)*C,t[9]=(n*L-r*T-i*_)*C,t[10]=(m*w-M*g+p*b)*C,t[11]=(f*g-h*w-v*b)*C,t[12]=(s*q-o*A-u*_)*C,t[13]=(r*A-n*q+a*_)*C,t[14]=(M*x-m*y-d*b)*C,t[15]=(h*y-f*x+l*b)*C,t):null}},4727:(t,e,r)=>{var n=r(6312);t.exports=function(t,e,r,a){var i,o,s,u,c,h,f,l,v,m,M=e[0],d=e[1],p=e[2],b=a[0],x=a[1],g=a[2],y=r[0],w=r[1],P=r[2];return Math.abs(M-y)<1e-6&&Math.abs(d-w)<1e-6&&Math.abs(p-P)<1e-6?n(t):(f=M-y,l=d-w,v=p-P,i=x*(v*=m=1/Math.sqrt(f*f+l*l+v*v))-g*(l*=m),o=g*(f*=m)-b*v,s=b*l-x*f,(m=Math.sqrt(i*i+o*o+s*s))?(i*=m=1/m,o*=m,s*=m):(i=0,o=0,s=0),u=l*s-v*o,c=v*i-f*s,h=f*o-l*i,(m=Math.sqrt(u*u+c*c+h*h))?(u*=m=1/m,c*=m,h*=m):(u=0,c=0,h=0),t[0]=i,t[1]=u,t[2]=f,t[3]=0,t[4]=o,t[5]=c,t[6]=l,t[7]=0,t[8]=s,t[9]=h,t[10]=v,t[11]=0,t[12]=-(i*M+o*d+s*p),t[13]=-(u*M+c*d+h*p),t[14]=-(f*M+l*d+v*p),t[15]=1,t)}},9401:t=>{t.exports=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=e[9],v=e[10],m=e[11],M=e[12],d=e[13],p=e[14],b=e[15],x=r[0],g=r[1],y=r[2],w=r[3];return t[0]=x*n+g*s+y*f+w*M,t[1]=x*a+g*u+y*l+w*d,t[2]=x*i+g*c+y*v+w*p,t[3]=x*o+g*h+y*m+w*b,x=r[4],g=r[5],y=r[6],w=r[7],t[4]=x*n+g*s+y*f+w*M,t[5]=x*a+g*u+y*l+w*d,t[6]=x*i+g*c+y*v+w*p,t[7]=x*o+g*h+y*m+w*b,x=r[8],g=r[9],y=r[10],w=r[11],t[8]=x*n+g*s+y*f+w*M,t[9]=x*a+g*u+y*l+w*d,t[10]=x*i+g*c+y*v+w*p,t[11]=x*o+g*h+y*m+w*b,x=r[12],g=r[13],y=r[14],w=r[15],t[12]=x*n+g*s+y*f+w*M,t[13]=x*a+g*u+y*l+w*d,t[14]=x*i+g*c+y*v+w*p,t[15]=x*o+g*h+y*m+w*b,t}},397:t=>{t.exports=function(t,e,r,n){var a,i,o,s,u,c,h,f,l,v,m,M,d,p,b,x,g,y,w,P,_,q,L,A,T=n[0],E=n[1],C=n[2],S=Math.sqrt(T*T+E*E+C*C);return Math.abs(S)<1e-6?null:(T*=S=1/S,E*=S,C*=S,a=Math.sin(r),o=1-(i=Math.cos(r)),s=e[0],u=e[1],c=e[2],h=e[3],f=e[4],l=e[5],v=e[6],m=e[7],M=e[8],d=e[9],p=e[10],b=e[11],x=T*T*o+i,g=E*T*o+C*a,y=C*T*o-E*a,w=T*E*o-C*a,P=E*E*o+i,_=C*E*o+T*a,q=T*C*o+E*a,L=E*C*o-T*a,A=C*C*o+i,t[0]=s*x+f*g+M*y,t[1]=u*x+l*g+d*y,t[2]=c*x+v*g+p*y,t[3]=h*x+m*g+b*y,t[4]=s*w+f*P+M*_,t[5]=u*w+l*P+d*_,t[6]=c*w+v*P+p*_,t[7]=h*w+m*P+b*_,t[8]=s*q+f*L+M*A,t[9]=u*q+l*L+d*A,t[10]=c*q+v*L+p*A,t[11]=h*q+m*L+b*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}},4663:t=>{t.exports=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],h=e[9],f=e[10],l=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+c*n,t[5]=o*a+h*n,t[6]=s*a+f*n,t[7]=u*a+l*n,t[8]=c*a-i*n,t[9]=h*a-o*n,t[10]=f*a-s*n,t[11]=l*a-u*n,t}},2113:t=>{t.exports=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],s=e[2],u=e[3],c=e[8],h=e[9],f=e[10],l=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-c*n,t[1]=o*a-h*n,t[2]=s*a-f*n,t[3]=u*a-l*n,t[8]=i*n+c*a,t[9]=o*n+h*a,t[10]=s*n+f*a,t[11]=u*n+l*a,t}},974:t=>{t.exports=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],s=e[2],u=e[3],c=e[4],h=e[5],f=e[6],l=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+c*n,t[1]=o*a+h*n,t[2]=s*a+f*n,t[3]=u*a+l*n,t[4]=c*a-i*n,t[5]=h*a-o*n,t[6]=f*a-s*n,t[7]=l*a-u*n,t}},4028:t=>{t.exports=function(t,e,r){var n=r[0],a=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},2602:t=>{t.exports=function(t,e,r){var n,a,i,o,s,u,c,h,f,l,v,m,M=r[0],d=r[1],p=r[2];return e===t?(t[12]=e[0]*M+e[4]*d+e[8]*p+e[12],t[13]=e[1]*M+e[5]*d+e[9]*p+e[13],t[14]=e[2]*M+e[6]*d+e[10]*p+e[14],t[15]=e[3]*M+e[7]*d+e[11]*p+e[15]):(n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=e[9],v=e[10],m=e[11],t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=s,t[5]=u,t[6]=c,t[7]=h,t[8]=f,t[9]=l,t[10]=v,t[11]=m,t[12]=n*M+s*d+f*p+e[12],t[13]=a*M+u*d+l*p+e[13],t[14]=i*M+c*d+v*p+e[14],t[15]=o*M+h*d+m*p+e[15]),t}},9683:t=>{t.exports=function(t,e){if(t===e){var r=e[1],n=e[2],a=e[3],i=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=i,t[11]=e[14],t[12]=a,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},887:(t,e,r)=>{"use strict";r.r(e),r.d(e,{glMatrix:()=>n,mat2:()=>a,mat2d:()=>i,mat3:()=>o,mat4:()=>s,quat:()=>h,quat2:()=>f,vec2:()=>l,vec3:()=>u,vec4:()=>c});var n={};r.r(n),r.d(n,{ARRAY_TYPE:()=>m,EPSILON:()=>v,RANDOM:()=>M,equals:()=>x,setMatrixArrayType:()=>d,toRadian:()=>b});var a={};r.r(a),r.d(a,{LDU:()=>z,add:()=>O,adjoint:()=>T,clone:()=>y,copy:()=>w,create:()=>g,determinant:()=>E,equals:()=>G,exactEquals:()=>j,frob:()=>B,fromRotation:()=>R,fromScaling:()=>D,fromValues:()=>_,identity:()=>P,invert:()=>A,mul:()=>N,multiply:()=>C,multiplyScalar:()=>V,multiplyScalarAndAdd:()=>F,rotate:()=>S,scale:()=>U,set:()=>q,str:()=>I,sub:()=>Y,subtract:()=>k,transpose:()=>L});var i={};r.r(i),r.d(i,{add:()=>ct,clone:()=>X,copy:()=>H,create:()=>W,determinant:()=>J,equals:()=>mt,exactEquals:()=>vt,frob:()=>ut,fromRotation:()=>at,fromScaling:()=>it,fromTranslation:()=>ot,fromValues:()=>Z,identity:()=>K,invert:()=>Q,mul:()=>Mt,multiply:()=>tt,multiplyScalar:()=>ft,multiplyScalarAndAdd:()=>lt,rotate:()=>et,scale:()=>rt,set:()=>$,str:()=>st,sub:()=>dt,subtract:()=>ht,translate:()=>nt});var o={};r.r(o),r.d(o,{add:()=>Gt,adjoint:()=>Lt,clone:()=>xt,copy:()=>gt,create:()=>pt,determinant:()=>At,equals:()=>Wt,exactEquals:()=>Yt,frob:()=>jt,fromMat2d:()=>It,fromMat4:()=>bt,fromQuat:()=>Bt,fromRotation:()=>Rt,fromScaling:()=>Dt,fromTranslation:()=>Ut,fromValues:()=>yt,identity:()=>Pt,invert:()=>qt,mul:()=>Xt,multiply:()=>Tt,multiplyScalar:()=>Ft,multiplyScalarAndAdd:()=>Nt,normalFromMat4:()=>zt,projection:()=>Ot,rotate:()=>Ct,scale:()=>St,set:()=>wt,str:()=>kt,sub:()=>Ht,subtract:()=>Vt,translate:()=>Et,transpose:()=>_t});var s={};r.r(s),r.d(s,{add:()=>Oe,adjoint:()=>ne,clone:()=>Zt,copy:()=>$t,create:()=>Kt,determinant:()=>ae,equals:()=>Fe,exactEquals:()=>Ve,frob:()=>ze,fromQuat:()=>qe,fromQuat2:()=>xe,fromRotation:()=>me,fromRotationTranslation:()=>be,fromRotationTranslationScale:()=>Pe,fromRotationTranslationScaleOrigin:()=>_e,fromScaling:()=>ve,fromTranslation:()=>le,fromValues:()=>Qt,fromXRotation:()=>Me,fromYRotation:()=>de,fromZRotation:()=>pe,frustum:()=>Le,getRotation:()=>we,getScaling:()=>ye,getTranslation:()=>ge,identity:()=>te,invert:()=>re,lookAt:()=>De,mul:()=>Ne,multiply:()=>ie,multiplyScalar:()=>je,multiplyScalarAndAdd:()=>Ge,ortho:()=>Ue,orthoNO:()=>Se,orthoZO:()=>Re,perspective:()=>Te,perspectiveFromFieldOfView:()=>Ce,perspectiveNO:()=>Ae,perspectiveZO:()=>Ee,rotate:()=>ue,rotateX:()=>ce,rotateY:()=>he,rotateZ:()=>fe,scale:()=>se,set:()=>Jt,str:()=>Be,sub:()=>Ye,subtract:()=>ke,targetTo:()=>Ie,translate:()=>oe,transpose:()=>ee});var u={};r.r(u),r.d(u,{add:()=>Qe,angle:()=>Ar,bezier:()=>xr,ceil:()=>rr,clone:()=>Xe,copy:()=>Ze,create:()=>We,cross:()=>dr,dist:()=>Br,distance:()=>cr,div:()=>Ir,divide:()=>er,dot:()=>Mr,equals:()=>Sr,exactEquals:()=>Cr,floor:()=>nr,forEach:()=>jr,fromValues:()=>Ke,hermite:()=>br,inverse:()=>vr,len:()=>Or,length:()=>He,lerp:()=>pr,max:()=>ir,min:()=>ar,mul:()=>Dr,multiply:()=>tr,negate:()=>lr,normalize:()=>mr,random:()=>gr,rotateX:()=>_r,rotateY:()=>qr,rotateZ:()=>Lr,round:()=>or,scale:()=>sr,scaleAndAdd:()=>ur,set:()=>$e,sqrDist:()=>zr,sqrLen:()=>kr,squaredDistance:()=>hr,squaredLength:()=>fr,str:()=>Er,sub:()=>Rr,subtract:()=>Je,transformMat3:()=>wr,transformMat4:()=>yr,transformQuat:()=>Pr,zero:()=>Tr});var c={};r.r(c),r.d(c,{add:()=>Wr,ceil:()=>Zr,clone:()=>Vr,copy:()=>Nr,create:()=>Gr,cross:()=>ln,dist:()=>_n,distance:()=>nn,div:()=>Pn,divide:()=>Kr,dot:()=>fn,equals:()=>gn,exactEquals:()=>xn,floor:()=>$r,forEach:()=>Tn,fromValues:()=>Fr,inverse:()=>cn,len:()=>Ln,length:()=>on,lerp:()=>vn,max:()=>Jr,min:()=>Qr,mul:()=>wn,multiply:()=>Hr,negate:()=>un,normalize:()=>hn,random:()=>mn,round:()=>tn,scale:()=>en,scaleAndAdd:()=>rn,set:()=>Yr,sqrDist:()=>qn,sqrLen:()=>An,squaredDistance:()=>an,squaredLength:()=>sn,str:()=>bn,sub:()=>yn,subtract:()=>Xr,transformMat4:()=>Mn,transformQuat:()=>dn,zero:()=>pn});var h={};r.r(h),r.d(h,{add:()=>ia,calculateW:()=>On,clone:()=>ea,conjugate:()=>Yn,copy:()=>na,create:()=>En,dot:()=>ua,equals:()=>da,exactEquals:()=>Ma,exp:()=>kn,fromEuler:()=>Xn,fromMat3:()=>Wn,fromValues:()=>ra,getAngle:()=>Rn,getAxisAngle:()=>Un,identity:()=>Cn,invert:()=>Nn,len:()=>fa,length:()=>ha,lerp:()=>ca,ln:()=>jn,mul:()=>oa,multiply:()=>Dn,normalize:()=>ma,pow:()=>Gn,random:()=>Fn,rotateX:()=>In,rotateY:()=>Bn,rotateZ:()=>zn,rotationTo:()=>pa,scale:()=>sa,set:()=>aa,setAxes:()=>xa,setAxisAngle:()=>Sn,slerp:()=>Vn,sqlerp:()=>ba,sqrLen:()=>va,squaredLength:()=>la,str:()=>Hn});var f={};r.r(f),r.d(f,{add:()=>Fa,clone:()=>ya,conjugate:()=>Za,copy:()=>Ta,create:()=>ga,dot:()=>Xa,equals:()=>ai,exactEquals:()=>ni,fromMat4:()=>Aa,fromRotation:()=>La,fromRotationTranslation:()=>_a,fromRotationTranslationValues:()=>Pa,fromTranslation:()=>qa,fromValues:()=>wa,getDual:()=>Ua,getReal:()=>Sa,getTranslation:()=>Ia,identity:()=>Ea,invert:()=>Ka,len:()=>Qa,length:()=>$a,lerp:()=>Ha,mul:()=>Ya,multiply:()=>Na,normalize:()=>ei,rotateAroundAxis:()=>Va,rotateByQuatAppend:()=>ja,rotateByQuatPrepend:()=>Ga,rotateX:()=>za,rotateY:()=>Oa,rotateZ:()=>ka,scale:()=>Wa,set:()=>Ca,setDual:()=>Da,setReal:()=>Ra,sqrLen:()=>ti,squaredLength:()=>Ja,str:()=>ri,translate:()=>Ba});var l={};r.r(l),r.d(l,{add:()=>hi,angle:()=>zi,ceil:()=>mi,clone:()=>oi,copy:()=>ui,create:()=>ii,cross:()=>Ei,dist:()=>Wi,distance:()=>yi,div:()=>Yi,divide:()=>vi,dot:()=>Ti,equals:()=>Gi,exactEquals:()=>ji,floor:()=>Mi,forEach:()=>Ki,fromValues:()=>si,inverse:()=>Li,len:()=>Vi,length:()=>Pi,lerp:()=>Ci,max:()=>pi,min:()=>di,mul:()=>Ni,multiply:()=>li,negate:()=>qi,normalize:()=>Ai,random:()=>Si,rotate:()=>Bi,round:()=>bi,scale:()=>xi,scaleAndAdd:()=>gi,set:()=>ci,sqrDist:()=>Xi,sqrLen:()=>Hi,squaredDistance:()=>wi,squaredLength:()=>_i,str:()=>ki,sub:()=>Fi,subtract:()=>fi,transformMat2:()=>Ui,transformMat2d:()=>Ri,transformMat3:()=>Di,transformMat4:()=>Ii,zero:()=>Oi});var v=1e-6,m="undefined"!=typeof Float32Array?Float32Array:Array,M=Math.random;function d(t){m=t}var p=Math.PI/180;function b(t){return t*p}function x(t,e){return Math.abs(t-e)<=v*Math.max(1,Math.abs(t),Math.abs(e))}function g(){var t=new m(4);return m!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function y(t){var e=new m(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function P(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function _(t,e,r,n){var a=new m(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=n,a}function q(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t}function L(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function A(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r*i-a*n;return o?(o=1/o,t[0]=i*o,t[1]=-n*o,t[2]=-a*o,t[3]=r*o,t):null}function T(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}function E(t){return t[0]*t[3]-t[2]*t[1]}function C(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=r[0],u=r[1],c=r[2],h=r[3];return t[0]=n*s+i*u,t[1]=a*s+o*u,t[2]=n*c+i*h,t[3]=a*c+o*h,t}function S(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+i*s,t[1]=a*u+o*s,t[2]=n*-s+i*u,t[3]=a*-s+o*u,t}function U(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=r[0],u=r[1];return t[0]=n*s,t[1]=a*s,t[2]=i*u,t[3]=o*u,t}function R(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t}function D(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function I(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function B(t){return Math.hypot(t[0],t[1],t[2],t[3])}function z(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]}function O(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function k(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function j(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function G(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(r-o)<=v*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=v*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=v*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=v*Math.max(1,Math.abs(i),Math.abs(c))}function V(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function F(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var N=C,Y=k;function W(){var t=new m(6);return m!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function X(t){var e=new m(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function H(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function K(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Z(t,e,r,n,a,i){var o=new m(6);return o[0]=t,o[1]=e,o[2]=r,o[3]=n,o[4]=a,o[5]=i,o}function $(t,e,r,n,a,i,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=o,t}function Q(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=r*i-n*a;return u?(u=1/u,t[0]=i*u,t[1]=-n*u,t[2]=-a*u,t[3]=r*u,t[4]=(a*s-i*o)*u,t[5]=(n*o-r*s)*u,t):null}function J(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=r[0],h=r[1],f=r[2],l=r[3],v=r[4],m=r[5];return t[0]=n*c+i*h,t[1]=a*c+o*h,t[2]=n*f+i*l,t[3]=a*f+o*l,t[4]=n*v+i*m+s,t[5]=a*v+o*m+u,t}function et(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=Math.sin(r),h=Math.cos(r);return t[0]=n*h+i*c,t[1]=a*h+o*c,t[2]=n*-c+i*h,t[3]=a*-c+o*h,t[4]=s,t[5]=u,t}function rt(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=r[0],h=r[1];return t[0]=n*c,t[1]=a*c,t[2]=i*h,t[3]=o*h,t[4]=s,t[5]=u,t}function nt(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=r[0],h=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=n*c+i*h+s,t[5]=a*c+o*h+u,t}function at(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t}function it(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function ot(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function st(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ut(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function ct(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t}function ht(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}function ft(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t}function lt(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t}function vt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function mt(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=e[0],c=e[1],h=e[2],f=e[3],l=e[4],m=e[5];return Math.abs(r-u)<=v*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-c)<=v*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-h)<=v*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(i-f)<=v*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-l)<=v*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(s-m)<=v*Math.max(1,Math.abs(s),Math.abs(m))}var Mt=tt,dt=ht;function pt(){var t=new m(9);return m!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function bt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function xt(t){var e=new m(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function gt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function yt(t,e,r,n,a,i,o,s,u){var c=new m(9);return c[0]=t,c[1]=e,c[2]=r,c[3]=n,c[4]=a,c[5]=i,c[6]=o,c[7]=s,c[8]=u,c}function wt(t,e,r,n,a,i,o,s,u,c){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=o,t[6]=s,t[7]=u,t[8]=c,t}function Pt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function _t(t,e){if(t===e){var r=e[1],n=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function qt(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=h*o-s*c,l=-h*i+s*u,v=c*i-o*u,m=r*f+n*l+a*v;return m?(m=1/m,t[0]=f*m,t[1]=(-h*n+a*c)*m,t[2]=(s*n-a*o)*m,t[3]=l*m,t[4]=(h*r-a*u)*m,t[5]=(-s*r+a*i)*m,t[6]=v*m,t[7]=(-c*r+n*u)*m,t[8]=(o*r-n*i)*m,t):null}function Lt(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=o*h-s*c,t[1]=a*c-n*h,t[2]=n*s-a*o,t[3]=s*u-i*h,t[4]=r*h-a*u,t[5]=a*i-r*s,t[6]=i*c-o*u,t[7]=n*u-r*c,t[8]=r*o-n*i,t}function At(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],o=t[5],s=t[6],u=t[7],c=t[8];return e*(c*i-o*u)+r*(-c*a+o*s)+n*(u*a-i*s)}function Tt(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=r[0],v=r[1],m=r[2],M=r[3],d=r[4],p=r[5],b=r[6],x=r[7],g=r[8];return t[0]=l*n+v*o+m*c,t[1]=l*a+v*s+m*h,t[2]=l*i+v*u+m*f,t[3]=M*n+d*o+p*c,t[4]=M*a+d*s+p*h,t[5]=M*i+d*u+p*f,t[6]=b*n+x*o+g*c,t[7]=b*a+x*s+g*h,t[8]=b*i+x*u+g*f,t}function Et(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=r[0],v=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=s,t[5]=u,t[6]=l*n+v*o+c,t[7]=l*a+v*s+h,t[8]=l*i+v*u+f,t}function Ct(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=Math.sin(r),v=Math.cos(r);return t[0]=v*n+l*o,t[1]=v*a+l*s,t[2]=v*i+l*u,t[3]=v*o-l*n,t[4]=v*s-l*a,t[5]=v*u-l*i,t[6]=c,t[7]=h,t[8]=f,t}function St(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ut(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Rt(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Dt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function It(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Bt(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r+r,s=n+n,u=a+a,c=r*o,h=n*o,f=n*s,l=a*o,v=a*s,m=a*u,M=i*o,d=i*s,p=i*u;return t[0]=1-f-m,t[3]=h-p,t[6]=l+d,t[1]=h+p,t[4]=1-c-m,t[7]=v-M,t[2]=l-d,t[5]=v+M,t[8]=1-c-f,t}function zt(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=e[9],l=e[10],v=e[11],m=e[12],M=e[13],d=e[14],p=e[15],b=r*s-n*o,x=r*u-a*o,g=r*c-i*o,y=n*u-a*s,w=n*c-i*s,P=a*c-i*u,_=h*M-f*m,q=h*d-l*m,L=h*p-v*m,A=f*d-l*M,T=f*p-v*M,E=l*p-v*d,C=b*E-x*T+g*A+y*L-w*q+P*_;return C?(C=1/C,t[0]=(s*E-u*T+c*A)*C,t[1]=(u*L-o*E-c*q)*C,t[2]=(o*T-s*L+c*_)*C,t[3]=(a*T-n*E-i*A)*C,t[4]=(r*E-a*L+i*q)*C,t[5]=(n*L-r*T-i*_)*C,t[6]=(M*P-d*w+p*y)*C,t[7]=(d*g-m*P-p*x)*C,t[8]=(m*w-M*g+p*b)*C,t):null}function Ot(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function kt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function jt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Gt(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function Vt(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function Ft(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function Nt(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function Yt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Wt(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],h=t[8],f=e[0],l=e[1],m=e[2],M=e[3],d=e[4],p=e[5],b=e[6],x=e[7],g=e[8];return Math.abs(r-f)<=v*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-l)<=v*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(a-m)<=v*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(i-M)<=v*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(o-d)<=v*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-p)<=v*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(u-b)<=v*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(c-x)<=v*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(h-g)<=v*Math.max(1,Math.abs(h),Math.abs(g))}var Xt=Tt,Ht=Vt;function Kt(){var t=new m(16);return m!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Zt(t){var e=new m(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function $t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Qt(t,e,r,n,a,i,o,s,u,c,h,f,l,v,M,d){var p=new m(16);return p[0]=t,p[1]=e,p[2]=r,p[3]=n,p[4]=a,p[5]=i,p[6]=o,p[7]=s,p[8]=u,p[9]=c,p[10]=h,p[11]=f,p[12]=l,p[13]=v,p[14]=M,p[15]=d,p}function Jt(t,e,r,n,a,i,o,s,u,c,h,f,l,v,m,M,d){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=o,t[6]=s,t[7]=u,t[8]=c,t[9]=h,t[10]=f,t[11]=l,t[12]=v,t[13]=m,t[14]=M,t[15]=d,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){var r=e[1],n=e[2],a=e[3],i=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=i,t[11]=e[14],t[12]=a,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function re(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=e[9],l=e[10],v=e[11],m=e[12],M=e[13],d=e[14],p=e[15],b=r*s-n*o,x=r*u-a*o,g=r*c-i*o,y=n*u-a*s,w=n*c-i*s,P=a*c-i*u,_=h*M-f*m,q=h*d-l*m,L=h*p-v*m,A=f*d-l*M,T=f*p-v*M,E=l*p-v*d,C=b*E-x*T+g*A+y*L-w*q+P*_;return C?(C=1/C,t[0]=(s*E-u*T+c*A)*C,t[1]=(a*T-n*E-i*A)*C,t[2]=(M*P-d*w+p*y)*C,t[3]=(l*w-f*P-v*y)*C,t[4]=(u*L-o*E-c*q)*C,t[5]=(r*E-a*L+i*q)*C,t[6]=(d*g-m*P-p*x)*C,t[7]=(h*P-l*g+v*x)*C,t[8]=(o*T-s*L+c*_)*C,t[9]=(n*L-r*T-i*_)*C,t[10]=(m*w-M*g+p*b)*C,t[11]=(f*g-h*w-v*b)*C,t[12]=(s*q-o*A-u*_)*C,t[13]=(r*A-n*q+a*_)*C,t[14]=(M*x-m*y-d*b)*C,t[15]=(h*y-f*x+l*b)*C,t):null}function ne(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],f=e[9],l=e[10],v=e[11],m=e[12],M=e[13],d=e[14],p=e[15];return t[0]=s*(l*p-v*d)-f*(u*p-c*d)+M*(u*v-c*l),t[1]=-(n*(l*p-v*d)-f*(a*p-i*d)+M*(a*v-i*l)),t[2]=n*(u*p-c*d)-s*(a*p-i*d)+M*(a*c-i*u),t[3]=-(n*(u*v-c*l)-s*(a*v-i*l)+f*(a*c-i*u)),t[4]=-(o*(l*p-v*d)-h*(u*p-c*d)+m*(u*v-c*l)),t[5]=r*(l*p-v*d)-h*(a*p-i*d)+m*(a*v-i*l),t[6]=-(r*(u*p-c*d)-o*(a*p-i*d)+m*(a*c-i*u)),t[7]=r*(u*v-c*l)-o*(a*v-i*l)+h*(a*c-i*u),t[8]=o*(f*p-v*M)-h*(s*p-c*M)+m*(s*v-c*f),t[9]=-(r*(f*p-v*M)-h*(n*p-i*M)+m*(n*v-i*f)),t[10]=r*(s*p-c*M)-o*(n*p-i*M)+m*(n*c-i*s),t[11]=-(r*(s*v-c*f)-o*(n*v-i*f)+h*(n*c-i*s)),t[12]=-(o*(f*d-l*M)-h*(s*d-u*M)+m*(s*l-u*f)),t[13]=r*(f*d-l*M)-h*(n*d-a*M)+m*(n*l-a*f),t[14]=-(r*(s*d-u*M)-o*(n*d-a*M)+m*(n*u-a*s)),t[15]=r*(s*l-u*f)-o*(n*l-a*f)+h*(n*u-a*s),t}function ae(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],o=t[5],s=t[6],u=t[7],c=t[8],h=t[9],f=t[10],l=t[11],v=t[12],m=t[13],M=t[14],d=t[15];return(e*o-r*i)*(f*d-l*M)-(e*s-n*i)*(h*d-l*m)+(e*u-a*i)*(h*M-f*m)+(r*s-n*o)*(c*d-l*v)-(r*u-a*o)*(c*M-f*v)+(n*u-a*s)*(c*m-h*v)}function ie(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=e[9],v=e[10],m=e[11],M=e[12],d=e[13],p=e[14],b=e[15],x=r[0],g=r[1],y=r[2],w=r[3];return t[0]=x*n+g*s+y*f+w*M,t[1]=x*a+g*u+y*l+w*d,t[2]=x*i+g*c+y*v+w*p,t[3]=x*o+g*h+y*m+w*b,x=r[4],g=r[5],y=r[6],w=r[7],t[4]=x*n+g*s+y*f+w*M,t[5]=x*a+g*u+y*l+w*d,t[6]=x*i+g*c+y*v+w*p,t[7]=x*o+g*h+y*m+w*b,x=r[8],g=r[9],y=r[10],w=r[11],t[8]=x*n+g*s+y*f+w*M,t[9]=x*a+g*u+y*l+w*d,t[10]=x*i+g*c+y*v+w*p,t[11]=x*o+g*h+y*m+w*b,x=r[12],g=r[13],y=r[14],w=r[15],t[12]=x*n+g*s+y*f+w*M,t[13]=x*a+g*u+y*l+w*d,t[14]=x*i+g*c+y*v+w*p,t[15]=x*o+g*h+y*m+w*b,t}function oe(t,e,r){var n,a,i,o,s,u,c,h,f,l,v,m,M=r[0],d=r[1],p=r[2];return e===t?(t[12]=e[0]*M+e[4]*d+e[8]*p+e[12],t[13]=e[1]*M+e[5]*d+e[9]*p+e[13],t[14]=e[2]*M+e[6]*d+e[10]*p+e[14],t[15]=e[3]*M+e[7]*d+e[11]*p+e[15]):(n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=e[9],v=e[10],m=e[11],t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=s,t[5]=u,t[6]=c,t[7]=h,t[8]=f,t[9]=l,t[10]=v,t[11]=m,t[12]=n*M+s*d+f*p+e[12],t[13]=a*M+u*d+l*p+e[13],t[14]=i*M+c*d+v*p+e[14],t[15]=o*M+h*d+m*p+e[15]),t}function se(t,e,r){var n=r[0],a=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ue(t,e,r,n){var a,i,o,s,u,c,h,f,l,m,M,d,p,b,x,g,y,w,P,_,q,L,A,T,E=n[0],C=n[1],S=n[2],U=Math.hypot(E,C,S);return U<v?null:(E*=U=1/U,C*=U,S*=U,a=Math.sin(r),o=1-(i=Math.cos(r)),s=e[0],u=e[1],c=e[2],h=e[3],f=e[4],l=e[5],m=e[6],M=e[7],d=e[8],p=e[9],b=e[10],x=e[11],g=E*E*o+i,y=C*E*o+S*a,w=S*E*o-C*a,P=E*C*o-S*a,_=C*C*o+i,q=S*C*o+E*a,L=E*S*o+C*a,A=C*S*o-E*a,T=S*S*o+i,t[0]=s*g+f*y+d*w,t[1]=u*g+l*y+p*w,t[2]=c*g+m*y+b*w,t[3]=h*g+M*y+x*w,t[4]=s*P+f*_+d*q,t[5]=u*P+l*_+p*q,t[6]=c*P+m*_+b*q,t[7]=h*P+M*_+x*q,t[8]=s*L+f*A+d*T,t[9]=u*L+l*A+p*T,t[10]=c*L+m*A+b*T,t[11]=h*L+M*A+x*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function ce(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],h=e[9],f=e[10],l=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+c*n,t[5]=o*a+h*n,t[6]=s*a+f*n,t[7]=u*a+l*n,t[8]=c*a-i*n,t[9]=h*a-o*n,t[10]=f*a-s*n,t[11]=l*a-u*n,t}function he(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],s=e[2],u=e[3],c=e[8],h=e[9],f=e[10],l=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-c*n,t[1]=o*a-h*n,t[2]=s*a-f*n,t[3]=u*a-l*n,t[8]=i*n+c*a,t[9]=o*n+h*a,t[10]=s*n+f*a,t[11]=u*n+l*a,t}function fe(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],s=e[2],u=e[3],c=e[4],h=e[5],f=e[6],l=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+c*n,t[1]=o*a+h*n,t[2]=s*a+f*n,t[3]=u*a+l*n,t[4]=c*a-i*n,t[5]=h*a-o*n,t[6]=f*a-s*n,t[7]=l*a-u*n,t}function le(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function ve(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function me(t,e,r){var n,a,i,o=r[0],s=r[1],u=r[2],c=Math.hypot(o,s,u);return c<v?null:(o*=c=1/c,s*=c,u*=c,n=Math.sin(e),i=1-(a=Math.cos(e)),t[0]=o*o*i+a,t[1]=s*o*i+u*n,t[2]=u*o*i-s*n,t[3]=0,t[4]=o*s*i-u*n,t[5]=s*s*i+a,t[6]=u*s*i+o*n,t[7]=0,t[8]=o*u*i+s*n,t[9]=s*u*i-o*n,t[10]=u*u*i+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function Me(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function de(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pe(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function be(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=n+n,u=a+a,c=i+i,h=n*s,f=n*u,l=n*c,v=a*u,m=a*c,M=i*c,d=o*s,p=o*u,b=o*c;return t[0]=1-(v+M),t[1]=f+b,t[2]=l-p,t[3]=0,t[4]=f-b,t[5]=1-(h+M),t[6]=m+d,t[7]=0,t[8]=l+p,t[9]=m-d,t[10]=1-(h+v),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function xe(t,e){var r=new m(3),n=-e[0],a=-e[1],i=-e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=n*n+a*a+i*i+o*o;return f>0?(r[0]=2*(s*o+h*n+u*i-c*a)/f,r[1]=2*(u*o+h*a+c*n-s*i)/f,r[2]=2*(c*o+h*i+s*a-u*n)/f):(r[0]=2*(s*o+h*n+u*i-c*a),r[1]=2*(u*o+h*a+c*n-s*i),r[2]=2*(c*o+h*i+s*a-u*n)),be(t,e,r),t}function ge(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function ye(t,e){var r=e[0],n=e[1],a=e[2],i=e[4],o=e[5],s=e[6],u=e[8],c=e[9],h=e[10];return t[0]=Math.hypot(r,n,a),t[1]=Math.hypot(i,o,s),t[2]=Math.hypot(u,c,h),t}function we(t,e){var r=new m(3);ye(r,e);var n=1/r[0],a=1/r[1],i=1/r[2],o=e[0]*n,s=e[1]*a,u=e[2]*i,c=e[4]*n,h=e[5]*a,f=e[6]*i,l=e[8]*n,v=e[9]*a,M=e[10]*i,d=o+h+M,p=0;return d>0?(p=2*Math.sqrt(d+1),t[3]=.25*p,t[0]=(f-v)/p,t[1]=(l-u)/p,t[2]=(s-c)/p):o>h&&o>M?(p=2*Math.sqrt(1+o-h-M),t[3]=(f-v)/p,t[0]=.25*p,t[1]=(s+c)/p,t[2]=(l+u)/p):h>M?(p=2*Math.sqrt(1+h-o-M),t[3]=(l-u)/p,t[0]=(s+c)/p,t[1]=.25*p,t[2]=(f+v)/p):(p=2*Math.sqrt(1+M-o-h),t[3]=(s-c)/p,t[0]=(l+u)/p,t[1]=(f+v)/p,t[2]=.25*p),t}function Pe(t,e,r,n){var a=e[0],i=e[1],o=e[2],s=e[3],u=a+a,c=i+i,h=o+o,f=a*u,l=a*c,v=a*h,m=i*c,M=i*h,d=o*h,p=s*u,b=s*c,x=s*h,g=n[0],y=n[1],w=n[2];return t[0]=(1-(m+d))*g,t[1]=(l+x)*g,t[2]=(v-b)*g,t[3]=0,t[4]=(l-x)*y,t[5]=(1-(f+d))*y,t[6]=(M+p)*y,t[7]=0,t[8]=(v+b)*w,t[9]=(M-p)*w,t[10]=(1-(f+m))*w,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function _e(t,e,r,n,a){var i=e[0],o=e[1],s=e[2],u=e[3],c=i+i,h=o+o,f=s+s,l=i*c,v=i*h,m=i*f,M=o*h,d=o*f,p=s*f,b=u*c,x=u*h,g=u*f,y=n[0],w=n[1],P=n[2],_=a[0],q=a[1],L=a[2],A=(1-(M+p))*y,T=(v+g)*y,E=(m-x)*y,C=(v-g)*w,S=(1-(l+p))*w,U=(d+b)*w,R=(m+x)*P,D=(d-b)*P,I=(1-(l+M))*P;return t[0]=A,t[1]=T,t[2]=E,t[3]=0,t[4]=C,t[5]=S,t[6]=U,t[7]=0,t[8]=R,t[9]=D,t[10]=I,t[11]=0,t[12]=r[0]+_-(A*_+C*q+R*L),t[13]=r[1]+q-(T*_+S*q+D*L),t[14]=r[2]+L-(E*_+U*q+I*L),t[15]=1,t}function qe(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r+r,s=n+n,u=a+a,c=r*o,h=n*o,f=n*s,l=a*o,v=a*s,m=a*u,M=i*o,d=i*s,p=i*u;return t[0]=1-f-m,t[1]=h+p,t[2]=l-d,t[3]=0,t[4]=h-p,t[5]=1-c-m,t[6]=v+M,t[7]=0,t[8]=l+d,t[9]=v-M,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Le(t,e,r,n,a,i,o){var s=1/(r-e),u=1/(a-n),c=1/(i-o);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*u,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(a+n)*u,t[10]=(o+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i*2*c,t[15]=0,t}function Ae(t,e,r,n,a){var i,o=1/Math.tan(e/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(i=1/(n-a),t[10]=(a+n)*i,t[14]=2*a*n*i):(t[10]=-1,t[14]=-2*n),t}var Te=Ae;function Ee(t,e,r,n,a){var i,o=1/Math.tan(e/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(i=1/(n-a),t[10]=a*i,t[14]=a*n*i):(t[10]=-1,t[14]=-n),t}function Ce(t,e,r,n){var a=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+s),c=2/(a+i);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-s)*u*.5,t[9]=(a-i)*c*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function Se(t,e,r,n,a,i,o){var s=1/(e-r),u=1/(n-a),c=1/(i-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*s,t[13]=(a+n)*u,t[14]=(o+i)*c,t[15]=1,t}var Ue=Se;function Re(t,e,r,n,a,i,o){var s=1/(e-r),u=1/(n-a),c=1/(i-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=c,t[11]=0,t[12]=(e+r)*s,t[13]=(a+n)*u,t[14]=i*c,t[15]=1,t}function De(t,e,r,n){var a,i,o,s,u,c,h,f,l,m,M=e[0],d=e[1],p=e[2],b=n[0],x=n[1],g=n[2],y=r[0],w=r[1],P=r[2];return Math.abs(M-y)<v&&Math.abs(d-w)<v&&Math.abs(p-P)<v?te(t):(h=M-y,f=d-w,l=p-P,a=x*(l*=m=1/Math.hypot(h,f,l))-g*(f*=m),i=g*(h*=m)-b*l,o=b*f-x*h,(m=Math.hypot(a,i,o))?(a*=m=1/m,i*=m,o*=m):(a=0,i=0,o=0),s=f*o-l*i,u=l*a-h*o,c=h*i-f*a,(m=Math.hypot(s,u,c))?(s*=m=1/m,u*=m,c*=m):(s=0,u=0,c=0),t[0]=a,t[1]=s,t[2]=h,t[3]=0,t[4]=i,t[5]=u,t[6]=f,t[7]=0,t[8]=o,t[9]=c,t[10]=l,t[11]=0,t[12]=-(a*M+i*d+o*p),t[13]=-(s*M+u*d+c*p),t[14]=-(h*M+f*d+l*p),t[15]=1,t)}function Ie(t,e,r,n){var a=e[0],i=e[1],o=e[2],s=n[0],u=n[1],c=n[2],h=a-r[0],f=i-r[1],l=o-r[2],v=h*h+f*f+l*l;v>0&&(h*=v=1/Math.sqrt(v),f*=v,l*=v);var m=u*l-c*f,M=c*h-s*l,d=s*f-u*h;return(v=m*m+M*M+d*d)>0&&(m*=v=1/Math.sqrt(v),M*=v,d*=v),t[0]=m,t[1]=M,t[2]=d,t[3]=0,t[4]=f*d-l*M,t[5]=l*m-h*d,t[6]=h*M-f*m,t[7]=0,t[8]=h,t[9]=f,t[10]=l,t[11]=0,t[12]=a,t[13]=i,t[14]=o,t[15]=1,t}function Be(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function ze(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Oe(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function ke(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function je(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function Ge(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function Ve(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Fe(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],h=t[8],f=t[9],l=t[10],m=t[11],M=t[12],d=t[13],p=t[14],b=t[15],x=e[0],g=e[1],y=e[2],w=e[3],P=e[4],_=e[5],q=e[6],L=e[7],A=e[8],T=e[9],E=e[10],C=e[11],S=e[12],U=e[13],R=e[14],D=e[15];return Math.abs(r-x)<=v*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(n-g)<=v*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(a-y)<=v*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(i-w)<=v*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-P)<=v*Math.max(1,Math.abs(o),Math.abs(P))&&Math.abs(s-_)<=v*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(u-q)<=v*Math.max(1,Math.abs(u),Math.abs(q))&&Math.abs(c-L)<=v*Math.max(1,Math.abs(c),Math.abs(L))&&Math.abs(h-A)<=v*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(f-T)<=v*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(l-E)<=v*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(m-C)<=v*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(M-S)<=v*Math.max(1,Math.abs(M),Math.abs(S))&&Math.abs(d-U)<=v*Math.max(1,Math.abs(d),Math.abs(U))&&Math.abs(p-R)<=v*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(b-D)<=v*Math.max(1,Math.abs(b),Math.abs(D))}var Ne=ie,Ye=ke;function We(){var t=new m(3);return m!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Xe(t){var e=new m(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function He(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function Ke(t,e,r){var n=new m(3);return n[0]=t,n[1]=e,n[2]=r,n}function Ze(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function $e(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function Qe(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function Je(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function tr(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function er(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function rr(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function nr(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function ar(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function ir(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function or(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function sr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function ur(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function cr(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return Math.hypot(r,n,a)}function hr(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return r*r+n*n+a*a}function fr(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function lr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function vr(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function mr(t,e){var r=e[0],n=e[1],a=e[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function Mr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function dr(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[0],s=r[1],u=r[2];return t[0]=a*u-i*s,t[1]=i*o-n*u,t[2]=n*s-a*o,t}function pr(t,e,r,n){var a=e[0],i=e[1],o=e[2];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=o+n*(r[2]-o),t}function br(t,e,r,n,a,i){var o=i*i,s=o*(2*i-3)+1,u=o*(i-2)+i,c=o*(i-1),h=o*(3-2*i);return t[0]=e[0]*s+r[0]*u+n[0]*c+a[0]*h,t[1]=e[1]*s+r[1]*u+n[1]*c+a[1]*h,t[2]=e[2]*s+r[2]*u+n[2]*c+a[2]*h,t}function xr(t,e,r,n,a,i){var o=1-i,s=o*o,u=i*i,c=s*o,h=3*i*s,f=3*u*o,l=u*i;return t[0]=e[0]*c+r[0]*h+n[0]*f+a[0]*l,t[1]=e[1]*c+r[1]*h+n[1]*f+a[1]*l,t[2]=e[2]*c+r[2]*h+n[2]*f+a[2]*l,t}function gr(t,e){e=e||1;var r=2*M()*Math.PI,n=2*M()-1,a=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t[2]=n*e,t}function yr(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[3]*n+r[7]*a+r[11]*i+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/o,t[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/o,t[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/o,t}function wr(t,e,r){var n=e[0],a=e[1],i=e[2];return t[0]=n*r[0]+a*r[3]+i*r[6],t[1]=n*r[1]+a*r[4]+i*r[7],t[2]=n*r[2]+a*r[5]+i*r[8],t}function Pr(t,e,r){var n=r[0],a=r[1],i=r[2],o=r[3],s=e[0],u=e[1],c=e[2],h=a*c-i*u,f=i*s-n*c,l=n*u-a*s,v=a*l-i*f,m=i*h-n*l,M=n*f-a*h,d=2*o;return h*=d,f*=d,l*=d,v*=2,m*=2,M*=2,t[0]=s+h+v,t[1]=u+f+m,t[2]=c+l+M,t}function _r(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t}function qr(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t}function Lr(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t}function Ar(t,e){var r=t[0],n=t[1],a=t[2],i=e[0],o=e[1],s=e[2],u=Math.sqrt(r*r+n*n+a*a)*Math.sqrt(i*i+o*o+s*s),c=u&&Mr(t,e)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function Tr(t){return t[0]=0,t[1]=0,t[2]=0,t}function Er(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Cr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Sr(t,e){var r=t[0],n=t[1],a=t[2],i=e[0],o=e[1],s=e[2];return Math.abs(r-i)<=v*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=v*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-s)<=v*Math.max(1,Math.abs(a),Math.abs(s))}var Ur,Rr=Je,Dr=tr,Ir=er,Br=cr,zr=hr,Or=He,kr=fr,jr=(Ur=We(),function(t,e,r,n,a,i){var o,s;for(e||(e=3),r||(r=0),s=n?Math.min(n*e+r,t.length):t.length,o=r;o<s;o+=e)Ur[0]=t[o],Ur[1]=t[o+1],Ur[2]=t[o+2],a(Ur,Ur,i),t[o]=Ur[0],t[o+1]=Ur[1],t[o+2]=Ur[2];return t});function Gr(){var t=new m(4);return m!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Vr(t){var e=new m(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Fr(t,e,r,n){var a=new m(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=n,a}function Nr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Yr(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t}function Wr(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function Xr(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function Hr(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function Kr(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function Zr(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function $r(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Qr(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function Jr(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function tn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function en(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function rn(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}function nn(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return Math.hypot(r,n,a,i)}function an(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return r*r+n*n+a*a+i*i}function on(t){var e=t[0],r=t[1],n=t[2],a=t[3];return Math.hypot(e,r,n,a)}function sn(t){var e=t[0],r=t[1],n=t[2],a=t[3];return e*e+r*r+n*n+a*a}function un(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function cn(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function hn(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r*r+n*n+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=n*o,t[2]=a*o,t[3]=i*o,t}function fn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function ln(t,e,r,n){var a=r[0]*n[1]-r[1]*n[0],i=r[0]*n[2]-r[2]*n[0],o=r[0]*n[3]-r[3]*n[0],s=r[1]*n[2]-r[2]*n[1],u=r[1]*n[3]-r[3]*n[1],c=r[2]*n[3]-r[3]*n[2],h=e[0],f=e[1],l=e[2],v=e[3];return t[0]=f*c-l*u+v*s,t[1]=-h*c+l*o-v*i,t[2]=h*u-f*o+v*a,t[3]=-h*s+f*i-l*a,t}function vn(t,e,r,n){var a=e[0],i=e[1],o=e[2],s=e[3];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=o+n*(r[2]-o),t[3]=s+n*(r[3]-s),t}function mn(t,e){var r,n,a,i,o,s;e=e||1;do{o=(r=2*M()-1)*r+(n=2*M()-1)*n}while(o>=1);do{s=(a=2*M()-1)*a+(i=2*M()-1)*i}while(s>=1);var u=Math.sqrt((1-o)/s);return t[0]=e*r,t[1]=e*n,t[2]=e*a*u,t[3]=e*i*u,t}function Mn(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3];return t[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*o,t[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*o,t[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*o,t[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*o,t}function dn(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[0],s=r[1],u=r[2],c=r[3],h=c*n+s*i-u*a,f=c*a+u*n-o*i,l=c*i+o*a-s*n,v=-o*n-s*a-u*i;return t[0]=h*c+v*-o+f*-u-l*-s,t[1]=f*c+v*-s+l*-o-h*-u,t[2]=l*c+v*-u+h*-s-f*-o,t[3]=e[3],t}function pn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function bn(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function xn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function gn(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(r-o)<=v*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=v*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=v*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=v*Math.max(1,Math.abs(i),Math.abs(c))}var yn=Xr,wn=Hr,Pn=Kr,_n=nn,qn=an,Ln=on,An=sn,Tn=function(){var t=Gr();return function(e,r,n,a,i,o){var s,u;for(r||(r=4),n||(n=0),u=a?Math.min(a*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],i(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();function En(){var t=new m(4);return m!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Cn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Sn(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function Un(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return n>v?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r}function Rn(t,e){var r=ua(t,e);return Math.acos(2*r*r-1)}function Dn(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=r[0],u=r[1],c=r[2],h=r[3];return t[0]=n*h+o*s+a*c-i*u,t[1]=a*h+o*u+i*s-n*c,t[2]=i*h+o*c+n*u-a*s,t[3]=o*h-n*s-a*u-i*c,t}function In(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+o*s,t[1]=a*u+i*s,t[2]=i*u-a*s,t[3]=o*u-n*s,t}function Bn(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u-i*s,t[1]=a*u+o*s,t[2]=i*u+n*s,t[3]=o*u-a*s,t}function zn(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+a*s,t[1]=a*u-n*s,t[2]=i*u+o*s,t[3]=o*u-i*s,t}function On(t,e){var r=e[0],n=e[1],a=e[2];return t[0]=r,t[1]=n,t[2]=a,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),t}function kn(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=Math.sqrt(r*r+n*n+a*a),s=Math.exp(i),u=o>0?s*Math.sin(o)/o:0;return t[0]=r*u,t[1]=n*u,t[2]=a*u,t[3]=s*Math.cos(o),t}function jn(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=Math.sqrt(r*r+n*n+a*a),s=o>0?Math.atan2(o,i)/o:0;return t[0]=r*s,t[1]=n*s,t[2]=a*s,t[3]=.5*Math.log(r*r+n*n+a*a+i*i),t}function Gn(t,e,r){return jn(t,e),sa(t,t,r),kn(t,t),t}function Vn(t,e,r,n){var a,i,o,s,u,c=e[0],h=e[1],f=e[2],l=e[3],m=r[0],M=r[1],d=r[2],p=r[3];return(i=c*m+h*M+f*d+l*p)<0&&(i=-i,m=-m,M=-M,d=-d,p=-p),1-i>v?(a=Math.acos(i),o=Math.sin(a),s=Math.sin((1-n)*a)/o,u=Math.sin(n*a)/o):(s=1-n,u=n),t[0]=s*c+u*m,t[1]=s*h+u*M,t[2]=s*f+u*d,t[3]=s*l+u*p,t}function Fn(t){var e=M(),r=M(),n=M(),a=Math.sqrt(1-e),i=Math.sqrt(e);return t[0]=a*Math.sin(2*Math.PI*r),t[1]=a*Math.cos(2*Math.PI*r),t[2]=i*Math.sin(2*Math.PI*n),t[3]=i*Math.cos(2*Math.PI*n),t}function Nn(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r*r+n*n+a*a+i*i,s=o?1/o:0;return t[0]=-r*s,t[1]=-n*s,t[2]=-a*s,t[3]=i*s,t}function Yn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Wn(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;r=Math.sqrt(e[3*a+a]-e[3*i+i]-e[3*o+o]+1),t[a]=.5*r,r=.5/r,t[3]=(e[3*i+o]-e[3*o+i])*r,t[i]=(e[3*i+a]+e[3*a+i])*r,t[o]=(e[3*o+a]+e[3*a+o])*r}return t}function Xn(t,e,r,n){var a=.5*Math.PI/180;e*=a,r*=a,n*=a;var i=Math.sin(e),o=Math.cos(e),s=Math.sin(r),u=Math.cos(r),c=Math.sin(n),h=Math.cos(n);return t[0]=i*u*h-o*s*c,t[1]=o*s*h+i*u*c,t[2]=o*u*c-i*s*h,t[3]=o*u*h+i*s*c,t}function Hn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Kn,Zn,$n,Qn,Jn,ta,ea=Vr,ra=Fr,na=Nr,aa=Yr,ia=Wr,oa=Dn,sa=en,ua=fn,ca=vn,ha=on,fa=ha,la=sn,va=la,ma=hn,Ma=xn,da=gn,pa=(Kn=We(),Zn=Ke(1,0,0),$n=Ke(0,1,0),function(t,e,r){var n=Mr(e,r);return n<-.999999?(dr(Kn,Zn,e),Or(Kn)<1e-6&&dr(Kn,$n,e),mr(Kn,Kn),Sn(t,Kn,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(dr(Kn,e,r),t[0]=Kn[0],t[1]=Kn[1],t[2]=Kn[2],t[3]=1+n,ma(t,t))}),ba=(Qn=En(),Jn=En(),function(t,e,r,n,a,i){return Vn(Qn,e,a,i),Vn(Jn,r,n,i),Vn(t,Qn,Jn,2*i*(1-i)),t}),xa=(ta=pt(),function(t,e,r,n){return ta[0]=r[0],ta[3]=r[1],ta[6]=r[2],ta[1]=n[0],ta[4]=n[1],ta[7]=n[2],ta[2]=-e[0],ta[5]=-e[1],ta[8]=-e[2],ma(t,Wn(t,ta))});function ga(){var t=new m(8);return m!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function ya(t){var e=new m(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function wa(t,e,r,n,a,i,o,s){var u=new m(8);return u[0]=t,u[1]=e,u[2]=r,u[3]=n,u[4]=a,u[5]=i,u[6]=o,u[7]=s,u}function Pa(t,e,r,n,a,i,o){var s=new m(8);s[0]=t,s[1]=e,s[2]=r,s[3]=n;var u=.5*a,c=.5*i,h=.5*o;return s[4]=u*n+c*r-h*e,s[5]=c*n+h*t-u*r,s[6]=h*n+u*e-c*t,s[7]=-u*t-c*e-h*r,s}function _a(t,e,r){var n=.5*r[0],a=.5*r[1],i=.5*r[2],o=e[0],s=e[1],u=e[2],c=e[3];return t[0]=o,t[1]=s,t[2]=u,t[3]=c,t[4]=n*c+a*u-i*s,t[5]=a*c+i*o-n*u,t[6]=i*c+n*s-a*o,t[7]=-n*o-a*s-i*u,t}function qa(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function La(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Aa(t,e){var r=En();we(r,e);var n=new m(3);return ge(n,e),_a(t,r,n),t}function Ta(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Ea(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Ca(t,e,r,n,a,i,o,s,u){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=o,t[6]=s,t[7]=u,t}var Sa=na;function Ua(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var Ra=na;function Da(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function Ia(t,e){var r=e[4],n=e[5],a=e[6],i=e[7],o=-e[0],s=-e[1],u=-e[2],c=e[3];return t[0]=2*(r*c+i*o+n*u-a*s),t[1]=2*(n*c+i*s+a*o-r*u),t[2]=2*(a*c+i*u+r*s-n*o),t}function Ba(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=.5*r[0],u=.5*r[1],c=.5*r[2],h=e[4],f=e[5],l=e[6],v=e[7];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=o*s+a*c-i*u+h,t[5]=o*u+i*s-n*c+f,t[6]=o*c+n*u-a*s+l,t[7]=-n*s-a*u-i*c+v,t}function za(t,e,r){var n=-e[0],a=-e[1],i=-e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=s*o+h*n+u*i-c*a,l=u*o+h*a+c*n-s*i,v=c*o+h*i+s*a-u*n,m=h*o-s*n-u*a-c*i;return In(t,e,r),n=t[0],a=t[1],i=t[2],o=t[3],t[4]=f*o+m*n+l*i-v*a,t[5]=l*o+m*a+v*n-f*i,t[6]=v*o+m*i+f*a-l*n,t[7]=m*o-f*n-l*a-v*i,t}function Oa(t,e,r){var n=-e[0],a=-e[1],i=-e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=s*o+h*n+u*i-c*a,l=u*o+h*a+c*n-s*i,v=c*o+h*i+s*a-u*n,m=h*o-s*n-u*a-c*i;return Bn(t,e,r),n=t[0],a=t[1],i=t[2],o=t[3],t[4]=f*o+m*n+l*i-v*a,t[5]=l*o+m*a+v*n-f*i,t[6]=v*o+m*i+f*a-l*n,t[7]=m*o-f*n-l*a-v*i,t}function ka(t,e,r){var n=-e[0],a=-e[1],i=-e[2],o=e[3],s=e[4],u=e[5],c=e[6],h=e[7],f=s*o+h*n+u*i-c*a,l=u*o+h*a+c*n-s*i,v=c*o+h*i+s*a-u*n,m=h*o-s*n-u*a-c*i;return zn(t,e,r),n=t[0],a=t[1],i=t[2],o=t[3],t[4]=f*o+m*n+l*i-v*a,t[5]=l*o+m*a+v*n-f*i,t[6]=v*o+m*i+f*a-l*n,t[7]=m*o-f*n-l*a-v*i,t}function ja(t,e,r){var n=r[0],a=r[1],i=r[2],o=r[3],s=e[0],u=e[1],c=e[2],h=e[3];return t[0]=s*o+h*n+u*i-c*a,t[1]=u*o+h*a+c*n-s*i,t[2]=c*o+h*i+s*a-u*n,t[3]=h*o-s*n-u*a-c*i,s=e[4],u=e[5],c=e[6],h=e[7],t[4]=s*o+h*n+u*i-c*a,t[5]=u*o+h*a+c*n-s*i,t[6]=c*o+h*i+s*a-u*n,t[7]=h*o-s*n-u*a-c*i,t}function Ga(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=r[0],u=r[1],c=r[2],h=r[3];return t[0]=n*h+o*s+a*c-i*u,t[1]=a*h+o*u+i*s-n*c,t[2]=i*h+o*c+n*u-a*s,t[3]=o*h-n*s-a*u-i*c,s=r[4],u=r[5],c=r[6],h=r[7],t[4]=n*h+o*s+a*c-i*u,t[5]=a*h+o*u+i*s-n*c,t[6]=i*h+o*c+n*u-a*s,t[7]=o*h-n*s-a*u-i*c,t}function Va(t,e,r,n){if(Math.abs(n)<v)return Ta(t,e);var a=Math.hypot(r[0],r[1],r[2]);n*=.5;var i=Math.sin(n),o=i*r[0]/a,s=i*r[1]/a,u=i*r[2]/a,c=Math.cos(n),h=e[0],f=e[1],l=e[2],m=e[3];t[0]=h*c+m*o+f*u-l*s,t[1]=f*c+m*s+l*o-h*u,t[2]=l*c+m*u+h*s-f*o,t[3]=m*c-h*o-f*s-l*u;var M=e[4],d=e[5],p=e[6],b=e[7];return t[4]=M*c+b*o+d*u-p*s,t[5]=d*c+b*s+p*o-M*u,t[6]=p*c+b*u+M*s-d*o,t[7]=b*c-M*o-d*s-p*u,t}function Fa(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t}function Na(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=r[4],u=r[5],c=r[6],h=r[7],f=e[4],l=e[5],v=e[6],m=e[7],M=r[0],d=r[1],p=r[2],b=r[3];return t[0]=n*b+o*M+a*p-i*d,t[1]=a*b+o*d+i*M-n*p,t[2]=i*b+o*p+n*d-a*M,t[3]=o*b-n*M-a*d-i*p,t[4]=n*h+o*s+a*c-i*u+f*b+m*M+l*p-v*d,t[5]=a*h+o*u+i*s-n*c+l*b+m*d+v*M-f*p,t[6]=i*h+o*c+n*u-a*s+v*b+m*p+f*d-l*M,t[7]=o*h-n*s-a*u-i*c+m*b-f*M-l*d-v*p,t}var Ya=Na;function Wa(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t}var Xa=ua;function Ha(t,e,r,n){var a=1-n;return Xa(e,r)<0&&(n=-n),t[0]=e[0]*a+r[0]*n,t[1]=e[1]*a+r[1]*n,t[2]=e[2]*a+r[2]*n,t[3]=e[3]*a+r[3]*n,t[4]=e[4]*a+r[4]*n,t[5]=e[5]*a+r[5]*n,t[6]=e[6]*a+r[6]*n,t[7]=e[7]*a+r[7]*n,t}function Ka(t,e){var r=Ja(e);return t[0]=-e[0]/r,t[1]=-e[1]/r,t[2]=-e[2]/r,t[3]=e[3]/r,t[4]=-e[4]/r,t[5]=-e[5]/r,t[6]=-e[6]/r,t[7]=e[7]/r,t}function Za(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var $a=ha,Qa=$a,Ja=la,ti=Ja;function ei(t,e){var r=Ja(e);if(r>0){r=Math.sqrt(r);var n=e[0]/r,a=e[1]/r,i=e[2]/r,o=e[3]/r,s=e[4],u=e[5],c=e[6],h=e[7],f=n*s+a*u+i*c+o*h;t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=(s-n*f)/r,t[5]=(u-a*f)/r,t[6]=(c-i*f)/r,t[7]=(h-o*f)/r}return t}function ri(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function ni(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function ai(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],h=e[0],f=e[1],l=e[2],m=e[3],M=e[4],d=e[5],p=e[6],b=e[7];return Math.abs(r-h)<=v*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(n-f)<=v*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(a-l)<=v*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(i-m)<=v*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(o-M)<=v*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(s-d)<=v*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(u-p)<=v*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(c-b)<=v*Math.max(1,Math.abs(c),Math.abs(b))}function ii(){var t=new m(2);return m!=Float32Array&&(t[0]=0,t[1]=0),t}function oi(t){var e=new m(2);return e[0]=t[0],e[1]=t[1],e}function si(t,e){var r=new m(2);return r[0]=t,r[1]=e,r}function ui(t,e){return t[0]=e[0],t[1]=e[1],t}function ci(t,e,r){return t[0]=e,t[1]=r,t}function hi(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function fi(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function li(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function vi(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function mi(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function Mi(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function di(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function pi(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function bi(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function xi(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function gi(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function yi(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.hypot(r,n)}function wi(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function Pi(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function _i(t){var e=t[0],r=t[1];return e*e+r*r}function qi(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Li(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function Ai(t,e){var r=e[0],n=e[1],a=r*r+n*n;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t}function Ti(t,e){return t[0]*e[0]+t[1]*e[1]}function Ei(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function Ci(t,e,r,n){var a=e[0],i=e[1];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t}function Si(t,e){e=e||1;var r=2*M()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function Ui(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a,t[1]=r[1]*n+r[3]*a,t}function Ri(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a+r[4],t[1]=r[1]*n+r[3]*a+r[5],t}function Di(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[3]*a+r[6],t[1]=r[1]*n+r[4]*a+r[7],t}function Ii(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[4]*a+r[12],t[1]=r[1]*n+r[5]*a+r[13],t}function Bi(t,e,r,n){var a=e[0]-r[0],i=e[1]-r[1],o=Math.sin(n),s=Math.cos(n);return t[0]=a*s-i*o+r[0],t[1]=a*o+i*s+r[1],t}function zi(t,e){var r=t[0],n=t[1],a=e[0],i=e[1],o=Math.sqrt(r*r+n*n)*Math.sqrt(a*a+i*i),s=o&&(r*a+n*i)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function Oi(t){return t[0]=0,t[1]=0,t}function ki(t){return"vec2("+t[0]+", "+t[1]+")"}function ji(t,e){return t[0]===e[0]&&t[1]===e[1]}function Gi(t,e){var r=t[0],n=t[1],a=e[0],i=e[1];return Math.abs(r-a)<=v*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-i)<=v*Math.max(1,Math.abs(n),Math.abs(i))}var Vi=Pi,Fi=fi,Ni=li,Yi=vi,Wi=yi,Xi=wi,Hi=_i,Ki=function(){var t=ii();return function(e,r,n,a,i,o){var s,u;for(r||(r=2),n||(n=0),u=a?Math.min(a*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],i(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}()},4600:t=>{t.exports=function(t,e,r,n){var a,i,o,s,u,c=e[0],h=e[1],f=e[2],l=e[3],v=r[0],m=r[1],M=r[2],d=r[3];return(i=c*v+h*m+f*M+l*d)<0&&(i=-i,v=-v,m=-m,M=-M,d=-d),1-i>1e-6?(a=Math.acos(i),o=Math.sin(a),s=Math.sin((1-n)*a)/o,u=Math.sin(n*a)/o):(s=1-n,u=n),t[0]=s*c+u*v,t[1]=s*h+u*m,t[2]=s*f+u*M,t[3]=s*l+u*d,t}},3858:t=>{t.exports=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[0],s=r[1],u=r[2];return t[0]=a*u-i*s,t[1]=i*o-n*u,t[2]=n*s-a*o,t}},8368:t=>{t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},7563:t=>{t.exports=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}},6919:t=>{t.exports=function(t,e,r,n){var a=e[0],i=e[1],o=e[2];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=o+n*(r[2]-o),t}},91:t=>{t.exports=function(t,e){var r=e[0],n=e[1],a=e[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}},6795:(t,e,r)=>{"use strict";var n=r(8033);t.exports=n&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}()},8033:t=>{t.exports=!0},9805:(t,e,r)=>{var n=r(9604),a=r(6252),i=r(8447),o=r(7919),s=r(4481),u=r(9683),c={length:r(7563),normalize:r(91),dot:r(8368),cross:r(3858)},h=a(),f=a(),l=[0,0,0,0],v=[[0,0,0],[0,0,0],[0,0,0]],m=[0,0,0];function M(t,e,r,n,a){t[0]=e[0]*n+r[0]*a,t[1]=e[1]*n+r[1]*a,t[2]=e[2]*n+r[2]*a}t.exports=function(t,e,r,a,d,p){if(e||(e=[0,0,0]),r||(r=[0,0,0]),a||(a=[0,0,0]),d||(d=[0,0,0,1]),p||(p=[0,0,0,1]),!n(h,t))return!1;if(i(f,h),f[3]=0,f[7]=0,f[11]=0,f[15]=1,Math.abs(o(f)<1e-8))return!1;var b,x,g,y,w,P,_,q=h[3],L=h[7],A=h[11],T=h[12],E=h[13],C=h[14],S=h[15];if(0!==q||0!==L||0!==A){if(l[0]=q,l[1]=L,l[2]=A,l[3]=S,!s(f,f))return!1;u(f,f),b=d,g=f,y=(x=l)[0],w=x[1],P=x[2],_=x[3],b[0]=g[0]*y+g[4]*w+g[8]*P+g[12]*_,b[1]=g[1]*y+g[5]*w+g[9]*P+g[13]*_,b[2]=g[2]*y+g[6]*w+g[10]*P+g[14]*_,b[3]=g[3]*y+g[7]*w+g[11]*P+g[15]*_}else d[0]=d[1]=d[2]=0,d[3]=1;if(e[0]=T,e[1]=E,e[2]=C,function(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}(v,h),r[0]=c.length(v[0]),c.normalize(v[0],v[0]),a[0]=c.dot(v[0],v[1]),M(v[1],v[1],v[0],1,-a[0]),r[1]=c.length(v[1]),c.normalize(v[1],v[1]),a[0]/=r[1],a[1]=c.dot(v[0],v[2]),M(v[2],v[2],v[0],1,-a[1]),a[2]=c.dot(v[1],v[2]),M(v[2],v[2],v[1],1,-a[2]),r[2]=c.length(v[2]),c.normalize(v[2],v[2]),a[1]/=r[2],a[2]/=r[2],c.cross(m,v[1],v[2]),c.dot(v[0],m)<0)for(var U=0;U<3;U++)r[U]*=-1,v[U][0]*=-1,v[U][1]*=-1,v[U][2]*=-1;return p[0]=.5*Math.sqrt(Math.max(1+v[0][0]-v[1][1]-v[2][2],0)),p[1]=.5*Math.sqrt(Math.max(1-v[0][0]+v[1][1]-v[2][2],0)),p[2]=.5*Math.sqrt(Math.max(1-v[0][0]-v[1][1]+v[2][2],0)),p[3]=.5*Math.sqrt(Math.max(1+v[0][0]+v[1][1]+v[2][2],0)),v[2][1]>v[1][2]&&(p[0]=-p[0]),v[0][2]>v[2][0]&&(p[1]=-p[1]),v[1][0]>v[0][1]&&(p[2]=-p[2]),!0}},9604:t=>{t.exports=function(t,e){var r=e[15];if(0===r)return!1;for(var n=1/r,a=0;a<16;a++)t[a]=e[a]*n;return!0}},2726:(t,e,r)=>{var n=r(6919),a=r(7814),i=r(9805),o=r(7919),s=r(2210),u=f(),c=f(),h=f();function f(){return{translate:l(),scale:l(1),skew:l(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function l(t){return[t||0,t||0,t||0]}t.exports=function(t,e,r,f){if(0===o(e)||0===o(r))return!1;var l=i(e,u.translate,u.scale,u.skew,u.perspective,u.quaternion),v=i(r,c.translate,c.scale,c.skew,c.perspective,c.quaternion);return!(!l||!v||(n(h.translate,u.translate,c.translate,f),n(h.skew,u.skew,c.skew,f),n(h.scale,u.scale,c.scale,f),n(h.perspective,u.perspective,c.perspective,f),s(h.quaternion,u.quaternion,c.quaternion,f),a(t,h.translate,h.scale,h.skew,h.perspective,h.quaternion),0))}},7814:(t,e,r)=>{var n={identity:r(6312),translate:r(2602),multiply:r(9401),create:r(6252),scale:r(4028),fromRotationTranslation:r(1872)},a=(n.create(),n.create());t.exports=function(t,e,r,i,o,s){return n.identity(t),n.fromRotationTranslation(t,s,e),t[3]=o[0],t[7]=o[1],t[11]=o[2],t[15]=o[3],n.identity(a),0!==i[2]&&(a[9]=i[2],n.multiply(t,t,a)),0!==i[1]&&(a[9]=0,a[8]=i[1],n.multiply(t,t,a)),0!==i[0]&&(a[8]=0,a[4]=i[0],n.multiply(t,t,a)),n.scale(t,t,r),t}},7622:(t,e,r)=>{"use strict";var n=r(3076),a=r(2726),i=r(4481),o=r(4663),s=r(2113),u=r(974),c=r(4727),h=r(2602),f=(r(4028),r(91)),l=[0,0,0];function v(t){this._components=t.slice(),this._time=[0],this.prevMatrix=t.slice(),this.nextMatrix=t.slice(),this.computedMatrix=t.slice(),this.computedInverse=t.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}t.exports=function(t){return new v((t=t||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var m=v.prototype;m.recalcMatrix=function(t){var e=this._time,r=n.le(e,t),o=this.computedMatrix;if(!(r<0)){var s=this._components;if(r===e.length-1)for(var u=16*r,c=0;c<16;++c)o[c]=s[u++];else{var h=e[r+1]-e[r],l=(u=16*r,this.prevMatrix),v=!0;for(c=0;c<16;++c)l[c]=s[u++];var m=this.nextMatrix;for(c=0;c<16;++c)m[c]=s[u++],v=v&&l[c]===m[c];if(h<1e-6||v)for(c=0;c<16;++c)o[c]=l[c];else a(o,l,m,(t-e[r])/h)}var M=this.computedUp;M[0]=o[1],M[1]=o[5],M[2]=o[9],f(M,M);var d=this.computedInverse;i(d,o);var p=this.computedEye,b=d[15];p[0]=d[12]/b,p[1]=d[13]/b,p[2]=d[14]/b;var x=this.computedCenter,g=Math.exp(this.computedRadius[0]);for(c=0;c<3;++c)x[c]=p[c]-o[2+4*c]*g}},m.idle=function(t){if(!(t<this.lastT())){for(var e=this._components,r=e.length-16,n=0;n<16;++n)e.push(e[r++]);this._time.push(t)}},m.flush=function(t){var e=n.gt(this._time,t)-2;e<0||(this._time.splice(0,e),this._components.splice(0,16*e))},m.lastT=function(){return this._time[this._time.length-1]},m.lookAt=function(t,e,r,n){this.recalcMatrix(t),e=e||this.computedEye,r=r||l,n=n||this.computedUp,this.setMatrix(t,c(this.computedMatrix,e,r,n));for(var a=0,i=0;i<3;++i)a+=Math.pow(r[i]-e[i],2);a=Math.log(Math.sqrt(a)),this.computedRadius[0]=a},m.rotate=function(t,e,r,n){this.recalcMatrix(t);var a=this.computedInverse;e&&s(a,a,e),r&&o(a,a,r),n&&u(a,a,n),this.setMatrix(t,i(this.computedMatrix,a))};var M=[0,0,0];m.pan=function(t,e,r,n){M[0]=-(e||0),M[1]=-(r||0),M[2]=-(n||0),this.recalcMatrix(t);var a=this.computedInverse;h(a,a,M),this.setMatrix(t,i(a,a))},m.translate=function(t,e,r,n){M[0]=e||0,M[1]=r||0,M[2]=n||0,this.recalcMatrix(t);var a=this.computedMatrix;h(a,a,M),this.setMatrix(t,a)},m.setMatrix=function(t,e){if(!(t<this.lastT())){this._time.push(t);for(var r=0;r<16;++r)this._components.push(e[r])}},m.setDistance=function(t,e){this.computedRadius[0]=e},m.setDistanceLimits=function(t,e){var r=this._limits;r[0]=t,r[1]=e},m.getDistanceLimits=function(t){var e=this._limits;return t?(t[0]=e[0],t[1]=e[1],t):e}},685:(t,e,r)=>{"use strict";t.exports=function(t,e){e||(e=t,t=window);var r=0,a=0,i=0,o={shift:!1,alt:!1,control:!1,meta:!1},s=!1;function u(t){var e=!1;return"altKey"in t&&(e=e||t.altKey!==o.alt,o.alt=!!t.altKey),"shiftKey"in t&&(e=e||t.shiftKey!==o.shift,o.shift=!!t.shiftKey),"ctrlKey"in t&&(e=e||t.ctrlKey!==o.control,o.control=!!t.ctrlKey),"metaKey"in t&&(e=e||t.metaKey!==o.meta,o.meta=!!t.metaKey),e}function c(t,s){var c=n.x(s),h=n.y(s);"buttons"in s&&(t=0|s.buttons),(t!==r||c!==a||h!==i||u(s))&&(r=0|t,a=c||0,i=h||0,e&&e(r,a,i,o))}function h(t){c(0,t)}function f(){(r||a||i||o.shift||o.alt||o.meta||o.control)&&(a=i=0,r=0,o.shift=o.alt=o.control=o.meta=!1,e&&e(0,0,0,o))}function l(t){u(t)&&e&&e(r,a,i,o)}function v(t){0===n.buttons(t)?c(0,t):c(r,t)}function m(t){c(r|n.buttons(t),t)}function M(t){c(r&~n.buttons(t),t)}function d(){s||(s=!0,t.addEventListener("mousemove",v),t.addEventListener("mousedown",m),t.addEventListener("mouseup",M),t.addEventListener("mouseleave",h),t.addEventListener("mouseenter",h),t.addEventListener("mouseout",h),t.addEventListener("mouseover",h),t.addEventListener("blur",f),t.addEventListener("keyup",l),t.addEventListener("keydown",l),t.addEventListener("keypress",l),t!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}d();var p={element:t};return Object.defineProperties(p,{enabled:{get:function(){return s},set:function(e){e?d():s&&(s=!1,t.removeEventListener("mousemove",v),t.removeEventListener("mousedown",m),t.removeEventListener("mouseup",M),t.removeEventListener("mouseleave",h),t.removeEventListener("mouseenter",h),t.removeEventListener("mouseout",h),t.removeEventListener("mouseover",h),t.removeEventListener("blur",f),t.removeEventListener("keyup",l),t.removeEventListener("keydown",l),t.removeEventListener("keypress",l),t!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))},enumerable:!0},buttons:{get:function(){return r},enumerable:!0},x:{get:function(){return a},enumerable:!0},y:{get:function(){return i},enumerable:!0},mods:{get:function(){return o},enumerable:!0}}),p};var n=r(9294)},675:t=>{var e={left:0,top:0};t.exports=function(t,r,n){r=r||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var a,i=t.clientX||0,o=t.clientY||0,s=(a=r)===window||a===document||a===document.body?e:a.getBoundingClientRect();return n[0]=i-s.left,n[1]=o-s.top,n}},9294:(t,e)=>{"use strict";function r(t){return t.target||t.srcElement||window}e.buttons=function(t){if("object"==typeof t){if("buttons"in t)return t.buttons;if("which"in t){if(2===(e=t.which))return 4;if(3===e)return 2;if(e>0)return 1<<e-1}else if("button"in t){var e;if(1===(e=t.button))return 4;if(2===e)return 2;if(e>=0)return 1<<e}}return 0},e.element=r,e.x=function(t){if("object"==typeof t){if("offsetX"in t)return t.offsetX;var e=r(t).getBoundingClientRect();return t.clientX-e.left}return 0},e.y=function(t){if("object"==typeof t){if("offsetY"in t)return t.offsetY;var e=r(t).getBoundingClientRect();return t.clientY-e.top}return 0}},2232:(t,e,r)=>{"use strict";var n=r(9810);t.exports=function(t,e,r){"function"==typeof t&&(r=!!e,e=t,t=window);var a=n("ex",t),i=function(t){r&&t.preventDefault();var n=t.deltaX||0,i=t.deltaY||0,o=t.deltaZ||0,s=1;switch(t.deltaMode){case 1:s=a;break;case 2:s=window.innerHeight}if(i*=s,o*=s,(n*=s)||i||o)return e(n,i,o,t)};return t.addEventListener("wheel",i),i}},8918:t=>{"use strict";t.exports=function(t,e,r,n,a,i,o,s,u,c){var h=e+i+c;if(f>0){var f=Math.sqrt(h+1);t[0]=.5*(o-u)/f,t[1]=.5*(s-n)/f,t[2]=.5*(r-i)/f,t[3]=.5*f}else{var l=Math.max(e,i,c);f=Math.sqrt(2*l-h+1),e>=l?(t[0]=.5*f,t[1]=.5*(a+r)/f,t[2]=.5*(s+n)/f,t[3]=.5*(o-u)/f):i>=l?(t[0]=.5*(r+a)/f,t[1]=.5*f,t[2]=.5*(u+o)/f,t[3]=.5*(s-n)/f):(t[0]=.5*(n+s)/f,t[1]=.5*(o+u)/f,t[2]=.5*f,t[3]=.5*(r-a)/f)}return t}},809:(t,e,r)=>{"use strict";t.exports=function(t){var e=(t=t||{}).center||[0,0,0],r=t.rotation||[0,0,0,1],n=t.radius||1;e=[].slice.call(e,0,3),h(r=[].slice.call(r,0,4),r);var a=new f(r,e,Math.log(n));return a.setDistanceLimits(t.zoomMin,t.zoomMax),("eye"in t||"up"in t)&&a.lookAt(0,t.eye,t.center,t.up),a};var n=r(4173),a=r(4727),i=r(7127),o=r(4481),s=r(8918);function u(t,e,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2))}function c(t,e,r,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2)+Math.pow(n,2))}function h(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=c(r,n,a,i);o>1e-6?(t[0]=r/o,t[1]=n/o,t[2]=a/o,t[3]=i/o):(t[0]=t[1]=t[2]=0,t[3]=1)}function f(t,e,r){this.radius=n([r]),this.center=n(e),this.rotation=n(t),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var l=f.prototype;l.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},l.recalcMatrix=function(t){this.radius.curve(t),this.center.curve(t),this.rotation.curve(t);var e=this.computedRotation;h(e,e);var r=this.computedMatrix;i(r,e);var n=this.computedCenter,a=this.computedEye,o=this.computedUp,s=Math.exp(this.computedRadius[0]);a[0]=n[0]+s*r[2],a[1]=n[1]+s*r[6],a[2]=n[2]+s*r[10],o[0]=r[1],o[1]=r[5],o[2]=r[9];for(var u=0;u<3;++u){for(var c=0,f=0;f<3;++f)c+=r[u+4*f]*a[f];r[12+u]=-c}},l.getMatrix=function(t,e){this.recalcMatrix(t);var r=this.computedMatrix;if(e){for(var n=0;n<16;++n)e[n]=r[n];return e}return r},l.idle=function(t){this.center.idle(t),this.radius.idle(t),this.rotation.idle(t)},l.flush=function(t){this.center.flush(t),this.radius.flush(t),this.rotation.flush(t)},l.pan=function(t,e,r,n){e=e||0,r=r||0,n=n||0,this.recalcMatrix(t);var a=this.computedMatrix,i=a[1],o=a[5],s=a[9],c=u(i,o,s);i/=c,o/=c,s/=c;var h=a[0],f=a[4],l=a[8],v=h*i+f*o+l*s,m=u(h-=i*v,f-=o*v,l-=s*v);h/=m,f/=m,l/=m;var M=a[2],d=a[6],p=a[10],b=M*i+d*o+p*s,x=M*h+d*f+p*l,g=u(M-=b*i+x*h,d-=b*o+x*f,p-=b*s+x*l);M/=g,d/=g,p/=g;var y=h*e+i*r,w=f*e+o*r,P=l*e+s*r;this.center.move(t,y,w,P);var _=Math.exp(this.computedRadius[0]);_=Math.max(1e-4,_+n),this.radius.set(t,Math.log(_))},l.rotate=function(t,e,r,n){this.recalcMatrix(t),e=e||0,r=r||0;var a=this.computedMatrix,i=a[0],o=a[4],s=a[8],h=a[1],f=a[5],l=a[9],v=a[2],m=a[6],M=a[10],d=e*i+r*h,p=e*o+r*f,b=e*s+r*l,x=-(m*b-M*p),g=-(M*d-v*b),y=-(v*p-m*d),w=Math.sqrt(Math.max(0,1-Math.pow(x,2)-Math.pow(g,2)-Math.pow(y,2))),P=c(x,g,y,w);P>1e-6?(x/=P,g/=P,y/=P,w/=P):(x=g=y=0,w=1);var _=this.computedRotation,q=_[0],L=_[1],A=_[2],T=_[3],E=q*w+T*x+L*y-A*g,C=L*w+T*g+A*x-q*y,S=A*w+T*y+q*g-L*x,U=T*w-q*x-L*g-A*y;if(n){x=v,g=m,y=M;var R=Math.sin(n)/u(x,g,y);x*=R,g*=R,y*=R,U=U*(w=Math.cos(e))-(E=E*w+U*x+C*y-S*g)*x-(C=C*w+U*g+S*x-E*y)*g-(S=S*w+U*y+E*g-C*x)*y}var D=c(E,C,S,U);D>1e-6?(E/=D,C/=D,S/=D,U/=D):(E=C=S=0,U=1),this.rotation.set(t,E,C,S,U)},l.lookAt=function(t,e,r,n){this.recalcMatrix(t),r=r||this.computedCenter,e=e||this.computedEye,n=n||this.computedUp;var i=this.computedMatrix;a(i,e,r,n);var o=this.computedRotation;s(o,i[0],i[1],i[2],i[4],i[5],i[6],i[8],i[9],i[10]),h(o,o),this.rotation.set(t,o[0],o[1],o[2],o[3]);for(var u=0,c=0;c<3;++c)u+=Math.pow(r[c]-e[c],2);this.radius.set(t,.5*Math.log(Math.max(u,1e-6))),this.center.set(t,r[0],r[1],r[2])},l.translate=function(t,e,r,n){this.center.move(t,e||0,r||0,n||0)},l.setMatrix=function(t,e){var r=this.computedRotation;s(r,e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]),h(r,r),this.rotation.set(t,r[0],r[1],r[2],r[3]);var n=this.computedMatrix;o(n,e);var a=n[15];if(Math.abs(a)>1e-6){var i=n[12]/a,u=n[13]/a,c=n[14]/a;this.recalcMatrix(t);var f=Math.exp(this.computedRadius[0]);this.center.set(t,i-n[2]*f,u-n[6]*f,c-n[10]*f),this.radius.idle(t)}else this.center.idle(t),this.radius.idle(t)},l.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},l.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},l.getDistanceLimits=function(t){var e=this.radius.bounds;return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},l.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},l.fromJSON=function(t){var e=this.lastT(),r=t.center;r&&this.center.set(e,r[0],r[1],r[2]);var n=t.rotation;n&&this.rotation.set(e,n[0],n[1],n[2],n[3]);var a=t.distance;a&&a>0&&this.radius.set(e,Math.log(a)),this.setDistanceLimits(t.zoomMin,t.zoomMax)}},1885:t=>{t.exports=function(t,e){e||(e=[0,""]),t=String(t);var r=parseFloat(t,10);return e[0]=r,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},2210:(t,e,r)=>{t.exports=r(4600)},698:(t,e,r)=>{t.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},9810:(t,e,r)=>{"use strict";var n=r(1885);t.exports=s;var a=o("in",document.body);function i(t,e){var r=n(getComputedStyle(t).getPropertyValue(e));return r[0]*s(r[1],t)}function o(t,e){var r=document.createElement("div");r.style.height="128"+t,e.appendChild(r);var n=i(r,"height")/128;return e.removeChild(r),n}function s(t,e){if(!t)return null;switch(e=e||document.body,t=(t+""||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return o(t,e);case"em":return i(e,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6;case"px":return 1}var r=n(t);if(!isNaN(r[0])&&r[1]){var u=s(r[1],e);return"number"==typeof u?r[0]*u:null}return null}},2449:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(a,i){function o(t){try{u(n.next(t))}catch(t){i(t)}}function s(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,s)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.CreateShapeWithLight=e.hairSim=void 0;const a=r(3949),i=r(1708),o=r(887),s=r(4478);e.hairSim=(t,e,r,u=!0)=>n(void 0,void 0,void 0,(function*(){const n=yield(0,a.InitGPU)(),c=n.device,h=e.length,f=(0,a.CreateGPUBuffer)(c,t),l=(0,a.CreateGPUBufferUint)(c,e),v=(0,i.Shaders)(r),m=c.createRenderPipeline({vertex:{module:c.createShaderModule({code:v.vertex}),entryPoint:"main",buffers:[{arrayStride:24,attributes:[{shaderLocation:0,format:"float32x3",offset:0},{shaderLocation:1,format:"float32x3",offset:12}]}]},fragment:{module:c.createShaderModule({code:v.fragment}),entryPoint:"main",targets:[{format:n.format}]},primitive:{topology:"triangle-list",cullMode:"front"},depthStencil:{format:"depth24plus",depthWriteEnabled:!0,depthCompare:"less"}}),M=o.mat4.create(),d=o.mat4.create();let p=o.mat4.create(),b=o.mat4.create();const x=(0,a.CreateViewProjection)(n.canvas.width/n.canvas.height);b=x.viewProjectionMatrix;let g=o.vec3.fromValues(0,0,0);var y=s(n.canvas,x.cameraOption);let w=new Float32Array(x.cameraOption.eye),P=w;const _=c.createBuffer({size:192,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),q=c.createBuffer({size:32,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});u&&(c.queue.writeBuffer(_,0,x.viewProjectionMatrix),c.queue.writeBuffer(q,0,P),c.queue.writeBuffer(q,16,w));const L=c.createBindGroup({layout:m.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:_,offset:0,size:192}},{binding:1,resource:{buffer:q,offset:0,size:32}}]});let A=n.context.getCurrentTexture().createView();const T=c.createTexture({size:[n.canvas.width,n.canvas.height,1],format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT}),E={colorAttachments:[{view:A,loadValue:{r:.2,g:.2,b:.2,a:1},storeOp:"store"}],depthStencilAttachment:{view:T.createView(),depthLoadValue:1,depthStoreOp:"store",stencilLoadValue:0,stencilStoreOp:"store"}};(0,a.CreateAnimation)((function(){if(!u&&y.tick()){const t=x.projectionMatrix;p=y.matrix,o.mat4.multiply(b,t,p),w=new Float32Array(y.eye.flat()),P=w,c.queue.writeBuffer(_,0,b),c.queue.writeBuffer(q,0,w),c.queue.writeBuffer(q,16,P)}(0,a.CreateTransforms)(d,[0,0,0],g),o.mat4.invert(M,d),o.mat4.transpose(M,M),c.queue.writeBuffer(_,64,d),c.queue.writeBuffer(_,128,M),A=n.context.getCurrentTexture().createView(),E.colorAttachments[0].view=A;const t=c.createCommandEncoder(),e=t.beginRenderPass(E);e.setPipeline(m),e.setVertexBuffer(0,f),e.setIndexBuffer(l,"uint32"),e.setBindGroup(0,L),e.drawIndexed(h),e.endPass(),c.queue.submit([t.finish()])}),g,u)})),e.CreateShapeWithLight=(t,e,r,u=!0)=>n(void 0,void 0,void 0,(function*(){const n=yield(0,a.InitGPU)(),c=n.device,h=t.length/3,f=(0,a.CreateGPUBuffer)(c,t),l=(0,a.CreateGPUBuffer)(c,e),v=(0,i.Shaders)(r),m=c.createRenderPipeline({vertex:{module:c.createShaderModule({code:v.vertex}),entryPoint:"main",buffers:[{arrayStride:12,attributes:[{shaderLocation:0,format:"float32x3",offset:0}]},{arrayStride:12,attributes:[{shaderLocation:1,format:"float32x3",offset:0}]}]},fragment:{module:c.createShaderModule({code:v.fragment}),entryPoint:"main",targets:[{format:n.format}]},primitive:{topology:"triangle-list"},depthStencil:{format:"depth24plus",depthWriteEnabled:!0,depthCompare:"less"}}),M=o.mat4.create(),d=o.mat4.create();let p=o.mat4.create(),b=o.mat4.create();const x=(0,a.CreateViewProjection)(n.canvas.width/n.canvas.height);b=x.viewProjectionMatrix;let g=o.vec3.fromValues(0,0,0);var y=s(n.canvas,x.cameraOption);let w=new Float32Array(x.cameraOption.eye),P=w;const _=c.createBuffer({size:192,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),q=c.createBuffer({size:32,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});u&&(c.queue.writeBuffer(_,0,x.viewProjectionMatrix),c.queue.writeBuffer(q,0,P),c.queue.writeBuffer(q,16,w));const L=c.createBindGroup({layout:m.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:_,offset:0,size:192}},{binding:1,resource:{buffer:q,offset:0,size:32}}]});let A=n.context.getCurrentTexture().createView();const T=c.createTexture({size:[n.canvas.width,n.canvas.height,1],format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT}),E={colorAttachments:[{view:A,loadValue:{r:.2,g:.2,b:.2,a:1},storeOp:"store"}],depthStencilAttachment:{view:T.createView(),depthLoadValue:1,depthStoreOp:"store",stencilLoadValue:0,stencilStoreOp:"store"}};(0,a.CreateAnimation)((function(){if(!u&&y.tick()){const t=x.projectionMatrix;p=y.matrix,o.mat4.multiply(b,t,p),w=new Float32Array(y.eye.flat()),P=w,c.queue.writeBuffer(_,0,b),c.queue.writeBuffer(q,0,w),c.queue.writeBuffer(q,16,P)}(0,a.CreateTransforms)(d,[0,0,0],g),o.mat4.invert(M,d),o.mat4.transpose(M,M),c.queue.writeBuffer(_,64,d),c.queue.writeBuffer(_,128,M),A=n.context.getCurrentTexture().createView(),E.colorAttachments[0].view=A;const t=c.createCommandEncoder(),e=t.beginRenderPass(E);e.setPipeline(m),e.setVertexBuffer(0,f),e.setVertexBuffer(1,l),e.setBindGroup(0,L),e.draw(h),e.endPass(),c.queue.submit([t.finish()])}),g,u)}))},3949:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(a,i){function o(t){try{u(n.next(t))}catch(t){i(t)}}function s(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,s)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.CheckWebGPU=e.InitGPU=e.CreateGPUBuffer=e.CreateGPUBufferUint=e.CreateViewProjection=e.CreateTransforms=e.CreateAnimation=void 0;const a=r(887);e.CreateAnimation=(t,e=a.vec3.fromValues(0,0,0),r=!0)=>{requestAnimationFrame((function n(){r?(e[0]+=.01,e[1]+=.01,e[2]+=.01):e=[0,0,0],t(),requestAnimationFrame(n)}))},e.CreateTransforms=(t,e=[0,0,0],r=[0,0,0],n=[1,1,1])=>{const i=a.mat4.create(),o=a.mat4.create(),s=a.mat4.create(),u=a.mat4.create(),c=a.mat4.create();a.mat4.fromTranslation(u,e),a.mat4.fromXRotation(i,r[0]),a.mat4.fromYRotation(o,r[1]),a.mat4.fromZRotation(s,r[2]),a.mat4.fromScaling(c,n),a.mat4.multiply(t,i,c),a.mat4.multiply(t,o,t),a.mat4.multiply(t,s,t),a.mat4.multiply(t,u,t)},e.CreateViewProjection=(t=1,e=[2,2,4],r=[0,0,0],n=[0,1,0])=>{const i=a.mat4.create(),o=a.mat4.create(),s=a.mat4.create();return a.mat4.perspective(o,2*Math.PI/5,t,.1,100),a.mat4.lookAt(i,e,r,n),a.mat4.multiply(s,o,i),{viewMatrix:i,projectionMatrix:o,viewProjectionMatrix:s,cameraOption:{eye:e,center:r,zoomMax:100,zoomSpeed:2}}},e.CreateGPUBufferUint=(t,e,r=GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST)=>{const n=t.createBuffer({size:e.byteLength,usage:r,mappedAtCreation:!0});return new Uint32Array(n.getMappedRange()).set(e),n.unmap(),n},e.CreateGPUBuffer=(t,e,r=GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST)=>{const n=t.createBuffer({size:e.byteLength,usage:r,mappedAtCreation:!0});return new Float32Array(n.getMappedRange()).set(e),n.unmap(),n},e.InitGPU=()=>n(void 0,void 0,void 0,(function*(){var t;const r=(0,e.CheckWebGPU)();if(r.includes("Your current browser does not support WebGPU!"))throw console.log(r),"Your current browser does not support WebGPU";const n=document.getElementById("canvas-webgpu"),a=yield null===(t=navigator.gpu)||void 0===t?void 0:t.requestAdapter(),i=yield null==a?void 0:a.requestDevice(),o=n.getContext("webgpu"),s=window.devicePixelRatio||1,u=[n.clientWidth*s,n.clientHeight*s],c=o.getPreferredFormat(a);return o.configure({device:i,format:c,size:u}),{device:i,canvas:n,format:c,context:o}})),e.CheckWebGPU=()=>{let t="Great, your current browser supports WebGPU!";return navigator.gpu||(t='Your current browser does not support WebGPU! \n        Make sure you are on a system with WebGPU enabled. Currently,\n        SPIR-WebGPU is only supported in <a href="https://www.google.com/chrome/canary">Chrome canary</a>\n        with the flag "enable-unsafe-webgpu" enabled. See the\n        <a href="https://github.com/gpuweb/gpuweb/wiki/Implementation-Status">\n        Implementation Status</a> page for more details.'),t}},3687:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpherePosition=void 0;const n=r(887);e.SpherePosition=(t,e,r,a=[0,0,0])=>{const i=Math.sin(e*Math.PI/180),o=Math.cos(e*Math.PI/180),s=Math.sin(r*Math.PI/180),u=Math.cos(r*Math.PI/180);return n.vec3.fromValues(t*i*u+a[0],t*o+a[1],-t*i*s+a[2])}},1708:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Shaders=void 0,e.Shaders=t=>(t.color=null==t.color?"(1.0, 0.0, 0.0)":t.color,t.ambientIntensity=null==t.ambientIntensity?"0.2":t.ambientIntensity,t.diffuseIntensity=null==t.diffuseIntensity?"0.8":t.diffuseIntensity,t.specularIntensity=null==t.specularIntensity?"0.4":t.specularIntensity,t.shininess=null==t.shininess?"30.0":t.shininess,t.specularColor=null==t.specularColor?"(1.0, 1.0, 1.0)":t.specularColor,t.isPhong=null==t.isPhong?"0":t.isPhong,console.log(JSON.stringify(t,null,4)),{vertex:"\n        [[block]] struct Uniforms\n        {\n            viewProjectionMatrix : mat4x4<f32>;\n            modelMatrix : mat4x4<f32>;\n            normalMatrix : mat4x4<f32>;\n        };\n        [[binding(0), group(0)]] var<uniform> uniforms : Uniforms;\n\n        struct Output\n        {\n            [[builtin(position)]] Position : vec4<f32>;\n            [[location(0)]] vPosition : vec4<f32>;\n            [[location(1)]] vNormal : vec4<f32>;\n        };\n\n        [[stage(vertex)]]\n        fn main([[location(0)]] position : vec4<f32>, [[location(1)]] normal : vec4<f32>) -> Output\n        {\n            var output : Output;\n            let mPosition : vec4<f32> = uniforms.modelMatrix * position;\n\n            output.vPosition = mPosition;\n            output.vNormal = uniforms.normalMatrix * normal;\n            output.Position = uniforms.viewProjectionMatrix * mPosition;\n\n            return output;\n        }\n    ",fragment:`\n        [[block]] struct Uniforms\n        {\n            lightPosition : vec4<f32>;\n            eyePosition : vec4<f32>;\n        };\n        [[binding(1), group(0)]] var<uniform> uniforms : Uniforms;\n\n        [[stage(fragment)]]\n        fn main([[location(0)]] vPosition : vec4<f32>, [[location(1)]] vNormal : vec4<f32>) -> [[location(0)]] vec4<f32> \n        {\n            let N : vec3<f32> = normalize(vNormal.xyz);\n            let L : vec3<f32> = normalize(uniforms.lightPosition.xyz - vPosition.xyz);\n            let V : vec3<f32> = normalize(uniforms.eyePosition.xyz - vPosition.xyz);\n            let H : vec3<f32> = normalize(L + V);\n\n            let diffuse : f32 = ${t.diffuseIntensity} * max(dot(N, L), 0.0);\n            var specular : f32;\n            var isp : i32 = ${t.isPhong};\n            if(isp == 1)\n            {\n                specular = ${t.specularIntensity} * pow(max(dot(V, reflect(-L, N)), 0.0), ${t.shininess});\n            }\n            else\n            {\n                specular = ${t.specularIntensity} * pow(max(dot(N, H), 0.0), ${t.shininess});\n            }\n\n            let ambient : f32 = ${t.ambientIntensity};\n            let finalColor : vec3<f32> = vec3<f32>${t.color} * (ambient + diffuse) + vec3<f32>${t.specularColor} * specular;\n\n            return vec4<f32>(finalColor, 1.0);\n        }\n    `})},9316:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CubeData=e.CubeData1=e.SphereWireframeData=void 0;const n=r(3687);e.SphereWireframeData=(t,e,r,a=[0,0,0])=>{if(e<2||r<2)return;let i,o=[];for(let s=0;s<e;s++){let u=[];for(let o=0;o<r;o++)i=(0,n.SpherePosition)(t,180*s/(e-1),360*o/(r-1),a),u.push(i);o.push(u)}let s,u,c,h=[];for(let t=0;t<e-1;t++)for(let e=0;e<r-1;e++)s=o[t][e],u=o[t+1][e],c=o[t][e+1],h.push([s[0],s[1],s[2],u[0],u[1],u[2],s[0],s[1],s[2],c[0],c[1],c[2]]);return new Float32Array(h.flat())},e.CubeData1=()=>({vertexData:new Float32Array([1,-1,1,0,0,1,-1,-1,1,0,0,1,-1,1,1,0,0,1,1,1,1,0,0,1,1,-1,-1,1,0,0,1,-1,1,1,0,0,1,1,1,1,0,0,1,1,-1,1,0,0,-1,1,-1,0,0,-1,-1,-1,-1,0,0,-1,1,-1,-1,0,0,-1,1,1,-1,0,0,-1,-1,1,1,-1,0,0,-1,-1,1,-1,0,0,-1,-1,-1,-1,0,0,-1,1,-1,-1,0,0,1,1,1,0,1,0,-1,1,1,0,1,0,-1,1,-1,0,1,0,1,1,-1,0,1,0,-1,-1,-1,0,-1,0,-1,-1,1,0,-1,0,1,-1,1,0,-1,0,1,-1,-1,0,-1,0]),indexData:new Uint32Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23])}),e.CubeData=()=>({positions:new Float32Array([-1,-1,1,1,-1,1,1,1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,1,-1,-1,-1,-1,-1,-1,1,-1,1,1,1,1,1,1,1,-1,1,1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1,1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1]),colors:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1]),normals:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0])})},8786:(t,e,r)=>{"use strict";t.exports=function(t){var e=(t=t||{}).center||[0,0,0],r=t.up||[0,1,0],n=t.right||f(r),a=t.radius||1,i=t.theta||0,h=t.phi||0;if(e=[].slice.call(e,0,3),r=[].slice.call(r,0,3),s(r,r),n=[].slice.call(n,0,3),s(n,n),"eye"in t){var v=t.eye,m=[v[0]-e[0],v[1]-e[1],v[2]-e[2]];o(n,m,r),c(n[0],n[1],n[2])<1e-6?n=f(r):s(n,n),a=c(m[0],m[1],m[2]);var M=u(r,m)/a,d=u(n,m)/a;h=Math.acos(M),i=Math.acos(d)}return a=Math.log(a),new l(t.zoomMin,t.zoomMax,e,r,n,a,i,h)};var n=r(4173),a=r(4481),i=r(397),o=r(3858),s=r(91),u=r(8368);function c(t,e,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2))}function h(t){return Math.min(1,Math.max(-1,t))}function f(t){var e=Math.abs(t[0]),r=Math.abs(t[1]),n=Math.abs(t[2]),a=[0,0,0];e>Math.max(r,n)?a[2]=1:r>Math.max(e,n)?a[0]=1:a[1]=1;for(var i=0,o=0,u=0;u<3;++u)i+=t[u]*t[u],o+=a[u]*t[u];for(u=0;u<3;++u)a[u]-=o/i*t[u];return s(a,a),a}function l(t,e,r,a,i,o,s,u){this.center=n(r),this.up=n(a),this.right=n(i),this.radius=n([o]),this.angle=n([s,u]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(t,e),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var c=0;c<16;++c)this.computedMatrix[c]=.5;this.recalcMatrix(0)}var v=l.prototype;v.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},v.getDistanceLimits=function(t){var e=this.radius.bounds[0];return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},v.recalcMatrix=function(t){this.center.curve(t),this.up.curve(t),this.right.curve(t),this.radius.curve(t),this.angle.curve(t);for(var e=this.computedUp,r=this.computedRight,n=0,a=0,i=0;i<3;++i)a+=e[i]*r[i],n+=e[i]*e[i];var u=Math.sqrt(n),h=0;for(i=0;i<3;++i)r[i]-=e[i]*a/n,h+=r[i]*r[i],e[i]/=u;var f=Math.sqrt(h);for(i=0;i<3;++i)r[i]/=f;var l=this.computedToward;o(l,e,r),s(l,l);var v=Math.exp(this.computedRadius[0]),m=this.computedAngle[0],M=this.computedAngle[1],d=Math.cos(m),p=Math.sin(m),b=Math.cos(M),x=Math.sin(M),g=this.computedCenter,y=d*b,w=p*b,P=x,_=-d*x,q=-p*x,L=b,A=this.computedEye,T=this.computedMatrix;for(i=0;i<3;++i){var E=y*r[i]+w*l[i]+P*e[i];T[4*i+1]=_*r[i]+q*l[i]+L*e[i],T[4*i+2]=E,T[4*i+3]=0}var C=T[1],S=T[5],U=T[9],R=T[2],D=T[6],I=T[10],B=S*I-U*D,z=U*R-C*I,O=C*D-S*R,k=c(B,z,O);for(B/=k,z/=k,O/=k,T[0]=B,T[4]=z,T[8]=O,i=0;i<3;++i)A[i]=g[i]+T[2+4*i]*v;for(i=0;i<3;++i){h=0;for(var j=0;j<3;++j)h+=T[i+4*j]*A[j];T[12+i]=-h}T[15]=1},v.getMatrix=function(t,e){this.recalcMatrix(t);var r=this.computedMatrix;if(e){for(var n=0;n<16;++n)e[n]=r[n];return e}return r};var m=[0,0,0];v.rotate=function(t,e,r,n){if(this.angle.move(t,e,r),n){this.recalcMatrix(t);var a=this.computedMatrix;m[0]=a[2],m[1]=a[6],m[2]=a[10];for(var o=this.computedUp,s=this.computedRight,u=this.computedToward,c=0;c<3;++c)a[4*c]=o[c],a[4*c+1]=s[c],a[4*c+2]=u[c];for(i(a,a,n,m),c=0;c<3;++c)o[c]=a[4*c],s[c]=a[4*c+1];this.up.set(t,o[0],o[1],o[2]),this.right.set(t,s[0],s[1],s[2])}},v.pan=function(t,e,r,n){e=e||0,r=r||0,n=n||0,this.recalcMatrix(t);var a=this.computedMatrix,i=(Math.exp(this.computedRadius[0]),a[1]),o=a[5],s=a[9],u=c(i,o,s);i/=u,o/=u,s/=u;var h=a[0],f=a[4],l=a[8],v=h*i+f*o+l*s,m=c(h-=i*v,f-=o*v,l-=s*v),M=(h/=m)*e+i*r,d=(f/=m)*e+o*r,p=(l/=m)*e+s*r;this.center.move(t,M,d,p);var b=Math.exp(this.computedRadius[0]);b=Math.max(1e-4,b+n),this.radius.set(t,Math.log(b))},v.translate=function(t,e,r,n){this.center.move(t,e||0,r||0,n||0)},v.setMatrix=function(t,e,r,n){var i=1;"number"==typeof r&&(i=0|r),(i<0||i>3)&&(i=1);var o=(i+2)%3;e||(this.recalcMatrix(t),e=this.computedMatrix);var s=e[i],u=e[i+4],f=e[i+8];if(n){var l=Math.abs(s),v=Math.abs(u),m=Math.abs(f),M=Math.max(l,v,m);l===M?(s=s<0?-1:1,u=f=0):m===M?(f=f<0?-1:1,s=u=0):(u=u<0?-1:1,s=f=0)}else{var d=c(s,u,f);s/=d,u/=d,f/=d}var p,b,x=e[o],g=e[o+4],y=e[o+8],w=x*s+g*u+y*f,P=c(x-=s*w,g-=u*w,y-=f*w),_=u*(y/=P)-f*(g/=P),q=f*(x/=P)-s*y,L=s*g-u*x,A=c(_,q,L);if(_/=A,q/=A,L/=A,this.center.jump(t,N,Y,W),this.radius.idle(t),this.up.jump(t,s,u,f),this.right.jump(t,x,g,y),2===i){var T=e[1],E=e[5],C=e[9],S=T*x+E*g+C*y,U=T*_+E*q+C*L;p=B<0?-Math.PI/2:Math.PI/2,b=Math.atan2(U,S)}else{var R=e[2],D=e[6],I=e[10],B=R*s+D*u+I*f,z=R*x+D*g+I*y,O=R*_+D*q+I*L;p=Math.asin(h(B)),b=Math.atan2(O,z)}this.angle.jump(t,b,p),this.recalcMatrix(t);var k=e[2],j=e[6],G=e[10],V=this.computedMatrix;a(V,e);var F=V[15],N=V[12]/F,Y=V[13]/F,W=V[14]/F,X=Math.exp(this.computedRadius[0]);this.center.jump(t,N-k*X,Y-j*X,W-G*X)},v.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},v.idle=function(t){this.center.idle(t),this.up.idle(t),this.right.idle(t),this.radius.idle(t),this.angle.idle(t)},v.flush=function(t){this.center.flush(t),this.up.flush(t),this.right.flush(t),this.radius.flush(t),this.angle.flush(t)},v.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},v.lookAt=function(t,e,r,n){this.recalcMatrix(t),e=e||this.computedEye,r=r||this.computedCenter;var a=(n=n||this.computedUp)[0],i=n[1],o=n[2],s=c(a,i,o);if(!(s<1e-6)){a/=s,i/=s,o/=s;var u=e[0]-r[0],f=e[1]-r[1],l=e[2]-r[2],v=c(u,f,l);if(!(v<1e-6)){u/=v,f/=v,l/=v;var m=this.computedRight,M=m[0],d=m[1],p=m[2],b=a*M+i*d+o*p,x=c(M-=b*a,d-=b*i,p-=b*o);if(!(x<.01&&(x=c(M=i*l-o*f,d=o*u-a*l,p=a*f-i*u))<1e-6)){M/=x,d/=x,p/=x,this.up.set(t,a,i,o),this.right.set(t,M,d,p),this.center.set(t,r[0],r[1],r[2]),this.radius.set(t,Math.log(v));var g=i*p-o*d,y=o*M-a*p,w=a*d-i*M,P=c(g,y,w),_=a*u+i*f+o*l,q=M*u+d*f+p*l,L=(g/=P)*u+(y/=P)*f+(w/=P)*l,A=Math.asin(h(_)),T=Math.atan2(L,q),E=this.angle._state,C=E[E.length-1],S=E[E.length-2];C%=2*Math.PI;var U=Math.abs(C+2*Math.PI-T),R=Math.abs(C-T),D=Math.abs(C-2*Math.PI-T);U<R&&(C+=2*Math.PI),D<R&&(C-=2*Math.PI),this.angle.jump(this.angle.lastT(),C,S),this.angle.set(t,T,A)}}}}}},e={};function r(n){var a=e[n];if(void 0!==a)return a.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";const t=r(2449),e=(0,r(9316).CubeData1)();(0,t.hairSim)(e.vertexData,e.indexData,{},!0)})()})();
//# sourceMappingURL=main.bundle.js.map